(function(){var t={45:function(t,e,r){var n=r(3839);function o(t,e){return n(t,e,"pre")}t.exports=o},59:function(t,e,r){var n=r(7966),o=r(71379);function i(t,e){return o(t||[],e||[],n)}t.exports=i},588:function(t,e,r){var n=r(94804),o=r(64011);function i(t,e){return null!=t&&o(t,e,n)}t.exports=i},797:function(t,e,r){var n=r(97874),o=r(43559),i=r(86061),s=r(38478),a=r(7830),u=r(61764),c=1,h=2,d="[object Boolean]",l="[object Date]",f="[object Error]",g="[object Map]",p="[object Number]",v="[object RegExp]",y="[object Set]",m="[object String]",w="[object Symbol]",x="[object ArrayBuffer]",b="[object DataView]",E=n?n.prototype:void 0,N=E?E.valueOf:void 0;function M(t,e,r,n,E,M,_){switch(r){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!M(new o(t),new o(e)));case d:case l:case p:return i(+t,+e);case f:return t.name==e.name&&t.message==e.message;case v:case m:return t==e+"";case g:var A=a;case y:var k=n&c;if(A||(A=u),t.size!=e.size&&!k)return!1;var S=_.get(t);if(S)return S==e;n|=h,_.set(t,e);var O=s(A(t),A(e),n,E,M,_);return _["delete"](t),O;case w:if(N)return N.call(t)==N.call(e)}return!1}t.exports=M},984:function(t,e,r){var n=r(56636);function o(t){return n(this,t).get(t)}t.exports=o},1068:function(t,e,r){var n=r(36202),o=r(76039),i=r(26323),s=r(12626),a=r(85926),u=r(75102);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=o,c.prototype["delete"]=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,t.exports=c},1114:function(t,e,r){r(18111),r(7588);var n=r(27260),o=r(8961),i=r(1838);function s(t,e){var r,s=new o,a={},u=new i;function c(t){var n=t.v===r?t.w:t.v,o=u.priority(n);if(void 0!==o){var i=e(t);i<o&&(a[n]=r,u.decrease(n,i))}}if(0===t.nodeCount())return s;n.each(t.nodes(),(function(t){u.add(t,Number.POSITIVE_INFINITY),s.setNode(t)})),u.decrease(t.nodes()[0],0);var h=!1;while(u.size()>0){if(r=u.removeMin(),n.has(a,r))s.setEdge(r,a[r]);else{if(h)throw new Error("Input graph is not connected: "+t);h=!0}t.nodeEdges(r).forEach(c)}return s}t.exports=s},1235:function(t,e,r){var n=r(63066),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=t.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},1351:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});var n=r(57343);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,o=void 0===r?0:r,i=e.toIndex,s=void 0===i?t.length:i;if(o<0||o>=t.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=o||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[o],u=o+1;u<s;u++)t[u]>a&&(a=t[u]);return a}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,o=void 0===r?0:r,i=e.toIndex,s=void 0===i?t.length:i;if(o<0||o>=t.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=o||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[o],u=o+1;u<s;u++)t[u]<a&&(a=t[u]);return a}function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!(0,n.isAnyArray)(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var s=i(t),a=o(t);if(s===a)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var u=r.min,c=void 0===u?r.autoMinMax?s:0:u,h=r.max,d=void 0===h?r.autoMinMax?a:1:h;if(c>=d)throw new RangeError("min option must be smaller than max option");for(var l=(d-c)/(a-s),f=0;f<t.length;f++)e[f]=(t[f]-s)*l+c;return e}},1548:function(t,e,r){"use strict";var n=r(44576),o=r(79039),i=r(39519),s=r(84215),a=n.structuredClone;t.exports=!!a&&!o((function(){if("DENO"===s&&i>92||"NODE"===s&&i>94||"BROWSER"===s&&i>97)return!1;var t=new ArrayBuffer(8),e=a(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},1625:function(t,e,r){"use strict";var n=r(79504);t.exports=n({}.isPrototypeOf)},1676:function(t,e,r){r(44114);var n=r(63066),o=r(6421),i=r(12550);function s(t){var e=-1,r=null==t?0:t.length;this.__data__=new n;while(++e<r)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,t.exports=s},1767:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},1838:function(t,e,r){r(44114),r(18111),r(61701);var n=r(27260);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return n.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!n.has(r,t)){var o=this._arr,i=o.length;return r[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)},o.prototype._heapify=function(t){var e=this._arr,r=2*t,n=r+1,o=t;r<e.length&&(o=e[r].priority<e[o].priority?r:o,n<e.length&&(o=e[n].priority<e[o].priority?n:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){var e,r=this._arr,n=r[t].priority;while(0!==t){if(e=t>>1,r[e].priority<n)break;this._swap(t,e),t=e}},o.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,o=r[t],i=r[e];r[t]=i,r[e]=o,n[i.key]=t,n[o.key]=e}},1879:function(t,e,r){var n=r(55387);function o(t){try{n(t)}catch(e){if(e instanceof n.CycleException)return!1;throw e}return!0}t.exports=o},1976:function(t,e,r){var n=r(44823),o=r(43223),i=r(19692),s=r(42530),a=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,h=Object.prototype,d=c.toString,l=h.hasOwnProperty,f=RegExp("^"+d.call(l).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(t){if(!i(t)||o(t))return!1;var e=n(t)?f:u;return e.test(s(t))}t.exports=g},2360:function(t,e,r){"use strict";var n,o=r(28551),i=r(96801),s=r(88727),a=r(30421),u=r(20397),c=r(4055),h=r(66119),d=">",l="<",f="prototype",g="script",p=h("IE_PROTO"),v=function(){},y=function(t){return l+g+d+t+l+"/"+g+d},m=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},w=function(){var t,e=c("iframe"),r="java"+g+":";return e.style.display="none",u.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(y("document.F=Object")),t.close(),t.F},x=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}x="undefined"!=typeof document?document.domain&&n?m(n):w():m(n);var t=s.length;while(t--)delete x[f][s[t]];return x()};a[p]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(v[f]=o(t),r=new v,v[f]=null,r[p]=t):r=x(),void 0===e?r:i.f(r,e)}},2409:function(t,e,r){var n=r(16517),o=r(53698),i=r(85340);function s(t,e){return i(o(t,e,n),t+"")}t.exports=s},2442:function(t,e,r){var n=r(48465);function o(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);var i=r.length,s=e?i:-1,a=Object(r);while(e?s--:++s<i)if(!1===o(a[s],s,a))break;return r}}t.exports=o},3026:function(t,e,r){var n=r(95722),o=r(95353),i=r(85858);function s(t){return o(t)?i(t):n(t)}t.exports=s},3238:function(t,e,r){"use strict";var n=r(44576),o=r(77811),i=r(67394),s=n.DataView;t.exports=function(t){if(!o||0!==i(t))return!1;try{return new s(t),!1}catch(e){return!0}}},3388:function(t,e,r){var n=r(6849),o=Object.prototype,i=o.hasOwnProperty;function s(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}t.exports=s},3778:function(t){function e(t,e,r,n){var o=t.length,i=r+(n?1:-1);while(n?i--:++i<o)if(e(t[i],i,t))return i;return-1}t.exports=e},3839:function(t,e,r){r(44114);var n=r(27260);function o(t,e,r){n.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),s=[],a={};return n.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);i(t,e,"post"===r,a,o,s)})),s}function i(t,e,r,o,s,a){n.has(o,e)||(o[e]=!0,r||a.push(e),n.each(s(e),(function(e){i(t,e,r,o,s,a)})),r&&a.push(e))}t.exports=o},4055:function(t,e,r){"use strict";var n=r(44576),o=r(20034),i=n.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},4270:function(t){function e(t){return t!==t}t.exports=e},4355:function(t,e,r){var n=r(19692);function o(t){return t===t&&!n(t)}t.exports=o},4495:function(t,e,r){"use strict";var n=r(39519),o=r(79039),i=r(44576),s=i.String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4727:function(t,e,r){var n=r(99231),o=r(72715),i=r(588),s=r(14915),a=r(4355),u=r(82976),c=r(99416),h=1,d=2;function l(t,e){return s(t)&&a(e)?u(c(t),e):function(r){var s=o(r,t);return void 0===s&&s===e?i(r,t):n(e,s,h|d)}}t.exports=l},5576:function(t,e,r){var n=r(6849),o="__lodash_hash_undefined__",i=Object.prototype,s=i.hasOwnProperty;function a(t){var e=this.__data__;if(n){var r=e[t];return r===o?void 0:r}return s.call(e,t)?e[t]:void 0}t.exports=a},5987:function(t){function e(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},6247:function(t,e,r){"use strict";r(44114),r(18111),r(7588),r(61701);var n=r(34230),o=r(74332).Graph;function i(t,e,r,o){var i;do{i=n.uniqueId(o)}while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function s(t){var e=(new o).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){e.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},o=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+o.weight,minlen:Math.max(n.minlen,o.minlen)})})),e}function a(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){t.children(r).length||e.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){e.setEdge(r,t.edge(r))})),e}function u(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.outEdges(e),(function(e){r[e.w]=(r[e.w]||0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)}function c(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.inEdges(e),(function(e){r[e.v]=(r[e.v]||0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)}function h(t,e){var r,n,o=t.x,i=t.y,s=e.x-o,a=e.y-i,u=t.width/2,c=t.height/2;if(!s&&!a)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(a)*u>Math.abs(s)*c?(a<0&&(c=-c),r=c*s/a,n=c):(s<0&&(u=-u),r=u,n=u*a/s),{x:o+r,y:i+n}}function d(t){var e=n.map(n.range(p(t)+1),(function(){return[]}));return n.forEach(t.nodes(),(function(r){var o=t.node(r),i=o.rank;n.isUndefined(i)||(e[i][o.order]=r)})),e}function l(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank})));n.forEach(t.nodes(),(function(r){var o=t.node(r);n.has(o,"rank")&&(o.rank-=e)}))}function f(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank}))),r=[];n.forEach(t.nodes(),(function(n){var o=t.node(n).rank-e;r[o]||(r[o]=[]),r[o].push(n)}));var o=0,i=t.graph().nodeRankFactor;n.forEach(r,(function(e,r){n.isUndefined(e)&&r%i!==0?--o:o&&n.forEach(e,(function(e){t.node(e).rank+=o}))}))}function g(t,e,r,n){var o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=n),i(t,"border",o,e)}function p(t){return n.max(n.map(t.nodes(),(function(e){var r=t.node(e).rank;if(!n.isUndefined(r))return r})))}function v(t,e){var r={lhs:[],rhs:[]};return n.forEach(t,(function(t){e(t)?r.lhs.push(t):r.rhs.push(t)})),r}function y(t,e){var r=n.now();try{return e()}finally{console.log(t+" time: "+(n.now()-r)+"ms")}}function m(t,e){return e()}t.exports={addDummyNode:i,simplify:s,asNonCompoundGraph:a,successorWeights:u,predecessorWeights:c,intersectRect:h,buildLayerMatrix:d,normalizeRanks:l,removeEmptyRanks:f,addBorderNode:g,maxRank:p,partition:v,time:y,notime:m}},6421:function(t){var e="__lodash_hash_undefined__";function r(t){return this.__data__.set(t,e),this}t.exports=r},6849:function(t,e,r){var n=r(29531),o=n(Object,"create");t.exports=o},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7022:function(t,e,r){var n=r(3778),o=r(4270),i=r(64234);function s(t,e,r){return e===e?i(t,e,r):n(t,o,r)}t.exports=s},7040:function(t,e,r){"use strict";var n=r(4495);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7096:function(t,e,r){var n=r(48882),o=r(75360),i=r(82884),s=r(22613),a=r(58728),u="[object Boolean]",c="[object Date]",h="[object Map]",d="[object Number]",l="[object RegExp]",f="[object Set]",g="[object String]",p="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",m="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",b="[object Int16Array]",E="[object Int32Array]",N="[object Uint8Array]",M="[object Uint8ClampedArray]",_="[object Uint16Array]",A="[object Uint32Array]";function k(t,e,r){var k=t.constructor;switch(e){case v:return n(t);case u:case c:return new k(+t);case y:return o(t,r);case m:case w:case x:case b:case E:case N:case M:case _:case A:return a(t,r);case h:return new k;case d:case g:return new k(t);case l:return i(t);case f:return new k;case p:return s(t)}}t.exports=k},7588:function(t,e,r){"use strict";var n=r(46518),o=r(72652),i=r(79306),s=r(28551),a=r(1767);n({target:"Iterator",proto:!0,real:!0},{forEach:function(t){s(this),i(t);var e=a(this),r=0;o(e,(function(e){t(e,r++)}),{IS_RECORD:!0})}})},7622:function(t,e,r){"use strict";r(18111),r(7588),r(61701);var n=r(34230);function o(t,e){for(var r=0,n=1;n<e.length;++n)r+=i(t,e[n-1],e[n]);return r}function i(t,e,r){var o=n.zipObject(r,n.map(r,(function(t,e){return e}))),i=n.flatten(n.map(e,(function(e){return n.sortBy(n.map(t.outEdges(e),(function(e){return{pos:o[e.w],weight:t.edge(e).weight}})),"pos")})),!0),s=1;while(s<r.length)s<<=1;var a=2*s-1;s-=1;var u=n.map(new Array(a),(function(){return 0})),c=0;return n.forEach(i.forEach((function(t){var e=t.pos+s;u[e]+=t.weight;var r=0;while(e>0)e%2&&(r+=u[e+1]),e=e-1>>1,u[e]+=t.weight;c+=t.weight*r}))),c}t.exports=o},7830:function(t,e,r){function n(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}r(18111),r(7588),t.exports=n},7966:function(t,e,r){var n=r(39889),o=r(86061),i=Object.prototype,s=i.hasOwnProperty;function a(t,e,r){var i=t[e];s.call(t,e)&&o(i,r)&&(void 0!==r||e in t)||n(t,e,r)}t.exports=a},8081:function(t,e,r){var n=r(94857);function o(t){var e=null==t?0:t.length;return e?n(t,1):[]}t.exports=o},8845:function(t,e,r){r(44114);var n=r(43381),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=s},8961:function(t,e,r){"use strict";r(18111),r(22489),r(18237);var n=r(27260);t.exports=a;var o="\0",i="\0",s="";function a(t){this._isDirected=!n.has(t,"directed")||t.directed,this._isMultigraph=!!n.has(t,"multigraph")&&t.multigraph,this._isCompound=!!n.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=n.constant(void 0),this._defaultEdgeLabelFn=n.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function u(t,e){t[e]?t[e]++:t[e]=1}function c(t,e){--t[e]||delete t[e]}function h(t,e,r,i){var a=""+e,u=""+r;if(!t&&a>u){var c=a;a=u,u=c}return a+s+u+s+(n.isUndefined(i)?o:i)}function d(t,e,r,n){var o=""+e,i=""+r;if(!t&&o>i){var s=o;o=i,i=s}var a={v:o,w:i};return n&&(a.name=n),a}function l(t,e){return h(t,e.v,e.w,e.name)}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(t){return this._label=t,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(t){return n.isFunction(t)||(t=n.constant(t)),this._defaultNodeLabelFn=t,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return n.keys(this._nodes)},a.prototype.sources=function(){var t=this;return n.filter(this.nodes(),(function(e){return n.isEmpty(t._in[e])}))},a.prototype.sinks=function(){var t=this;return n.filter(this.nodes(),(function(e){return n.isEmpty(t._out[e])}))},a.prototype.setNodes=function(t,e){var r=arguments,o=this;return n.each(t,(function(t){r.length>1?o.setNode(t,e):o.setNode(t)})),this},a.prototype.setNode=function(t,e){return n.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=i,this._children[t]={},this._children[i][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},a.prototype.node=function(t){return this._nodes[t]},a.prototype.hasNode=function(t){return n.has(this._nodes,t)},a.prototype.removeNode=function(t){var e=this;if(n.has(this._nodes,t)){var r=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],n.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),n.each(n.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],n.each(n.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},a.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n.isUndefined(e))e=i;else{e+="";for(var r=e;!n.isUndefined(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},a.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},a.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==i)return e}},a.prototype.children=function(t){if(n.isUndefined(t)&&(t=i),this._isCompound){var e=this._children[t];if(e)return n.keys(e)}else{if(t===i)return this.nodes();if(this.hasNode(t))return[]}},a.prototype.predecessors=function(t){var e=this._preds[t];if(e)return n.keys(e)},a.prototype.successors=function(t){var e=this._sucs[t];if(e)return n.keys(e)},a.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return n.union(e,this.successors(t))},a.prototype.isLeaf=function(t){var e;return e=this.isDirected()?this.successors(t):this.neighbors(t),0===e.length},a.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;n.each(this._nodes,(function(r,n){t(n)&&e.setNode(n,r)})),n.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))}));var o={};function i(t){var n=r.parent(t);return void 0===n||e.hasNode(n)?(o[t]=n,n):n in o?o[n]:i(n)}return this._isCompound&&n.each(e.nodes(),(function(t){e.setParent(t,i(t))})),e},a.prototype.setDefaultEdgeLabel=function(t){return n.isFunction(t)||(t=n.constant(t)),this._defaultEdgeLabelFn=t,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return n.values(this._edgeObjs)},a.prototype.setPath=function(t,e){var r=this,o=arguments;return n.reduce(t,(function(t,n){return o.length>1?r.setEdge(t,n,e):r.setEdge(t,n),n})),this},a.prototype.setEdge=function(){var t,e,r,o,i=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(t=s.v,e=s.w,r=s.name,2===arguments.length&&(o=arguments[1],i=!0)):(t=s,e=arguments[1],r=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),t=""+t,e=""+e,n.isUndefined(r)||(r=""+r);var a=h(this._isDirected,t,e,r);if(n.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=o),this;if(!n.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[a]=i?o:this._defaultEdgeLabelFn(t,e,r);var c=d(this._isDirected,t,e,r);return t=c.v,e=c.w,Object.freeze(c),this._edgeObjs[a]=c,u(this._preds[e],t),u(this._sucs[t],e),this._in[e][a]=c,this._out[t][a]=c,this._edgeCount++,this},a.prototype.edge=function(t,e,r){var n=1===arguments.length?l(this._isDirected,arguments[0]):h(this._isDirected,t,e,r);return this._edgeLabels[n]},a.prototype.hasEdge=function(t,e,r){var o=1===arguments.length?l(this._isDirected,arguments[0]):h(this._isDirected,t,e,r);return n.has(this._edgeLabels,o)},a.prototype.removeEdge=function(t,e,r){var n=1===arguments.length?l(this._isDirected,arguments[0]):h(this._isDirected,t,e,r),o=this._edgeObjs[n];return o&&(t=o.v,e=o.w,delete this._edgeLabels[n],delete this._edgeObjs[n],c(this._preds[e],t),c(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},a.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var o=n.values(r);return e?n.filter(o,(function(t){return t.v===e})):o}},a.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var o=n.values(r);return e?n.filter(o,(function(t){return t.w===e})):o}},a.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}},9386:function(t,e,r){var n=r(86061);function o(t,e){var r=t.length;while(r--)if(n(t[r][0],e))return r;return-1}t.exports=o},9539:function(t,e,r){"use strict";var n=r(69565),o=r(28551),i=r(55966);t.exports=function(t,e,r){var s,a;o(t);try{if(s=i(t,"return"),!s){if("throw"===e)throw r;return r}s=n(s,t)}catch(u){a=!0,s=u}if("throw"===e)throw r;if(a)throw s;return o(s),r}},9765:function(t,e,r){var n=r(14794),o=r(21643),i=r(58728),s=r(35522),a=r(58780),u=r(15219),c=r(85366),h=r(55390),d=r(70317),l=r(44823),f=r(19692),g=r(60712),p=r(29562),v=r(73227),y=r(92911);function m(t,e,r,m,w,x,b){var E=v(t,r),N=v(e,r),M=b.get(N);if(M)n(t,r,M);else{var _=x?x(E,N,r+"",t,e,b):void 0,A=void 0===_;if(A){var k=c(N),S=!k&&d(N),O=!k&&!S&&p(N);_=N,k||S||O?c(E)?_=E:h(E)?_=s(E):S?(A=!1,_=o(N,!0)):O?(A=!1,_=i(N,!0)):_=[]:g(N)||u(N)?(_=E,u(E)?_=y(E):f(E)&&!l(E)||(_=a(N))):A=!1}A&&(b.set(N,_),w(_,N,m,x,b),b["delete"](N)),n(t,r,_)}}t.exports=m},10350:function(t,e,r){"use strict";var n=r(43724),o=r(39297),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),u=a&&"something"===function(){}.name,c=a&&(!n||n&&s(i,"name").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},10405:function(t,e,r){var n=r(2409),o=r(86061),i=r(31207),s=r(58664),a=Object.prototype,u=a.hasOwnProperty,c=n((function(t,e){t=Object(t);var r=-1,n=e.length,c=n>2?e[2]:void 0;c&&i(e[0],e[1],c)&&(n=1);while(++r<n){var h=e[r],d=s(h),l=-1,f=d.length;while(++l<f){var g=d[l],p=t[g];(void 0===p||o(p,a[g])&&!u.call(t,g))&&(t[g]=h[g])}}return t}));t.exports=c},10757:function(t,e,r){"use strict";var n=r(97751),o=r(94901),i=r(1625),s=r(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&i(e.prototype,a(t))}},10993:function(t,e,r){var n=r(31945),o=r(84276),i=r(80770),s=i&&i.isMap,a=s?o(s):n;t.exports=a},11567:function(t,e,r){var n=r(29531),o=r(68606),i=n(o,"DataView");t.exports=i},12211:function(t,e,r){"use strict";var n=r(79039);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},12239:function(t,e,r){"use strict";r(44114),r(18111),r(7588);var n=r(34230),o=r(56376);function i(t){var e="greedy"===t.graph().acyclicer?o(t,r(t)):s(t);function r(t){return function(e){return t.edge(e).weight}}n.forEach(e,(function(e){var r=t.edge(e);t.removeEdge(e),r.forwardName=e.name,r.reversed=!0,t.setEdge(e.w,e.v,r,n.uniqueId("rev"))}))}function s(t){var e=[],r={},o={};function i(s){n.has(o,s)||(o[s]=!0,r[s]=!0,n.forEach(t.outEdges(s),(function(t){n.has(r,t.w)?e.push(t):i(t.w)})),delete r[s])}return n.forEach(t.nodes(),i),e}function a(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}}))}t.exports={run:i,undo:a}},12550:function(t){function e(t){return this.__data__.has(t)}t.exports=e},12626:function(t){function e(t){return this.__data__.get(t)}t.exports=e},13236:function(t){function e(){return!1}t.exports=e},13239:function(t,e,r){var n=r(53505);function o(t,e,r){var o=-1,i=t.criteria,s=e.criteria,a=i.length,u=r.length;while(++o<a){var c=n(i[o],s[o]);if(c){if(o>=u)return c;var h=r[o];return c*("desc"==h?-1:1)}}return t.index-e.index}t.exports=o},13579:function(t,e,r){"use strict";var n=r(46518),o=r(72652),i=r(79306),s=r(28551),a=r(1767);n({target:"Iterator",proto:!0,real:!0},{some:function(t){s(this),i(t);var e=a(this),r=0;return o(e,(function(e,n){if(t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},13867:function(t,e,r){var n=r(77083),o=r(45556),i=r(16517),s=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=s},13883:function(t){function e(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=e},13925:function(t,e,r){"use strict";var n=r(20034);t.exports=function(t){return n(t)||null===t}},14732:function(t,e,r){r(18111),r(7588),r(18237);var n=r(34230),o=r(6247);function i(t){var e=o.addDummyNode(t,"root",{},"_root"),r=a(t),i=n.max(n.values(r))-1,c=2*i+1;t.graph().nestingRoot=e,n.forEach(t.edges(),(function(e){t.edge(e).minlen*=c}));var h=u(t)+1;n.forEach(t.children(),(function(n){s(t,e,c,h,i,r,n)})),t.graph().nodeRankFactor=c}function s(t,e,r,i,a,u,c){var h=t.children(c);if(h.length){var d=o.addBorderNode(t,"_bt"),l=o.addBorderNode(t,"_bb"),f=t.node(c);t.setParent(d,c),f.borderTop=d,t.setParent(l,c),f.borderBottom=l,n.forEach(h,(function(n){s(t,e,r,i,a,u,n);var o=t.node(n),h=o.borderTop?o.borderTop:n,f=o.borderBottom?o.borderBottom:n,g=o.borderTop?i:2*i,p=h!==f?1:a-u[c]+1;t.setEdge(d,h,{weight:g,minlen:p,nestingEdge:!0}),t.setEdge(f,l,{weight:g,minlen:p,nestingEdge:!0})})),t.parent(c)||t.setEdge(e,d,{weight:0,minlen:a+u[c]})}else c!==e&&t.setEdge(e,c,{weight:0,minlen:r})}function a(t){var e={};function r(o,i){var s=t.children(o);s&&s.length&&n.forEach(s,(function(t){r(t,i+1)})),e[o]=i}return n.forEach(t.children(),(function(t){r(t,1)})),e}function u(t){return n.reduce(t.edges(),(function(e,r){return e+t.edge(r).weight}),0)}function c(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,n.forEach(t.edges(),(function(e){var r=t.edge(e);r.nestingEdge&&t.removeEdge(e)}))}t.exports={run:i,cleanup:c}},14762:function(t,e,r){var n=r(74473),o=r(51297),i=r(5576),s=r(3388),a=r(51916);function u(t){var e=-1,r=null==t?0:t.length;this.clear();while(++e<r){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype["delete"]=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=a,t.exports=u},14784:function(t){function e(t,e){var r=-1,n=null==t?0:t.length;while(++r<n)if(!1===e(t[r],r,t))break;return t}t.exports=e},14794:function(t,e,r){var n=r(39889),o=r(86061);function i(t,e,r){(void 0!==r&&!o(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}t.exports=i},14807:function(t){t.exports="0.8.5"},14915:function(t,e,r){var n=r(85366),o=r(29299),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||(s.test(t)||!i.test(t)||null!=e&&t in Object(e))}t.exports=a},15024:function(t,e,r){"use strict";var n=r(46518),o=r(83650),i=r(84916);n({target:"Set",proto:!0,real:!0,forced:!i("symmetricDifference")},{symmetricDifference:o})},15219:function(t,e,r){var n=r(38843),o=r(85091),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return o(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},15668:function(t){function e(t,e,r){var n=-1,o=null==t?0:t.length;while(++n<o)if(r(e,t[n]))return!0;return!1}t.exports=e},15686:function(t,e,r){var n=r(57422),o=r(4727),i=r(16517),s=r(85366),a=r(37746);function u(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?s(t)?o(t[0],t[1]):n(t):a(t)}t.exports=u},15841:function(t,e,r){var n=r(43575);function o(t,e){return n(e,(function(e){return t[e]}))}t.exports=o},15881:function(t,e,r){var n=r(14784),o=r(63034),i=r(52701),s=r(85366);function a(t,e){var r=s(t)?n:o;return r(t,i(e))}t.exports=a},16193:function(t,e,r){"use strict";var n=r(84215);t.exports="NODE"===n},16259:function(t,e,r){r(18111),r(7588);var n=r(27260);t.exports=i;var o=n.constant(1);function i(t,e,r){return s(t,e||o,r||function(e){return t.outEdges(e)})}function s(t,e,r){var n={},o=t.nodes();return o.forEach((function(t){n[t]={},n[t][t]={distance:0},o.forEach((function(e){t!==e&&(n[t][e]={distance:Number.POSITIVE_INFINITY})})),r(t).forEach((function(r){var o=r.v===t?r.w:r.v,i=e(r);n[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=n[t];o.forEach((function(r){var i=n[r];o.forEach((function(r){var n=i[t],o=e[r],s=i[r],a=n.distance+o.distance;a<s.distance&&(s.distance=a,s.predecessor=o.predecessor)}))}))})),n}},16281:function(t,e,r){var n=r(14762),o=r(36202),i=r(27546);function s(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}t.exports=s},16517:function(t){function e(t){return t}t.exports=e},16573:function(t,e,r){"use strict";var n=r(43724),o=r(62106),i=r(3238),s=ArrayBuffer.prototype;n&&!("detached"in s)&&o(s,"detached",{configurable:!0,get:function(){return i(this)}})},16823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(r){return"Object"}}},17642:function(t,e,r){"use strict";var n=r(46518),o=r(83440),i=r(84916),s=!i("difference",(function(t){return 0===t.size}));n({target:"Set",proto:!0,real:!0,forced:s},{difference:o})},18014:function(t,e,r){"use strict";var n=r(91291),o=Math.min;t.exports=function(t){var e=n(t);return e>0?o(e,9007199254740991):0}},18111:function(t,e,r){"use strict";var n=r(46518),o=r(44576),i=r(90679),s=r(28551),a=r(94901),u=r(42787),c=r(62106),h=r(97040),d=r(79039),l=r(39297),f=r(78227),g=r(57657).IteratorPrototype,p=r(43724),v=r(96395),y="constructor",m="Iterator",w=f("toStringTag"),x=TypeError,b=o[m],E=v||!a(b)||b.prototype!==g||!d((function(){b({})})),N=function(){if(i(this,g),u(this)===g)throw new x("Abstract class Iterator not directly constructable")},M=function(t,e){p?c(g,t,{configurable:!0,get:function(){return e},set:function(e){if(s(this),this===g)throw new x("You can't redefine this property");l(this,t)?this[t]=e:h(this,t,e)}}):g[t]=e};l(g,w)||M(w,m),!E&&l(g,y)&&g[y]!==Object||M(y,N),N.prototype=g,n({global:!0,constructor:!0,forced:E},{Iterator:N})},18237:function(t,e,r){"use strict";var n=r(46518),o=r(72652),i=r(79306),s=r(28551),a=r(1767),u=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(t){s(this),i(t);var e=a(this),r=arguments.length<2,n=r?void 0:arguments[1],c=0;if(o(e,(function(e){r?(r=!1,n=e):n=t(n,e,c),c++}),{IS_RECORD:!0}),r)throw new u("Reduce of empty iterator with no initial value");return n}})},18727:function(t,e,r){"use strict";var n=r(36955);t.exports=function(t){var e=n(t);return"BigInt64Array"===e||"BigUint64Array"===e}},18840:function(t,e,r){r(18111),r(7588),r(18237);var n=r(34230),o=r(6247),i=r(74332).Graph;function s(t){var e=o.buildLayerMatrix(t),r=new i({compound:!0,multigraph:!0}).setGraph({});return n.forEach(t.nodes(),(function(e){r.setNode(e,{label:e}),r.setParent(e,"layer"+t.node(e).rank)})),n.forEach(t.edges(),(function(t){r.setEdge(t.v,t.w,{},t.name)})),n.forEach(e,(function(t,e){var o="layer"+e;r.setNode(o,{rank:"same"}),n.reduce(t,(function(t,e){return r.setEdge(t,e,{style:"invis"}),e}))})),r}t.exports={debugOrdering:s}},19462:function(t,e,r){"use strict";var n=r(69565),o=r(2360),i=r(66699),s=r(56279),a=r(78227),u=r(91181),c=r(55966),h=r(57657).IteratorPrototype,d=r(62529),l=r(9539),f=a("toStringTag"),g="IteratorHelper",p="WrapForValidIterator",v=u.set,y=function(t){var e=u.getterFor(t?p:g);return s(o(h),{next:function(){var r=e(this);if(t)return r.nextHandler();if(r.done)return d(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:d(n,r.done)}catch(o){throw r.done=!0,o}},return:function(){var r=e(this),o=r.iterator;if(r.done=!0,t){var i=c(o,"return");return i?n(i,o):d(void 0,!0)}if(r.inner)try{l(r.inner.iterator,"normal")}catch(s){return l(o,"throw",s)}return o&&l(o,"normal"),d(void 0,!0)}})},m=y(!0),w=y(!1);i(w,f,"Iterator Helper"),t.exports=function(t,e,r){var n=function(n,o){o?(o.iterator=n.iterator,o.next=n.next):o=n,o.type=e?p:g,o.returnHandlerResult=!!r,o.nextHandler=t,o.counter=0,o.done=!1,v(this,o)};return n.prototype=e?m:w,n}},19496:function(t,e,r){var n=r(9386);function o(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}t.exports=o},19505:function(t,e,r){var n=r(63034),o=r(48465);function i(t,e){var r=-1,i=o(t)?Array(t.length):[];return n(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}t.exports=i},19617:function(t,e,r){"use strict";var n=r(25397),o=r(35610),i=r(26198),s=function(t){return function(e,r,s){var a=n(e),u=i(a);if(0===u)return!t&&-1;var c,h=o(s,u);if(t&&r!==r){while(u>h)if(c=a[h++],c!==c)return!0}else for(;u>h;h++)if((t||h in a)&&a[h]===r)return t||h||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},19692:function(t){function e(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=e},19804:function(t,e,r){var n=r(9386);function o(t){return n(this.__data__,t)>-1}t.exports=o},19903:function(t,e,r){var n=r(8081),o=r(53698),i=r(85340);function s(t){return i(o(t,void 0,n),t+"")}t.exports=s},20034:function(t,e,r){"use strict";var n=r(94901);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},20081:function(t,e,r){var n=r(47045)["default"],o=r(74612);function i(t){var e=o(t,"string");return"symbol"==n(e)?e:e+""}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},20116:function(t,e,r){"use strict";var n=r(46518),o=r(72652),i=r(79306),s=r(28551),a=r(1767);n({target:"Iterator",proto:!0,real:!0},{find:function(t){s(this),i(t);var e=a(this),r=0;return o(e,(function(e,n){if(t(e,r++))return n(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},20288:function(t){function e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}t.exports=e},20397:function(t,e,r){"use strict";var n=r(97751);t.exports=n("document","documentElement")},20502:function(t,e,r){r(18111),r(7588);var n=r(1068),o=r(14784),i=r(7966),s=r(49866),a=r(42477),u=r(21643),c=r(35522),h=r(88090),d=r(91261),l=r(92329),f=r(22354),g=r(60710),p=r(70374),v=r(7096),y=r(58780),m=r(85366),w=r(70317),x=r(10993),b=r(19692),E=r(57255),N=r(88987),M=r(58664),_=1,A=2,k=4,S="[object Arguments]",O="[object Array]",j="[object Boolean]",z="[object Date]",R="[object Error]",I="[object Function]",T="[object GeneratorFunction]",P="[object Map]",C="[object Number]",D="[object Object]",L="[object RegExp]",F="[object Set]",q="[object String]",V="[object Symbol]",B="[object WeakMap]",U="[object ArrayBuffer]",G="[object DataView]",$="[object Float32Array]",W="[object Float64Array]",Y="[object Int8Array]",H="[object Int16Array]",K="[object Int32Array]",J="[object Uint8Array]",X="[object Uint8ClampedArray]",Q="[object Uint16Array]",Z="[object Uint32Array]",tt={};function et(t,e,r,O,j,z){var R,P=e&_,C=e&A,L=e&k;if(r&&(R=j?r(t,O,j,z):r(t)),void 0!==R)return R;if(!b(t))return t;var F=m(t);if(F){if(R=p(t),!P)return c(t,R)}else{var q=g(t),V=q==I||q==T;if(w(t))return u(t,P);if(q==D||q==S||V&&!j){if(R=C||V?{}:y(t),!P)return C?d(t,a(R,t)):h(t,s(R,t))}else{if(!tt[q])return j?t:{};R=v(t,q,P)}}z||(z=new n);var B=z.get(t);if(B)return B;z.set(t,R),E(t)?t.forEach((function(n){R.add(et(n,e,r,n,t,z))})):x(t)&&t.forEach((function(n,o){R.set(o,et(n,e,r,o,t,z))}));var U=L?C?f:l:C?M:N,G=F?void 0:U(t);return o(G||t,(function(n,o){G&&(o=n,n=t[o]),i(R,o,et(n,e,r,o,t,z))})),R}tt[S]=tt[O]=tt[U]=tt[G]=tt[j]=tt[z]=tt[$]=tt[W]=tt[Y]=tt[H]=tt[K]=tt[P]=tt[C]=tt[D]=tt[L]=tt[F]=tt[q]=tt[V]=tt[J]=tt[X]=tt[Q]=tt[Z]=!0,tt[R]=tt[I]=tt[B]=!1,t.exports=et},20713:function(t,e,r){"use strict";var n=r(69565),o=r(79306),i=r(28551),s=r(1767),a=r(19462),u=r(96319),c=a((function(){var t=this.iterator,e=i(n(this.next,t)),r=this.done=!!e.done;if(!r)return u(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return i(this),o(t),new c(s(this),{mapper:t})}},21087:function(t,e,r){var n=r(68606),o=function(){return n.Date.now()};t.exports=o},21268:function(t,e,r){var n=r(62297),o=r(85366);function i(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}t.exports=i},21413:function(t,e,r){var n=r(84243),o=1/0,i=17976931348623157e292;function s(t){if(!t)return 0===t?t:0;if(t=n(t),t===o||t===-o){var e=t<0?-1:1;return e*i}return t===t?t:0}t.exports=s},21643:function(t,e,r){t=r.nmd(t);var n=r(68606),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o,a=s?n.Buffer:void 0,u=a?a.allocUnsafe:void 0;function c(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}t.exports=c},22046:function(t,e,r){var n=r(32188),o=r(27260);function i(t,e,r){return o.transform(t.nodes(),(function(o,i){o[i]=n(t,i,e,r)}),{})}t.exports=i},22149:function(t,e,r){"use strict";r(44114),r(18111),r(7588);var n=r(34230),o=r(12239),i=r(23668),s=r(22358),a=r(6247).normalizeRanks,u=r(87969),c=r(6247).removeEmptyRanks,h=r(14732),d=r(89678),l=r(27315),f=r(58804),g=r(45475),p=r(6247),v=r(74332).Graph;function y(t,e){var r=e&&e.debugTiming?p.time:p.notime;r("layout",(function(){var e=r("  buildLayoutGraph",(function(){return S(t)}));r("  runLayout",(function(){m(e,r)})),r("  updateInputGraph",(function(){w(t,e)}))}))}function m(t,e){e("    makeSpaceForEdgeLabels",(function(){O(t)})),e("    removeSelfEdges",(function(){L(t)})),e("    acyclic",(function(){o.run(t)})),e("    nestingGraph.run",(function(){h.run(t)})),e("    rank",(function(){s(p.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){j(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){h.cleanup(t)})),e("    normalizeRanks",(function(){a(t)})),e("    assignRankMinMax",(function(){z(t)})),e("    removeEdgeLabelProxies",(function(){R(t)})),e("    normalize.run",(function(){i.run(t)})),e("    parentDummyChains",(function(){u(t)})),e("    addBorderSegments",(function(){d(t)})),e("    order",(function(){f(t)})),e("    insertSelfEdges",(function(){F(t)})),e("    adjustCoordinateSystem",(function(){l.adjust(t)})),e("    position",(function(){g(t)})),e("    positionSelfEdges",(function(){q(t)})),e("    removeBorderNodes",(function(){D(t)})),e("    normalize.undo",(function(){i.undo(t)})),e("    fixupEdgeLabelCoords",(function(){P(t)})),e("    undoCoordinateSystem",(function(){l.undo(t)})),e("    translateGraph",(function(){I(t)})),e("    assignNodeIntersects",(function(){T(t)})),e("    reversePoints",(function(){C(t)})),e("    acyclic.undo",(function(){o.undo(t)}))}function w(t,e){n.forEach(t.nodes(),(function(r){var n=t.node(r),o=e.node(r);n&&(n.x=o.x,n.y=o.y,e.children(r).length&&(n.width=o.width,n.height=o.height))})),n.forEach(t.edges(),(function(r){var o=t.edge(r),i=e.edge(r);o.points=i.points,n.has(i,"x")&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}t.exports=y;var x=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],N=["width","height"],M={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],A={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function S(t){var e=new v({multigraph:!0,compound:!0}),r=B(t.graph());return e.setGraph(n.merge({},b,V(r,x),n.pick(r,E))),n.forEach(t.nodes(),(function(r){var o=B(t.node(r));e.setNode(r,n.defaults(V(o,N),M)),e.setParent(r,t.parent(r))})),n.forEach(t.edges(),(function(r){var o=B(t.edge(r));e.setEdge(r,n.merge({},A,V(o,_),n.pick(o,k)))})),e}function O(t){var e=t.graph();e.ranksep/=2,n.forEach(t.edges(),(function(r){var n=t.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)}))}function j(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),o=t.node(e.w),i={rank:(o.rank-n.rank)/2+n.rank,e:e};p.addDummyNode(t,"edge-proxy",i,"_ep")}}))}function z(t){var e=0;n.forEach(t.nodes(),(function(r){var o=t.node(r);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=n.max(e,o.maxRank))})),t.graph().maxRank=e}function R(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);"edge-proxy"===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))}))}function I(t){var e=Number.POSITIVE_INFINITY,r=0,o=Number.POSITIVE_INFINITY,i=0,s=t.graph(),a=s.marginx||0,u=s.marginy||0;function c(t){var n=t.x,s=t.y,a=t.width,u=t.height;e=Math.min(e,n-a/2),r=Math.max(r,n+a/2),o=Math.min(o,s-u/2),i=Math.max(i,s+u/2)}n.forEach(t.nodes(),(function(e){c(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.has(r,"x")&&c(r)})),e-=a,o-=u,n.forEach(t.nodes(),(function(r){var n=t.node(r);n.x-=e,n.y-=o})),n.forEach(t.edges(),(function(r){var i=t.edge(r);n.forEach(i.points,(function(t){t.x-=e,t.y-=o})),n.has(i,"x")&&(i.x-=e),n.has(i,"y")&&(i.y-=o)})),s.width=r-e+a,s.height=i-o+u}function T(t){n.forEach(t.edges(),(function(e){var r,n,o=t.edge(e),i=t.node(e.v),s=t.node(e.w);o.points?(r=o.points[0],n=o.points[o.points.length-1]):(o.points=[],r=s,n=i),o.points.unshift(p.intersectRect(i,r)),o.points.push(p.intersectRect(s,n))}))}function P(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(n.has(r,"x"))switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}}))}function C(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);r.reversed&&r.points.reverse()}))}function D(t){n.forEach(t.nodes(),(function(e){if(t.children(e).length){var r=t.node(e),o=t.node(r.borderTop),i=t.node(r.borderBottom),s=t.node(n.last(r.borderLeft)),a=t.node(n.last(r.borderRight));r.width=Math.abs(a.x-s.x),r.height=Math.abs(i.y-o.y),r.x=s.x+r.width/2,r.y=o.y+r.height/2}})),n.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}function L(t){n.forEach(t.edges(),(function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}function F(t){var e=p.buildLayerMatrix(t);n.forEach(e,(function(e){var r=0;n.forEach(e,(function(e,o){var i=t.node(e);i.order=o+r,n.forEach(i.selfEdges,(function(e){p.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++r,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}function q(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);if("selfedge"===r.dummy){var n=t.node(r.e.v),o=n.x+n.width/2,i=n.y,s=r.x-o,a=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:o+2*s/3,y:i-a},{x:o+5*s/6,y:i-a},{x:o+s,y:i},{x:o+5*s/6,y:i+a},{x:o+2*s/3,y:i+a}],r.label.x=r.x,r.label.y=r.y}}))}function V(t,e){return n.mapValues(n.pick(t,e),Number)}function B(t){var e={};return n.forEach(t,(function(t,r){e[r.toLowerCase()]=t})),e}},22195:function(t,e,r){"use strict";var n=r(79504),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1)}},22215:function(t){function e(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=e},22354:function(t,e,r){var n=r(21268),o=r(98184),i=r(58664);function s(t){return n(t,i,o)}t.exports=s},22358:function(t,e,r){"use strict";var n=r(30216),o=n.longestPath,i=r(39414),s=r(52587);function a(t){switch(t.graph().ranker){case"network-simplex":h(t);break;case"tight-tree":c(t);break;case"longest-path":u(t);break;default:h(t)}}t.exports=a;var u=o;function c(t){o(t),i(t)}function h(t){s(t)}},22489:function(t,e,r){"use strict";var n=r(46518),o=r(69565),i=r(79306),s=r(28551),a=r(1767),u=r(19462),c=r(96319),h=r(96395),d=u((function(){var t,e,r,n=this.iterator,i=this.predicate,a=this.next;while(1){if(t=s(o(a,n)),e=this.done=!!t.done,e)return;if(r=t.value,c(n,i,[r,this.counter++],!0))return r}}));n({target:"Iterator",proto:!0,real:!0,forced:h},{filter:function(t){return s(this),i(t),new d(a(this),{predicate:t})}})},22613:function(t,e,r){var n=r(97874),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;function s(t){return i?Object(i.call(t)):{}}t.exports=s},23668:function(t,e,r){"use strict";r(44114),r(18111),r(7588);var n=r(34230),o=r(6247);function i(t){t.graph().dummyChains=[],n.forEach(t.edges(),(function(e){s(t,e)}))}function s(t,e){var r=e.v,n=t.node(r).rank,i=e.w,s=t.node(i).rank,a=e.name,u=t.edge(e),c=u.labelRank;if(s!==n+1){var h,d,l;for(t.removeEdge(e),l=0,++n;n<s;++l,++n)u.points=[],d={width:0,height:0,edgeLabel:u,edgeObj:e,rank:n},h=o.addDummyNode(t,"edge",d,"_d"),n===c&&(d.width=u.width,d.height=u.height,d.dummy="edge-label",d.labelpos=u.labelpos),t.setEdge(r,h,{weight:u.weight},a),0===l&&t.graph().dummyChains.push(h),r=h;t.setEdge(r,i,{weight:u.weight},a)}}function a(t){n.forEach(t.graph().dummyChains,(function(e){var r,n=t.node(e),o=n.edgeLabel;t.setEdge(n.edgeObj,o);while(n.dummy)r=t.successors(e)[0],t.removeNode(e),o.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(o.x=n.x,o.y=n.y,o.width=n.width,o.height=n.height),e=r,n=t.node(e)}))}t.exports={run:i,undo:a}},24145:function(t,e,r){var n=r(48731),o=r(63034),i=r(15686),s=r(63897),a=r(85366);function u(t,e,r){var u=a(t)?n:s,c=arguments.length<3;return u(t,i(e,4),r,c,o)}t.exports=u},24572:function(t,e,r){var n=r(20502),o=1,i=4;function s(t){return n(t,o|i)}t.exports=s},24619:function(t,e,r){var n=r(39889),o=r(59106),i=r(15686);function s(t,e){var r={};return e=i(e,3),o(t,(function(t,o,i){n(r,o,e(t,o,i))})),r}t.exports=s},24913:function(t,e,r){"use strict";var n=r(43724),o=r(35917),i=r(48686),s=r(28551),a=r(56969),u=TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",l="configurable",f="writable";e.f=n?i?function(t,e,r){if(s(t),e=a(e),s(r),"function"===typeof t&&"prototype"===e&&"value"in r&&f in r&&!r[f]){var n=h(t,e);n&&n[f]&&(t[e]=r.value,r={configurable:l in r?r[l]:n[l],enumerable:d in r?r[d]:n[d],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(s(t),e=a(e),s(r),o)try{return c(t,e,r)}catch(n){}if("get"in r||"set"in r)throw new u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},25114:function(t){function e(t){return function(e){return null==e?void 0:e[t]}}t.exports=e},25170:function(t,e,r){"use strict";var n=r(46706),o=r(94402);t.exports=n(o.proto,"size","get")||function(t){return t.size}},25397:function(t,e,r){"use strict";var n=r(47055),o=r(67750);t.exports=function(t){return n(o(t))}},25745:function(t,e,r){"use strict";var n=r(77629);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},26198:function(t,e,r){"use strict";var n=r(18014);t.exports=function(t){return n(t.length)}},26269:function(t){"use strict";t.exports={}},26284:function(t,e,r){var n=r(7022);function o(t,e){var r=null==t?0:t.length;return!!r&&n(t,e,0)>-1}t.exports=o},26316:function(t,e,r){r(44114);var n=r(9386);function o(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}t.exports=o},26323:function(t){function e(t){var e=this.__data__,r=e["delete"](t);return this.size=e.size,r}t.exports=e},26409:function(t,e,r){var n=r(98230),o=n(Object.keys,Object);t.exports=o},27260:function(t,e,r){var n;try{n={clone:r(46158),constant:r(77083),each:r(28770),filter:r(90957),has:r(78695),isArray:r(85366),isEmpty:r(35738),isFunction:r(44823),isUndefined:r(70707),keys:r(88987),map:r(66697),reduce:r(24145),size:r(65242),transform:r(80475),union:r(28932),values:r(89545)}}catch(o){}n||(n=window._),t.exports=n},27315:function(t,e,r){"use strict";r(18111),r(7588);var n=r(34230);function o(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||s(t)}function i(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||u(t),"lr"!==e&&"rl"!==e||(h(t),s(t))}function s(t){n.forEach(t.nodes(),(function(e){a(t.node(e))})),n.forEach(t.edges(),(function(e){a(t.edge(e))}))}function a(t){var e=t.width;t.width=t.height,t.height=e}function u(t){n.forEach(t.nodes(),(function(e){c(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,c),n.has(r,"y")&&c(r)}))}function c(t){t.y=-t.y}function h(t){n.forEach(t.nodes(),(function(e){d(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,d),n.has(r,"x")&&d(r)}))}function d(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:o,undo:i}},27476:function(t,e,r){"use strict";var n=r(22195),o=r(79504);t.exports=function(t){if("Function"===n(t))return o(t)}},27546:function(t,e,r){var n=r(29531),o=r(68606),i=n(o,"Map");t.exports=i},28513:function(t,e,r){var n=r(9386),o=Array.prototype,i=o.splice;function s(t){var e=this.__data__,r=n(e,t);if(r<0)return!1;var o=e.length-1;return r==o?e.pop():i.call(e,r,1),--this.size,!0}t.exports=s},28527:function(t,e,r){"use strict";var n=r(97080),o=r(94402).has,i=r(25170),s=r(83789),a=r(40507),u=r(9539);t.exports=function(t){var e=n(this),r=s(t);if(i(e)<r.size)return!1;var c=r.getIterator();return!1!==a(c,(function(t){if(!o(e,t))return u(c,"normal",!1)}))}},28551:function(t,e,r){"use strict";var n=r(20034),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(o(t)+" is not an object")}},28770:function(t,e,r){t.exports=r(15881)},28932:function(t,e,r){var n=r(94857),o=r(2409),i=r(94094),s=r(55390),a=o((function(t){return i(n(t,1,s,!0))}));t.exports=a},29299:function(t,e,r){var n=r(99315),o=r(85091),i="[object Symbol]";function s(t){return"symbol"==typeof t||o(t)&&n(t)==i}t.exports=s},29531:function(t,e,r){var n=r(1976),o=r(98619);function i(t,e){var r=o(t,e);return n(r)?r:void 0}t.exports=i},29562:function(t,e,r){var n=r(60658),o=r(84276),i=r(80770),s=i&&i.isTypedArray,a=s?o(s):n;t.exports=a},30085:function(t,e,r){r(18111),r(7588);var n=r(34230),o=r(74332).Graph;function i(t,e,r){var i=s(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return n.forEach(t.nodes(),(function(o){var s=t.node(o),u=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(o),a.setParent(o,u||i),n.forEach(t[r](o),(function(e){var r=e.v===o?e.w:e.v,i=a.edge(r,o),s=n.isUndefined(i)?0:i.weight;a.setEdge(r,o,{weight:t.edge(e).weight+s})})),n.has(s,"minRank")&&a.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),a}function s(t){var e;while(t.hasNode(e=n.uniqueId("_root")));return e}t.exports=i},30100:function(t,e,r){var n=r(69476),o=n();t.exports=o},30216:function(t,e,r){"use strict";r(18111),r(7588),r(61701);var n=r(34230);function o(t){var e={};function r(o){var i=t.node(o);if(n.has(e,o))return i.rank;e[o]=!0;var s=n.min(n.map(t.outEdges(o),(function(e){return r(e.w)-t.edge(e).minlen})));return s!==Number.POSITIVE_INFINITY&&void 0!==s&&null!==s||(s=0),i.rank=s}n.forEach(t.sources(),r)}function i(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}t.exports={longestPath:o,slack:i}},30354:function(t,e,r){var n=r(97311),o=r(15686),i=r(94751);function s(t,e){return t&&t.length?n(t,o(e,2),i):void 0}t.exports=s},30421:function(t){"use strict";t.exports={}},30997:function(t,e,r){r(18111),r(22489);var n=r(27260),o=r(85386);function i(t){return n.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}t.exports=i},31207:function(t,e,r){var n=r(86061),o=r(48465),i=r(47744),s=r(19692);function a(t,e,r){if(!s(r))return!1;var a=typeof e;return!!("number"==a?o(r)&&i(e,r.length):"string"==a&&e in r)&&n(r[e],t)}t.exports=a},31698:function(t,e,r){"use strict";var n=r(46518),o=r(44204),i=r(84916);n({target:"Set",proto:!0,real:!0,forced:!i("union")},{union:o})},31945:function(t,e,r){var n=r(60710),o=r(85091),i="[object Map]";function s(t){return o(t)&&n(t)==i}t.exports=s},32188:function(t,e,r){r(18111),r(7588);var n=r(27260),o=r(1838);t.exports=s;var i=n.constant(1);function s(t,e,r,n){return a(t,String(e),r||i,n||function(e){return t.outEdges(e)})}function a(t,e,r,n){var i,s,a={},u=new o,c=function(t){var e=t.v!==i?t.v:t.w,n=a[e],o=r(t),c=s.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<n.distance&&(n.distance=c,n.predecessor=i,u.decrease(e,c))};t.nodes().forEach((function(t){var r=t===e?0:Number.POSITIVE_INFINITY;a[t]={distance:r},u.add(t,r)}));while(u.size()>0){if(i=u.removeMin(),s=a[i],s.distance===Number.POSITIVE_INFINITY)break;n(i).forEach(c)}return a}},32475:function(t,e,r){"use strict";var n=r(46518),o=r(28527),i=r(84916),s=!i("isSupersetOf",(function(t){return!t}));n({target:"Set",proto:!0,real:!0,forced:s},{isSupersetOf:o})},32749:function(t,e,r){var n=r(73355),o=0;function i(t){var e=++o;return n(t)+e}t.exports=i},33103:function(t,e,r){var n=r(60710),o=r(85091),i="[object Set]";function s(t){return o(t)&&n(t)==i}t.exports=s},33392:function(t,e,r){"use strict";var n=r(79504),o=0,i=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++o+i,36)}},33603:function(t,e,r){var n=r(97311),o=r(94751),i=r(16517);function s(t){return t&&t.length?n(t,i,o):void 0}t.exports=s},33706:function(t,e,r){"use strict";var n=r(79504),o=r(94901),i=r(77629),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return s(t)}),t.exports=i.inspectSource},33717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},33853:function(t,e,r){"use strict";var n=r(46518),o=r(64449),i=r(84916),s=!i("isDisjointFrom",(function(t){return!t}));n({target:"Set",proto:!0,real:!0,forced:s},{isDisjointFrom:o})},34230:function(t,e,r){var n;try{n={cloneDeep:r(24572),constant:r(77083),defaults:r(10405),each:r(28770),filter:r(90957),find:r(89712),flatten:r(8081),forEach:r(15881),forIn:r(41683),has:r(78695),isUndefined:r(70707),last:r(22215),map:r(66697),mapValues:r(24619),max:r(73809),merge:r(55763),min:r(33603),minBy:r(30354),now:r(21087),pick:r(99002),range:r(63422),reduce:r(24145),sortBy:r(89802),uniqueId:r(32749),values:r(89545),zipObject:r(59)}}catch(o){}n||(n=window._),t.exports=n},34376:function(t,e,r){"use strict";var n=r(22195);t.exports=Array.isArray||function(t){return"Array"===n(t)}},34520:function(t,e,r){var n=r(2409),o=r(31207);function i(t){return n((function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;s=t.length>3&&"function"==typeof s?(i--,s):void 0,a&&o(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);while(++n<i){var u=r[n];u&&t(e,u,n,s)}return e}))}t.exports=i},34527:function(t,e,r){"use strict";var n=r(43724),o=r(34376),i=TypeError,s=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(o(t)&&!s(t,"length").writable)throw new i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},34809:function(t,e,r){"use strict";r(44114),r(18111),r(22489),r(7588),r(61701);var n=r(34230);function o(t){var e={},r=n.filter(t.nodes(),(function(e){return!t.children(e).length})),o=n.max(n.map(r,(function(e){return t.node(e).rank}))),i=n.map(n.range(o+1),(function(){return[]}));function s(r){if(!n.has(e,r)){e[r]=!0;var o=t.node(r);i[o.rank].push(r),n.forEach(t.successors(r),s)}}var a=n.sortBy(r,(function(e){return t.node(e).rank}));return n.forEach(a,s),i}t.exports=o},35031:function(t,e,r){"use strict";var n=r(97751),o=r(79504),i=r(38480),s=r(33717),a=r(28551),u=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=s.f;return r?u(e,r(t)):e}},35064:function(t){function e(t,e){return t>e}t.exports=e},35370:function(t,e,r){"use strict";var n=r(26198);t.exports=function(t,e,r){var o=0,i=arguments.length>2?r:n(e),s=new t(i);while(i>o)s[o]=e[o++];return s}},35522:function(t){function e(t,e){var r=-1,n=t.length;e||(e=Array(n));while(++r<n)e[r]=t[r];return e}t.exports=e},35610:function(t,e,r){"use strict";var n=r(91291),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},35738:function(t,e,r){var n=r(78659),o=r(60710),i=r(15219),s=r(85366),a=r(48465),u=r(70317),c=r(89426),h=r(29562),d="[object Map]",l="[object Set]",f=Object.prototype,g=f.hasOwnProperty;function p(t){if(null==t)return!0;if(a(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||h(t)||i(t)))return!t.length;var e=o(t);if(e==d||e==l)return!t.size;if(c(t))return!n(t).length;for(var r in t)if(g.call(t,r))return!1;return!0}t.exports=p},35917:function(t,e,r){"use strict";var n=r(43724),o=r(79039),i=r(4055);t.exports=!n&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},36202:function(t,e,r){var n=r(69065),o=r(28513),i=r(19496),s=r(19804),a=r(26316);function u(t){var e=-1,r=null==t?0:t.length;this.clear();while(++e<r){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype["delete"]=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=a,t.exports=u},36719:function(t,e,r){var n=r(4355),o=r(88987);function i(t){var e=o(t),r=e.length;while(r--){var i=e[r],s=t[i];e[r]=[i,s,n(s)]}return e}t.exports=i},36840:function(t,e,r){"use strict";var n=r(94901),o=r(24913),i=r(50283),s=r(39433);t.exports=function(t,e,r,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:e;if(n(r)&&i(r,c,a),a.global)u?t[e]=r:s(e,r);else{try{a.unsafe?t[e]&&(u=!0):delete t[e]}catch(h){}u?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},36955:function(t,e,r){"use strict";var n=r(92140),o=r(94901),i=r(22195),s=r(78227),a=s("toStringTag"),u=Object,c="Arguments"===i(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(r){}};t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=h(e=u(t),a))?r:c?i(e):"Object"===(n=i(e))&&o(e.callee)?"Arguments":n}},37467:function(t,e,r){"use strict";var n=r(37628),o=r(94644),i=o.aTypedArray,s=o.exportTypedArrayMethod,a=o.getTypedArrayConstructor;s("toReversed",(function(){return n(i(this),a(this))}))},37628:function(t,e,r){"use strict";var n=r(26198);t.exports=function(t,e){for(var r=n(t),o=new e(r),i=0;i<r;i++)o[i]=t[r-i-1];return o}},37746:function(t,e,r){var n=r(25114),o=r(88864),i=r(14915),s=r(99416);function a(t){return i(t)?n(s(t)):o(t)}t.exports=a},38469:function(t,e,r){"use strict";var n=r(79504),o=r(40507),i=r(94402),s=i.Set,a=i.proto,u=n(a.forEach),c=n(a.keys),h=c(new s).next;t.exports=function(t,e,r){return r?o({iterator:c(t),next:h},e):u(t,e)}},38478:function(t,e,r){r(44114);var n=r(1676),o=r(71281),i=r(44032),s=1,a=2;function u(t,e,r,u,c,h){var d=r&s,l=t.length,f=e.length;if(l!=f&&!(d&&f>l))return!1;var g=h.get(t),p=h.get(e);if(g&&p)return g==e&&p==t;var v=-1,y=!0,m=r&a?new n:void 0;h.set(t,e),h.set(e,t);while(++v<l){var w=t[v],x=e[v];if(u)var b=d?u(x,w,v,e,t,h):u(w,x,v,t,e,h);if(void 0!==b){if(b)continue;y=!1;break}if(m){if(!o(e,(function(t,e){if(!i(m,e)&&(w===t||c(w,t,r,u,h)))return m.push(e)}))){y=!1;break}}else if(w!==x&&!c(w,x,r,u,h)){y=!1;break}}return h["delete"](t),h["delete"](e),y}t.exports=u},38480:function(t,e,r){"use strict";var n=r(61828),o=r(88727),i=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},38843:function(t,e,r){var n=r(99315),o=r(85091),i="[object Arguments]";function s(t){return o(t)&&n(t)==i}t.exports=s},39297:function(t,e,r){"use strict";var n=r(79504),o=r(48981),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},39414:function(t,e,r){"use strict";r(18111),r(7588);var n=r(34230),o=r(74332).Graph,i=r(30216).slack;function s(t){var e,r,n=new o({directed:!1}),s=t.nodes()[0],h=t.nodeCount();n.setNode(s,{});while(a(n,t)<h)e=u(n,t),r=n.hasNode(e.v)?i(t,e):-i(t,e),c(n,t,r);return n}function a(t,e){function r(o){n.forEach(e.nodeEdges(o),(function(n){var s=n.v,a=o===s?n.w:s;t.hasNode(a)||i(e,n)||(t.setNode(a,{}),t.setEdge(o,a,{}),r(a))}))}return n.forEach(t.nodes(),r),t.nodeCount()}function u(t,e){return n.minBy(e.edges(),(function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return i(e,r)}))}function c(t,e,r){n.forEach(t.nodes(),(function(t){e.node(t).rank+=r}))}t.exports=s},39433:function(t,e,r){"use strict";var n=r(44576),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},39519:function(t,e,r){"use strict";var n,o,i=r(44576),s=r(82839),a=i.process,u=i.Deno,c=a&&a.versions||u&&u.version,h=c&&c.v8;h&&(n=h.split("."),o=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(n=s.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/),n&&(o=+n[1]))),t.exports=o},39889:function(t,e,r){var n=r(45556);function o(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}t.exports=o},39928:function(t,e,r){"use strict";var n=r(26198),o=r(91291),i=RangeError;t.exports=function(t,e,r,s){var a=n(t),u=o(r),c=u<0?a+u:u;if(c>=a||c<0)throw new i("Incorrect index");for(var h=new e(a),d=0;d<a;d++)h[d]=d===c?s:t[d];return h}},40118:function(t,e,r){var n=r(3839);function o(t,e){return n(t,e,"post")}t.exports=o},40507:function(t,e,r){"use strict";var n=r(69565);t.exports=function(t,e,r){var o,i,s=r?t:t.iterator,a=t.next;while(!(o=n(a,s)).done)if(i=e(o.value),void 0!==i)return i}},40616:function(t,e,r){"use strict";var n=r(79039);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},41683:function(t,e,r){var n=r(30100),o=r(52701),i=r(58664);function s(t,e){return null==t?t:n(t,o(e),i)}t.exports=s},42477:function(t,e,r){var n=r(50968),o=r(58664);function i(t,e){return t&&n(e,o(e),t)}t.exports=i},42530:function(t){var e=Function.prototype,r=e.toString;function n(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}t.exports=n},42787:function(t,e,r){"use strict";var n=r(39297),o=r(94901),i=r(48981),s=r(66119),a=r(12211),u=s("IE_PROTO"),c=Object,h=c.prototype;t.exports=a?c.getPrototypeOf:function(t){var e=i(t);if(n(e,u))return e[u];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof c?h:null}},43223:function(t,e,r){var n=r(53886),o=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function i(t){return!!o&&o in t}t.exports=i},43325:function(t,e,r){var n=r(5987);function o(t,e,r){return t.set(n(t,e),r),r}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},43381:function(t,e,r){var n=r(1235),o=500;function i(t){var e=n(t,(function(t){return r.size===o&&r.clear(),t})),r=e.cache;return e}t.exports=i},43534:function(t,e,r){var n=r(92329),o=1,i=Object.prototype,s=i.hasOwnProperty;function a(t,e,r,i,a,u){var c=r&o,h=n(t),d=h.length,l=n(e),f=l.length;if(d!=f&&!c)return!1;var g=d;while(g--){var p=h[g];if(!(c?p in e:s.call(e,p)))return!1}var v=u.get(t),y=u.get(e);if(v&&y)return v==e&&y==t;var m=!0;u.set(t,e),u.set(e,t);var w=c;while(++g<d){p=h[g];var x=t[p],b=e[p];if(i)var E=c?i(b,x,p,e,t,u):i(x,b,p,t,e,u);if(!(void 0===E?x===b||a(x,b,r,i,u):E)){m=!1;break}w||(w="constructor"==p)}if(m&&!w){var N=t.constructor,M=e.constructor;N==M||!("constructor"in t)||!("constructor"in e)||"function"==typeof N&&N instanceof N&&"function"==typeof M&&M instanceof M||(m=!1)}return u["delete"](t),u["delete"](e),m}t.exports=a},43559:function(t,e,r){var n=r(68606),o=n.Uint8Array;t.exports=o},43575:function(t){function e(t,e){var r=-1,n=null==t?0:t.length,o=Array(n);while(++r<n)o[r]=e(t[r],r,t);return o}t.exports=e},43646:function(t,e,r){"use strict";r(44114),r(18111),r(22489),r(7588),r(61701);var n=r(34230);function o(t,e){var r={};n.forEach(t,(function(t,e){var o=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};n.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),n.forEach(e.edges(),(function(t){var e=r[t.v],o=r[t.w];n.isUndefined(e)||n.isUndefined(o)||(o.indegree++,e.out.push(r[t.w]))}));var o=n.filter(r,(function(t){return!t.indegree}));return i(o)}function i(t){var e=[];function r(t){return function(e){e.merged||(n.isUndefined(e.barycenter)||n.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&s(t,e)}}function o(e){return function(r){r["in"].push(e),0===--r.indegree&&t.push(r)}}while(t.length){var i=t.pop();e.push(i),n.forEach(i["in"].reverse(),r(i)),n.forEach(i.out,o(i))}return n.map(n.filter(e,(function(t){return!t.merged})),(function(t){return n.pick(t,["vs","i","barycenter","weight"])}))}function s(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}t.exports=o},43724:function(t,e,r){"use strict";var n=r(79039);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},44032:function(t){function e(t,e){return t.has(e)}t.exports=e},44114:function(t,e,r){"use strict";var n=r(46518),o=r(48981),i=r(26198),s=r(34527),a=r(96837),u=r(79039),c=u((function(){return 4294967297!==[].push.call({length:4294967296},1)})),h=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},d=c||!h();n({target:"Array",proto:!0,arity:1,forced:d},{push:function(t){var e=o(this),r=i(e),n=arguments.length;a(r+n);for(var u=0;u<n;u++)e[r]=arguments[u],r++;return s(e,r),r}})},44166:function(t,e,r){r(44114);var n=r(27260);function o(t){var e,r={},o=[];function i(o){n.has(r,o)||(r[o]=!0,e.push(o),n.each(t.successors(o),i),n.each(t.predecessors(o),i))}return n.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}t.exports=o},44204:function(t,e,r){"use strict";var n=r(97080),o=r(94402).add,i=r(89286),s=r(83789),a=r(40507);t.exports=function(t){var e=n(this),r=s(t).getIterator(),u=i(e);return a(r,(function(t){o(u,t)})),u}},44209:function(t,e,r){"use strict";var n=r(78227),o=r(26269),i=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},44576:function(t,e,r){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},44709:function(t,e,r){var n=r(48070),o=r(31207),i=r(21413);function s(t){return function(e,r,s){return s&&"number"!=typeof s&&o(e,r,s)&&(r=s=void 0),e=i(e),void 0===r?(r=e,e=0):r=i(r),s=void 0===s?e<r?1:-1:i(s),n(e,r,s,t)}}t.exports=s},44732:function(t,e,r){"use strict";var n=r(94644),o=r(79504),i=r(79306),s=r(35370),a=n.aTypedArray,u=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,h=o(n.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&i(t);var e=a(this),r=s(u(e),e);return h(r,t)}))},44823:function(t,e,r){var n=r(99315),o=r(19692),i="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";function c(t){if(!o(t))return!1;var e=n(t);return e==s||e==a||e==i||e==u}t.exports=c},45475:function(t,e,r){"use strict";r(18111),r(7588),r(61701);var n=r(34230),o=r(6247),i=r(96660).positionX;function s(t){t=o.asNonCompoundGraph(t),a(t),n.forEach(i(t),(function(e,r){t.node(r).x=e}))}function a(t){var e=o.buildLayerMatrix(t),r=t.graph().ranksep,i=0;n.forEach(e,(function(e){var o=n.max(n.map(e,(function(e){return t.node(e).height})));n.forEach(e,(function(e){t.node(e).y=i+o/2})),i+=o+r}))}t.exports=s},45556:function(t,e,r){var n=r(29531),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},45761:function(t){var e=/\s/;function r(t){var r=t.length;while(r--&&e.test(t.charAt(r)));return r}t.exports=r},45876:function(t,e,r){"use strict";var n=r(46518),o=r(53838),i=r(84916),s=!i("isSubsetOf",(function(t){return t}));n({target:"Set",proto:!0,real:!0,forced:s},{isSubsetOf:o})},46106:function(t,e,r){var n=r(21413);function o(t){var e=n(t),r=e%1;return e===e?r?e-r:e:0}t.exports=o},46158:function(t,e,r){var n=r(20502),o=4;function i(t){return n(t,o)}t.exports=i},46518:function(t,e,r){"use strict";var n=r(44576),o=r(77347).f,i=r(66699),s=r(36840),a=r(39433),u=r(77740),c=r(92796);t.exports=function(t,e){var r,h,d,l,f,g,p=t.target,v=t.global,y=t.stat;if(h=v?n:y?n[p]||a(p,{}):n[p]&&n[p].prototype,h)for(d in e){if(f=e[d],t.dontCallGetSet?(g=o(h,d),l=g&&g.value):l=h[d],r=c(v?d:p+(y?".":"#")+d,t.forced),!r&&void 0!==l){if(typeof f==typeof l)continue;u(f,l)}(t.sham||l&&l.sham)&&i(f,"sham",!0),s(h,d,f,t)}}},46706:function(t,e,r){"use strict";var n=r(79504),o=r(79306);t.exports=function(t,e,r){try{return n(o(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(i){}}},46967:function(t,e,r){var n=r(52387),o=r(82119),i=r(71990);function s(t,e,r){var s=-1,a=e.length,u={};while(++s<a){var c=e[s],h=n(t,c);r(h,c)&&o(u,i(c,t),h)}return u}t.exports=s},47045:function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},47055:function(t,e,r){"use strict";var n=r(79504),o=r(79039),i=r(22195),s=Object,a=n("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?a(t,""):s(t)}:s},47744:function(t){var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(t,n){var o=typeof t;return n=null==n?e:n,!!n&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<n}t.exports=n},47845:function(t,e,r){t.exports={Graph:r(8961),version:r(58109)}},48070:function(t){var e=Math.ceil,r=Math.max;function n(t,n,o,i){var s=-1,a=r(e((n-t)/(o||1)),0),u=Array(a);while(a--)u[i?a:++s]=t,t+=o;return u}t.exports=n},48465:function(t,e,r){var n=r(44823),o=r(59851);function i(t){return null!=t&&o(t.length)&&!n(t)}t.exports=i},48605:function(t,e,r){var n=r(47845);t.exports={Graph:n.Graph,json:r(96599),alg:r(82900),version:n.version}},48686:function(t,e,r){"use strict";var n=r(43724),o=r(79039);t.exports=n&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},48731:function(t){function e(t,e,r,n){var o=-1,i=null==t?0:t.length;n&&i&&(r=t[++o]);while(++o<i)r=e(r,t[o],o,t);return r}t.exports=e},48773:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},48882:function(t,e,r){var n=r(43559);function o(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}t.exports=o},48981:function(t,e,r){"use strict";var n=r(67750),o=Object;t.exports=function(t){return o(n(t))}},49866:function(t,e,r){var n=r(50968),o=r(88987);function i(t,e){return t&&n(e,o(e),t)}t.exports=i},50283:function(t,e,r){"use strict";var n=r(79504),o=r(79039),i=r(94901),s=r(39297),a=r(43724),u=r(10350).CONFIGURABLE,c=r(33706),h=r(91181),d=h.enforce,l=h.get,f=String,g=Object.defineProperty,p=n("".slice),v=n("".replace),y=n([].join),m=a&&!o((function(){return 8!==g((function(){}),"length",{value:8}).length})),w=String(String).split("String"),x=t.exports=function(t,e,r){"Symbol("===p(f(e),0,7)&&(e="["+v(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!s(t,"name")||u&&t.name!==e)&&(a?g(t,"name",{value:e,configurable:!0}):t.name=e),m&&r&&s(r,"arity")&&t.length!==r.arity&&g(t,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&g(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var n=d(t);return s(n,"source")||(n.source=y(w,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return i(this)&&l(this).source||c(this)}),"toString")},50851:function(t,e,r){"use strict";var n=r(36955),o=r(55966),i=r(64117),s=r(26269),a=r(78227),u=a("iterator");t.exports=function(t){if(!i(t))return o(t,u)||o(t,"@@iterator")||s[n(t)]}},50968:function(t,e,r){var n=r(7966),o=r(39889);function i(t,e,r,i){var s=!r;r||(r={});var a=-1,u=e.length;while(++a<u){var c=e[a],h=i?i(r[c],t[c],c,r,t):void 0;void 0===h&&(h=t[c]),s?o(r,c,h):n(r,c,h)}return r}t.exports=i},51297:function(t){function e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=e},51683:function(t,e,r){var n=r(19692),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},51916:function(t,e,r){var n=r(6849),o="__lodash_hash_undefined__";function i(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?o:e,this}t.exports=i},52387:function(t,e,r){var n=r(71990),o=r(99416);function i(t,e){e=n(e,t);var r=0,i=e.length;while(null!=t&&r<i)t=t[o(e[r++])];return r&&r==i?t:void 0}t.exports=i},52587:function(t,e,r){"use strict";r(18111),r(22489),r(20116),r(7588);var n=r(34230),o=r(39414),i=r(30216).slack,s=r(30216).longestPath,a=r(74332).alg.preorder,u=r(74332).alg.postorder,c=r(6247).simplify;function h(t){t=c(t),s(t);var e,r,n=o(t);g(n),d(n,t);while(e=v(n))r=y(n,t,e),m(n,t,e,r)}function d(t,e){var r=u(t,t.nodes());r=r.slice(0,r.length-1),n.forEach(r,(function(r){l(t,e,r)}))}function l(t,e,r){var n=t.node(r),o=n.parent;t.edge(r,o).cutvalue=f(t,e,r)}function f(t,e,r){var o=t.node(r),i=o.parent,s=!0,a=e.edge(r,i),u=0;return a||(s=!1,a=e.edge(i,r)),u=a.weight,n.forEach(e.nodeEdges(r),(function(n){var o=n.v===r,a=o?n.w:n.v;if(a!==i){var c=o===s,h=e.edge(n).weight;if(u+=c?h:-h,x(t,r,a)){var d=t.edge(r,a).cutvalue;u+=c?-d:d}}})),u}function g(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,r,o,i){var s=r,a=t.node(o);return e[o]=!0,n.forEach(t.neighbors(o),(function(i){n.has(e,i)||(r=p(t,e,r,i,o))})),a.low=s,a.lim=r++,i?a.parent=i:delete a.parent,r}function v(t){return n.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function y(t,e,r){var o=r.v,s=r.w;e.hasEdge(o,s)||(o=r.w,s=r.v);var a=t.node(o),u=t.node(s),c=a,h=!1;a.lim>u.lim&&(c=u,h=!0);var d=n.filter(e.edges(),(function(e){return h===b(t,t.node(e.v),c)&&h!==b(t,t.node(e.w),c)}));return n.minBy(d,(function(t){return i(e,t)}))}function m(t,e,r,n){var o=r.v,i=r.w;t.removeEdge(o,i),t.setEdge(n.v,n.w,{}),g(t),d(t,e),w(t,e)}function w(t,e){var r=n.find(t.nodes(),(function(t){return!e.node(t).parent})),o=a(t,r);o=o.slice(1),n.forEach(o,(function(r){var n=t.node(r).parent,o=e.edge(r,n),i=!1;o||(o=e.edge(n,r),i=!0),e.node(r).rank=e.node(n).rank+(i?o.minlen:-o.minlen)}))}function x(t,e,r){return t.hasEdge(e,r)}function b(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}t.exports=h,h.initLowLimValues=g,h.initCutValues=d,h.calcCutValue=f,h.leaveEdge=v,h.enterEdge=y,h.exchangeEdges=m},52701:function(t,e,r){var n=r(16517);function o(t){return"function"==typeof t?t:n}t.exports=o},52967:function(t,e,r){"use strict";var n=r(46706),o=r(20034),i=r(67750),s=r(73506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=n(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(a){}return function(r,n){return i(r),s(n),o(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},53505:function(t,e,r){var n=r(29299);function o(t,e){if(t!==e){var r=void 0!==t,o=null===t,i=t===t,s=n(t),a=void 0!==e,u=null===e,c=e===e,h=n(e);if(!u&&!h&&!s&&t>e||s&&a&&c&&!u&&!h||o&&a&&c||!r&&c||!i)return 1;if(!o&&!s&&!h&&t<e||h&&r&&i&&!o&&!s||u&&r&&i||!a&&i||!c)return-1}return 0}t.exports=o},53698:function(t,e,r){var n=r(20288),o=Math.max;function i(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){var i=arguments,s=-1,a=o(i.length-e,0),u=Array(a);while(++s<a)u[s]=i[e+s];s=-1;var c=Array(e+1);while(++s<e)c[s]=i[s];return c[e]=r(u),n(t,this,c)}}t.exports=i},53838:function(t,e,r){"use strict";var n=r(97080),o=r(25170),i=r(38469),s=r(83789);t.exports=function(t){var e=n(this),r=s(t);return!(o(e)>r.size)&&!1!==i(e,(function(t){if(!r.includes(t))return!1}),!0)}},53886:function(t,e,r){var n=r(68606),o=n["__core-js_shared__"];t.exports=o},54878:function(t,e,r){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function o(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function i(t,e){if("_next"!==t&&"_prev"!==t)return e}r(44114),t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return o(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&o(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){var t=[],e=this._sentinel,r=e._prev;while(r!==e)t.push(JSON.stringify(r,i)),r=r._prev;return"["+t.join(", ")+"]"}},55169:function(t,e,r){"use strict";var n=r(3238),o=TypeError;t.exports=function(t){if(n(t))throw new o("ArrayBuffer is detached");return t}},55387:function(t,e,r){r(44114);var n=r(27260);function o(t){var e={},r={},o=[];function s(a){if(n.has(r,a))throw new i;n.has(e,a)||(r[a]=!0,e[a]=!0,n.each(t.predecessors(a),s),delete r[a],o.push(a))}if(n.each(t.sinks(),s),n.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},55390:function(t,e,r){var n=r(48465),o=r(85091);function i(t){return o(t)&&n(t)}t.exports=i},55763:function(t,e,r){var n=r(74907),o=r(34520),i=o((function(t,e,r){n(t,e,r)}));t.exports=i},55966:function(t,e,r){"use strict";var n=r(79306),o=r(64117);t.exports=function(t,e){var r=t[e];return o(r)?void 0:n(r)}},56279:function(t,e,r){"use strict";var n=r(36840);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},56376:function(t,e,r){r(44114),r(18111),r(7588),r(61701);var n=r(34230),o=r(74332).Graph,i=r(54878);t.exports=a;var s=n.constant(1);function a(t,e){if(t.nodeCount()<=1)return[];var r=h(t,e||s),o=u(r.graph,r.buckets,r.zeroIdx);return n.flatten(n.map(o,(function(e){return t.outEdges(e.v,e.w)})),!0)}function u(t,e,r){var n,o=[],i=e[e.length-1],s=e[0];while(t.nodeCount()){while(n=s.dequeue())c(t,e,r,n);while(n=i.dequeue())c(t,e,r,n);if(t.nodeCount())for(var a=e.length-2;a>0;--a)if(n=e[a].dequeue(),n){o=o.concat(c(t,e,r,n,!0));break}}return o}function c(t,e,r,o,i){var s=i?[]:void 0;return n.forEach(t.inEdges(o.v),(function(n){var o=t.edge(n),a=t.node(n.v);i&&s.push({v:n.v,w:n.w}),a.out-=o,d(e,r,a)})),n.forEach(t.outEdges(o.v),(function(n){var o=t.edge(n),i=n.w,s=t.node(i);s["in"]-=o,d(e,r,s)})),t.removeNode(o.v),s}function h(t,e){var r=new o,s=0,a=0;n.forEach(t.nodes(),(function(t){r.setNode(t,{v:t,in:0,out:0})})),n.forEach(t.edges(),(function(t){var n=r.edge(t.v,t.w)||0,o=e(t),i=n+o;r.setEdge(t.v,t.w,i),a=Math.max(a,r.node(t.v).out+=o),s=Math.max(s,r.node(t.w)["in"]+=o)}));var u=n.range(a+s+3).map((function(){return new i})),c=s+1;return n.forEach(r.nodes(),(function(t){d(u,c,r.node(t))})),{graph:r,buckets:u,zeroIdx:c}}function d(t,e,r){r.out?r["in"]?t[r.out-r["in"]+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}},56636:function(t,e,r){r(18111),r(61701);var n=r(13883);function o(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}t.exports=o},56817:function(t,e,r){var n=r(1068),o=r(38478),i=r(797),s=r(43534),a=r(60710),u=r(85366),c=r(70317),h=r(29562),d=1,l="[object Arguments]",f="[object Array]",g="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function y(t,e,r,p,y,m){var w=u(t),x=u(e),b=w?f:a(t),E=x?f:a(e);b=b==l?g:b,E=E==l?g:E;var N=b==g,M=E==g,_=b==E;if(_&&c(t)){if(!c(e))return!1;w=!0,N=!1}if(_&&!N)return m||(m=new n),w||h(t)?o(t,e,r,p,y,m):i(t,e,b,r,p,y,m);if(!(r&d)){var A=N&&v.call(t,"__wrapped__"),k=M&&v.call(e,"__wrapped__");if(A||k){var S=A?t.value():t,O=k?e.value():e;return m||(m=new n),y(S,O,r,p,m)}}return!!_&&(m||(m=new n),s(t,e,r,p,y,m))}t.exports=y},56969:function(t,e,r){"use strict";var n=r(72777),o=r(10757);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},57255:function(t,e,r){var n=r(33103),o=r(84276),i=r(80770),s=i&&i.isSet,a=s?o(s):n;t.exports=a},57343:function(t,e,r){"use strict";r.r(e),r.d(e,{isAnyArray:function(){return o}});const n=Object.prototype.toString;function o(t){const e=n.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},57422:function(t,e,r){var n=r(59226),o=r(36719),i=r(82976);function s(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}t.exports=s},57657:function(t,e,r){"use strict";var n,o,i,s=r(79039),a=r(94901),u=r(20034),c=r(2360),h=r(42787),d=r(36840),l=r(78227),f=r(96395),g=l("iterator"),p=!1;[].keys&&(i=[].keys(),"next"in i?(o=h(h(i)),o!==Object.prototype&&(n=o)):p=!0);var v=!u(n)||s((function(){var t={};return n[g].call(t)!==t}));v?n={}:f&&(n=c(n)),a(n[g])||d(n,g,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},57696:function(t,e,r){"use strict";var n=r(91291),o=r(18014),i=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=o(e);if(e!==r)throw new i("Wrong length or index");return r}},58004:function(t,e,r){"use strict";var n=r(46518),o=r(79039),i=r(68750),s=r(84916),a=!s("intersection",(function(t){return 2===t.size&&t.has(1)&&t.has(2)}))||o((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));n({target:"Set",proto:!0,real:!0,forced:a},{intersection:i})},58063:function(t){var e=Object.prototype,r=e.hasOwnProperty;function n(t,e){return null!=t&&r.call(t,e)}t.exports=n},58109:function(t){t.exports="2.1.8"},58622:function(t,e,r){"use strict";var n=r(44576),o=r(94901),i=n.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},58664:function(t,e,r){var n=r(93238),o=r(69136),i=r(48465);function s(t){return i(t)?n(t,!0):o(t)}t.exports=s},58728:function(t,e,r){var n=r(48882);function o(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}t.exports=o},58780:function(t,e,r){var n=r(51683),o=r(87136),i=r(89426);function s(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}t.exports=s},58804:function(t,e,r){"use strict";r(18111),r(7588),r(61701);var n=r(34230),o=r(34809),i=r(7622),s=r(99389),a=r(30085),u=r(72359),c=r(74332).Graph,h=r(6247);function d(t){var e=h.maxRank(t),r=l(t,n.range(1,e+1),"inEdges"),s=l(t,n.range(e-1,-1,-1),"outEdges"),a=o(t);g(t,a);for(var u,c=Number.POSITIVE_INFINITY,d=0,p=0;p<4;++d,++p){f(d%2?r:s,d%4>=2),a=h.buildLayerMatrix(t);var v=i(t,a);v<c&&(p=0,u=n.cloneDeep(a),c=v)}g(t,u)}function l(t,e,r){return n.map(e,(function(e){return a(t,e,r)}))}function f(t,e){var r=new c;n.forEach(t,(function(t){var o=t.graph().root,i=s(t,o,r,e);n.forEach(i.vs,(function(e,r){t.node(e).order=r})),u(t,r,i.vs)}))}function g(t,e){n.forEach(e,(function(e){n.forEach(e,(function(e,r){t.node(e).order=r}))}))}t.exports=d},59106:function(t,e,r){var n=r(30100),o=r(88987);function i(t,e){return t&&n(t,e,o)}t.exports=i},59226:function(t,e,r){var n=r(1068),o=r(99231),i=1,s=2;function a(t,e,r,a){var u=r.length,c=u,h=!a;if(null==t)return!c;t=Object(t);while(u--){var d=r[u];if(h&&d[2]?d[1]!==t[d[0]]:!(d[0]in t))return!1}while(++u<c){d=r[u];var l=d[0],f=t[l],g=d[1];if(h&&d[2]){if(void 0===f&&!(l in t))return!1}else{var p=new n;if(a)var v=a(f,g,l,t,e,p);if(!(void 0===v?o(g,f,i|s,a,p):v))return!1}}return!0}t.exports=a},59276:function(t,e,r){var n=r(56636);function o(t){return n(this,t).has(t)}t.exports=o},59577:function(t,e,r){var n=r(5987);function o(t,e){return t.get(n(t,e))}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},59851:function(t){var e=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}t.exports=r},60038:function(t,e,r){var n=r(97874),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;function u(t){var e=i.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(u){}var o=s.call(t);return n&&(e?t[a]=r:delete t[a]),o}t.exports=u},60658:function(t,e,r){var n=r(99315),o=r(59851),i=r(85091),s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",h="[object Error]",d="[object Function]",l="[object Map]",f="[object Number]",g="[object Object]",p="[object RegExp]",v="[object Set]",y="[object String]",m="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",b="[object Float32Array]",E="[object Float64Array]",N="[object Int8Array]",M="[object Int16Array]",_="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",S="[object Uint16Array]",O="[object Uint32Array]",j={};function z(t){return i(t)&&o(t.length)&&!!j[n(t)]}j[b]=j[E]=j[N]=j[M]=j[_]=j[A]=j[k]=j[S]=j[O]=!0,j[s]=j[a]=j[w]=j[u]=j[x]=j[c]=j[h]=j[d]=j[l]=j[f]=j[g]=j[p]=j[v]=j[y]=j[m]=!1,t.exports=z},60710:function(t,e,r){r(16573),r(78100),r(77936);var n=r(11567),o=r(27546),i=r(67525),s=r(72288),a=r(97382),u=r(99315),c=r(42530),h="[object Map]",d="[object Object]",l="[object Promise]",f="[object Set]",g="[object WeakMap]",p="[object DataView]",v=c(n),y=c(o),m=c(i),w=c(s),x=c(a),b=u;(n&&b(new n(new ArrayBuffer(1)))!=p||o&&b(new o)!=h||i&&b(i.resolve())!=l||s&&b(new s)!=f||a&&b(new a)!=g)&&(b=function(t){var e=u(t),r=e==d?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case v:return p;case y:return h;case m:return l;case w:return f;case x:return g}return e}),t.exports=b},60712:function(t,e,r){var n=r(99315),o=r(87136),i=r(85091),s="[object Object]",a=Function.prototype,u=Object.prototype,c=a.toString,h=u.hasOwnProperty,d=c.call(Object);function l(t){if(!i(t)||n(t)!=s)return!1;var e=o(t);if(null===e)return!0;var r=h.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==d}t.exports=l},61701:function(t,e,r){"use strict";var n=r(46518),o=r(20713),i=r(96395);n({target:"Iterator",proto:!0,real:!0,forced:i},{map:o})},61764:function(t,e,r){function n(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}r(18111),r(7588),t.exports=n},61828:function(t,e,r){"use strict";var n=r(79504),o=r(39297),i=r(25397),s=r(19617).indexOf,a=r(30421),u=n([].push);t.exports=function(t,e){var r,n=i(t),c=0,h=[];for(r in n)!o(a,r)&&o(n,r)&&u(h,r);while(e.length>c)o(n,r=e[c++])&&(~s(h,r)||u(h,r));return h}},62106:function(t,e,r){"use strict";var n=r(50283),o=r(24913);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),o.f(t,e,r)}},62297:function(t){function e(t,e){var r=-1,n=e.length,o=t.length;while(++r<n)t[o+r]=e[r];return t}t.exports=e},62353:function(t,e,r){var n=r(56636);function o(t){var e=n(this,t)["delete"](t);return this.size-=e?1:0,e}t.exports=o},62529:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},62578:function(t){function e(t,e){var r=t.length;t.sort(e);while(r--)t[r]=t[r].value;return t}t.exports=e},63034:function(t,e,r){var n=r(59106),o=r(2442),i=o(n);t.exports=i},63066:function(t,e,r){var n=r(16281),o=r(62353),i=r(984),s=r(59276),a=r(63612);function u(t){var e=-1,r=null==t?0:t.length;this.clear();while(++e<r){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype["delete"]=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=a,t.exports=u},63422:function(t,e,r){var n=r(44709),o=n();t.exports=o},63612:function(t,e,r){var n=r(56636);function o(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}t.exports=o},63897:function(t){function e(t,e,r,n,o){return o(t,(function(t,o,i){r=n?(n=!1,t):e(r,t,o,i)})),r}t.exports=e},64011:function(t,e,r){var n=r(71990),o=r(15219),i=r(85366),s=r(47744),a=r(59851),u=r(99416);function c(t,e,r){e=n(e,t);var c=-1,h=e.length,d=!1;while(++c<h){var l=u(e[c]);if(!(d=null!=t&&r(t,l)))break;t=t[l]}return d||++c!=h?d:(h=null==t?0:t.length,!!h&&a(h)&&s(l,h)&&(i(t)||o(t)))}t.exports=c},64117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},64234:function(t){function e(t,e,r){var n=r-1,o=t.length;while(++n<o)if(t[n]===e)return n;return-1}t.exports=e},64449:function(t,e,r){"use strict";var n=r(97080),o=r(94402).has,i=r(25170),s=r(83789),a=r(38469),u=r(40507),c=r(9539);t.exports=function(t){var e=n(this),r=s(t);if(i(e)<=r.size)return!1!==a(e,(function(t){if(r.includes(t))return!1}),!0);var h=r.getIterator();return!1!==u(h,(function(t){if(o(e,t))return c(h,"normal",!1)}))}},64643:function(t,e,r){var n=r(97874),o=r(43575),i=r(85366),s=r(29299),a=1/0,u=n?n.prototype:void 0,c=u?u.toString:void 0;function h(t){if("string"==typeof t)return t;if(i(t))return o(t,h)+"";if(s(t))return c?c.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}t.exports=h},64867:function(t,e,r){var n=r(45761),o=/^\s+/;function i(t){return t?t.slice(0,n(t)+1).replace(o,""):t}t.exports=i},65242:function(t,e,r){var n=r(78659),o=r(60710),i=r(48465),s=r(86250),a=r(3026),u="[object Map]",c="[object Set]";function h(t){if(null==t)return 0;if(i(t))return s(t)?a(t):t.length;var e=o(t);return e==u||e==c?t.size:n(t).length}t.exports=h},66119:function(t,e,r){"use strict";var n=r(25745),o=r(33392),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},66697:function(t,e,r){var n=r(43575),o=r(15686),i=r(19505),s=r(85366);function a(t,e){var r=s(t)?n:i;return r(t,o(e,3))}t.exports=a},66699:function(t,e,r){"use strict";var n=r(43724),o=r(24913),i=r(6980);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},67250:function(t,e,r){function n(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}r(44114),t.exports=n},67394:function(t,e,r){"use strict";var n=r(44576),o=r(46706),i=r(22195),s=n.ArrayBuffer,a=n.TypeError;t.exports=s&&o(s.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==i(t))throw new a("ArrayBuffer expected");return t.byteLength}},67525:function(t,e,r){var n=r(29531),o=r(68606),i=n(o,"Promise");t.exports=i},67750:function(t,e,r){"use strict";var n=r(64117),o=TypeError;t.exports=function(t){if(n(t))throw new o("Can't call method on "+t);return t}},67826:function(t,e,r){var n=r(84428);function o(t,e,r){n(t,e),e.set(t,r)}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},68606:function(t,e,r){var n=r(86903),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},68706:function(t,e,r){var n=r(46967),o=r(588);function i(t,e){return n(t,e,(function(e,r){return o(t,r)}))}t.exports=i},68742:function(t,e,r){"use strict";var n=r(67826)["default"],o=r(43325)["default"],i=r(59577)["default"],s=r(82887)["default"],a=r(74550)["default"],u=r(5987)["default"];r(44114),r(16573),r(78100),r(77936),r(18111),r(81148),r(37467),r(44732),r(79577);var c=r(57343),h=r(1351);const d=" ".repeat(2),l=" ".repeat(4);function f(){return g(this)}function g(t,e={}){const{maxRows:r=15,maxColumns:n=10,maxNumSize:o=8,padMinus:i="auto"}=e;return`${t.constructor.name} {\n${d}[\n${l}${p(t,r,n,o,i)}\n${d}]\n${d}rows: ${t.rows}\n${d}columns: ${t.columns}\n}`}function p(t,e,r,n,o){const{rows:i,columns:s}=t,a=Math.min(i,e),u=Math.min(s,r),c=[];if("auto"===o){o=!1;t:for(let e=0;e<a;e++)for(let r=0;r<u;r++)if(t.get(e,r)<0){o=!0;break t}}for(let h=0;h<a;h++){let e=[];for(let r=0;r<u;r++)e.push(v(t.get(h,r),n,o));c.push(`${e.join(" ")}`)}return u!==s&&(c[c.length-1]+=` ... ${s-r} more columns`),a!==i&&c.push(`... ${i-e} more rows`),c.join(`\n${l}`)}function v(t,e,r){return(t>=0&&r?` ${y(t,e-1)}`:y(t,e)).padEnd(e)}function y(t,e){let r=t.toString();if(r.length<=e)return r;let n=t.toFixed(e);if(n.length>e&&(n=t.toFixed(Math.max(0,e-(n.length-e)))),n.length<=e&&!n.startsWith("0.000")&&!n.startsWith("-0.000"))return n;let o=t.toExponential(e);return o.length>e&&(o=t.toExponential(Math.max(0,e-(o.length-e)))),o.slice(0)}function m(t,e){t.prototype.add=function(t){return"number"===typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){const n=new e(t);return n.add(r)},t.prototype.sub=function(t){return"number"===typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){const n=new e(t);return n.sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"===typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){const n=new e(t);return n.mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"===typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){const n=new e(t);return n.div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"===typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){const n=new e(t);return n.mod(r)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"===typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){const n=new e(t);return n.and(r)},t.prototype.or=function(t){return"number"===typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){const n=new e(t);return n.or(r)},t.prototype.xor=function(t){return"number"===typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){const n=new e(t);return n.xor(r)},t.prototype.leftShift=function(t){return"number"===typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.leftShift=function(t,r){const n=new e(t);return n.leftShift(r)},t.prototype.signPropagatingRightShift=function(t){return"number"===typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.signPropagatingRightShift=function(t,r){const n=new e(t);return n.signPropagatingRightShift(r)},t.prototype.rightShift=function(t){return"number"===typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.rightShift=function(t,r){const n=new e(t);return n.rightShift(r)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){const r=new e(t);return r.not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){const r=new e(t);return r.abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){const r=new e(t);return r.acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){const r=new e(t);return r.acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){const r=new e(t);return r.asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){const r=new e(t);return r.asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){const r=new e(t);return r.atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){const r=new e(t);return r.atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){const r=new e(t);return r.cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){const r=new e(t);return r.ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){const r=new e(t);return r.clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){const r=new e(t);return r.cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){const r=new e(t);return r.cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){const r=new e(t);return r.exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){const r=new e(t);return r.expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){const r=new e(t);return r.floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){const r=new e(t);return r.fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){const r=new e(t);return r.log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){const r=new e(t);return r.log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){const r=new e(t);return r.log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){const r=new e(t);return r.log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){const r=new e(t);return r.round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){const r=new e(t);return r.sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){const r=new e(t);return r.sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){const r=new e(t);return r.sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){const r=new e(t);return r.sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){const r=new e(t);return r.tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){const r=new e(t);return r.tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){const r=new e(t);return r.trunc()},t.pow=function(t,r){const n=new e(t);return n.pow(r)},t.prototype.pow=function(t){return"number"===typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t);return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t.get(e,r));return this}}function w(t,e,r){let n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function x(t,e,r){let n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function b(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function E(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function N(t,e){if(!c.isAnyArray(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function M(t,e){if(!c.isAnyArray(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function _(t,e,r,n,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(k("startRow",e),k("endRow",r),k("startColumn",n),k("endColumn",o),e>r||n>o||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||o<0||o>=t.columns)throw new RangeError("Submatrix indices are out of range")}function A(t,e=0){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function k(t,e){if("number"!==typeof e)throw new TypeError(`${t} must be a number`)}function S(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}function O(t){let e=A(t.rows);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}function j(t){let e=A(t.columns);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}function z(t){let e=0;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e+=t.get(r,n);return e}function R(t){let e=A(t.rows,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}function I(t){let e=A(t.columns,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}function T(t){let e=1;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e*=t.get(r,n);return e}function P(t,e,r){const n=t.rows,o=t.columns,i=[];for(let s=0;s<n;s++){let n=0,a=0,u=0;for(let e=0;e<o;e++)u=t.get(s,e)-r[s],n+=u,a+=u*u;e?i.push((a-n*n/o)/(o-1)):i.push((a-n*n/o)/o)}return i}function C(t,e,r){const n=t.rows,o=t.columns,i=[];for(let s=0;s<o;s++){let o=0,a=0,u=0;for(let e=0;e<n;e++)u=t.get(e,s)-r[s],o+=u,a+=u*u;e?i.push((a-o*o/n)/(n-1)):i.push((a-o*o/n)/n)}return i}function D(t,e,r){const n=t.rows,o=t.columns,i=n*o;let s=0,a=0,u=0;for(let c=0;c<n;c++)for(let e=0;e<o;e++)u=t.get(c,e)-r,s+=u,a+=u*u;return e?(a-s*s/i)/(i-1):(a-s*s/i)/i}function L(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}function F(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}function q(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}function V(t){const e=[];for(let r=0;r<t.rows;r++){let n=0;for(let e=0;e<t.columns;e++)n+=t.get(r,e)**2/(t.columns-1);e.push(Math.sqrt(n))}return e}function B(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}function U(t){const e=[];for(let r=0;r<t.columns;r++){let n=0;for(let e=0;e<t.rows;e++)n+=t.get(e,r)**2/(t.rows-1);e.push(Math.sqrt(n))}return e}function G(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}function $(t){const e=t.size-1;let r=0;for(let n=0;n<t.columns;n++)for(let o=0;o<t.rows;o++)r+=t.get(o,n)**2/e;return Math.sqrt(r)}function W(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}class Y{static from1DArray(t,e,r){let n=t*e;if(n!==r.length)throw new RangeError("data length does not match given dimensions");let o=new X(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)o.set(i,t,r[i*e+t]);return o}static rowVector(t){let e=new X(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new X(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new X(t,e)}static ones(t,e){return new X(t,e).fill(1)}static rand(t,e,r={}){if("object"!==typeof r)throw new TypeError("options must be an object");const{random:n=Math.random}=r;let o=new X(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)o.set(i,t,n());return o}static randInt(t,e,r={}){if("object"!==typeof r)throw new TypeError("options must be an object");const{min:n=0,max:o=1e3,random:i=Math.random}=r;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(n>=o)throw new RangeError("min must be smaller than max");let s=o-n,a=new X(t,e);for(let u=0;u<t;u++)for(let t=0;t<e;t++){let e=n+Math.round(i()*s);a.set(u,t,e)}return a}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let n=Math.min(t,e),o=this.zeros(t,e);for(let i=0;i<n;i++)o.set(i,i,r);return o}static diag(t,e,r){let n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);let o=Math.min(n,e,r),i=this.zeros(e,r);for(let s=0;s<o;s++)i.set(s,s,t[s]);return i}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,o=new X(r,n);for(let i=0;i<r;i++)for(let r=0;r<n;r++)o.set(i,r,Math.min(t.get(i,r),e.get(i,r)));return o}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,o=new this(r,n);for(let i=0;i<r;i++)for(let r=0;r<n;r++)o.set(i,r,Math.max(t.get(i,r),e.get(i,r)));return o}static checkMatrix(t){return Y.isMatrix(t)?t:new X(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(0!==this.get(t,t))return!1;return!0}isEchelonForm(){let t=0,e=0,r=-1,n=!0,o=!1;while(t<this.rows&&n){e=0,o=!1;while(e<this.columns&&!1===o)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,o=!1;while(t<this.rows&&n){e=0,o=!1;while(e<this.columns&&!1===o)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}echelonForm(){let t=this.clone(),e=0,r=0;while(e<t.rows&&r<t.columns){let n=e;for(let o=e;o<t.rows;o++)t.get(o,r)>t.get(n,r)&&(n=o);if(0===t.get(n,r))r++;else{t.swapRows(e,n);let o=t.get(e,r);for(let n=r;n<t.columns;n++)t.set(e,n,t.get(e,n)/o);for(let n=e+1;n<t.rows;n++){let o=t.get(n,r)/t.get(e,r);t.set(n,r,0);for(let i=r+1;i<t.columns;i++)t.set(n,i,t.get(n,i)-t.get(e,i)*o)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;while(n>=0)if(0===t.maxRow(n))n--;else{let o=0,i=!1;while(o<r&&!1===i)1===t.get(n,o)?i=!0:o++;for(let r=0;r<n;r++){let i=t.get(r,o);for(let s=o;s<e;s++){let e=t.get(r,s)-i*t.get(n,s);t.set(r,s,e)}}n--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let n=new X(this.rows*e,this.columns*r);for(let o=0;o<e;o++)for(let t=0;t<r;t++)n.setSubMatrix(this,this.rows*o,this.columns*t);return n}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){w(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return X.rowVector(this.getRow(t))}setRow(t,e){w(this,t),e=b(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){w(this,t),w(this,e);for(let r=0;r<this.columns;r++){let n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){x(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return X.columnVector(this.getColumn(t))}setColumn(t,e){x(this,t),e=E(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){x(this,t),x(this,e);for(let r=0;r<this.rows;r++){let n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=b(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=b(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=b(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=b(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=E(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=E(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=E(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=E(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){w(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){x(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){S(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){S(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){if(w(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){w(this,t),S(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){if(w(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){w(this,t),S(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){if(x(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){x(this,t),S(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){if(x(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){x(this,t),S(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){Y.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let n=0;n<e.length;n++)r+=e[n]*t[n];return r}mmul(t){t=X.checkMatrix(t);let e=this.rows,r=this.columns,n=t.columns,o=new X(e,n),i=new Float64Array(r);for(let s=0;s<n;s++){for(let e=0;e<r;e++)i[e]=t.get(e,s);for(let t=0;t<e;t++){let e=0;for(let n=0;n<r;n++)e+=this.get(t,n)*i[n];o.set(t,s,e)}}return o}mpow(t){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(t)||t<0)throw new RangeError("Exponent must be a non-negative integer");let e=X.eye(this.rows),r=this;for(let n=t;n>=1;n/=2)0!==(1&n)&&(e=e.mmul(r)),r=r.mmul(r);return e}strassen2x2(t){t=X.checkMatrix(t);let e=new X(2,2);const r=this.get(0,0),n=t.get(0,0),o=this.get(0,1),i=t.get(0,1),s=this.get(1,0),a=t.get(1,0),u=this.get(1,1),c=t.get(1,1),h=(r+u)*(n+c),d=(s+u)*n,l=r*(i-c),f=u*(a-n),g=(r+o)*c,p=(s-r)*(n+i),v=(o-u)*(a+c),y=h+f-g+v,m=l+g,w=d+f,x=h-d+l+p;return e.set(0,0,y),e.set(0,1,m),e.set(1,0,w),e.set(1,1,x),e}strassen3x3(t){t=X.checkMatrix(t);let e=new X(3,3);const r=this.get(0,0),n=this.get(0,1),o=this.get(0,2),i=this.get(1,0),s=this.get(1,1),a=this.get(1,2),u=this.get(2,0),c=this.get(2,1),h=this.get(2,2),d=t.get(0,0),l=t.get(0,1),f=t.get(0,2),g=t.get(1,0),p=t.get(1,1),v=t.get(1,2),y=t.get(2,0),m=t.get(2,1),w=t.get(2,2),x=(r+n+o-i-s-c-h)*p,b=(r-i)*(-l+p),E=s*(-d+l+g-p-v-y+w),N=(-r+i+s)*(d-l+p),M=(i+s)*(-d+l),_=r*d,A=(-r+u+c)*(d-f+v),k=(-r+u)*(f-v),S=(u+c)*(-d+f),O=(r+n+o-s-a-u-c)*v,j=c*(-d+f+g-p-v-y+m),z=(-o+c+h)*(p+y-m),R=(o-h)*(p-m),I=o*y,T=(c+h)*(-y+m),P=(-o+s+a)*(v+y-w),C=(o-a)*(v-w),D=(s+a)*(-y+w),L=n*g,F=a*m,q=i*f,V=u*l,B=h*w,U=_+I+L,G=x+N+M+_+z+I+T,$=_+A+S+O+I+P+D,W=b+E+N+_+I+P+C,Y=b+N+M+_+F,H=I+P+C+D+q,K=_+A+k+j+z+R+I,J=z+R+I+T+V,Q=_+A+k+S+B;return e.set(0,0,U),e.set(0,1,G),e.set(0,2,$),e.set(1,0,W),e.set(1,1,Y),e.set(1,2,H),e.set(2,0,K),e.set(2,1,J),e.set(2,2,Q),e}mmulStrassen(t){t=X.checkMatrix(t);let e=this.clone(),r=e.rows,n=e.columns,o=t.rows,i=t.columns;function s(t,e,r){let n=t.rows,o=t.columns;if(n===e&&o===r)return t;{let n=Y.zeros(e,r);return n=n.setSubMatrix(t,0,0),n}}n!==o&&console.warn(`Multiplying ${r} x ${n} and ${o} x ${i} matrix: dimensions do not match.`);let a=Math.max(r,o),u=Math.max(n,i);function c(t,e,r,n){if(r<=512||n<=512)return t.mmul(e);r%2===1&&n%2===1?(t=s(t,r+1,n+1),e=s(e,r+1,n+1)):r%2===1?(t=s(t,r+1,n),e=s(e,r+1,n)):n%2===1&&(t=s(t,r,n+1),e=s(e,r,n+1));let o=parseInt(t.rows/2,10),i=parseInt(t.columns/2,10),a=t.subMatrix(0,o-1,0,i-1),u=e.subMatrix(0,o-1,0,i-1),h=t.subMatrix(0,o-1,i,t.columns-1),d=e.subMatrix(0,o-1,i,e.columns-1),l=t.subMatrix(o,t.rows-1,0,i-1),f=e.subMatrix(o,e.rows-1,0,i-1),g=t.subMatrix(o,t.rows-1,i,t.columns-1),p=e.subMatrix(o,e.rows-1,i,e.columns-1),v=c(Y.add(a,g),Y.add(u,p),o,i),y=c(Y.add(l,g),u,o,i),m=c(a,Y.sub(d,p),o,i),w=c(g,Y.sub(f,u),o,i),x=c(Y.add(a,h),p,o,i),b=c(Y.sub(l,a),Y.add(u,d),o,i),E=c(Y.sub(h,g),Y.add(f,p),o,i),N=Y.add(v,w);N.sub(x),N.add(E);let M=Y.add(m,x),_=Y.add(y,w),A=Y.sub(v,y);A.add(m),A.add(b);let k=Y.zeros(2*N.rows,2*N.columns);return k=k.setSubMatrix(N,0,0),k=k.setSubMatrix(M,N.rows,0),k=k.setSubMatrix(_,0,N.columns),k=k.setSubMatrix(A,N.rows,N.columns),k.subMatrix(0,r-1,0,n-1)}return e=s(e,a,u),t=s(t,a,u),c(e,t,a,u)}scaleRows(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new X(this.rows,this.columns);for(let o=0;o<this.rows;o++){const t=this.getRow(o);t.length>0&&h(t,{min:e,max:r,output:t}),n.setRow(o,t)}return n}scaleColumns(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new X(this.rows,this.columns);for(let o=0;o<this.columns;o++){const t=this.getColumn(o);t.length&&h(t,{min:e,max:r,output:t}),n.setColumn(o,t)}return n}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),n=this.get(e,this.columns-1-r);this.set(e,r,n),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),n=this.get(this.rows-1-r,e);this.set(r,e,n),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=X.checkMatrix(t);let e=this.rows,r=this.columns,n=t.rows,o=t.columns,i=new X(e*n,r*o);for(let s=0;s<e;s++)for(let e=0;e<r;e++)for(let r=0;r<n;r++)for(let a=0;a<o;a++)i.set(n*s+r,o*e+a,this.get(s,e)*t.get(r,a));return i}kroneckerSum(t){if(t=X.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,n=this.kroneckerProduct(X.eye(r,r)),o=X.eye(e,e).kroneckerProduct(t);return n.add(o)}transpose(){let t=new X(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=H){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=H){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){_(this,t,e,r,n);let o=new X(e-t+1,n-r+1);for(let i=t;i<=e;i++)for(let e=r;e<=n;e++)o.set(i-t,e-r,this.get(i,e));return o}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let n=new X(t.length,r-e+1);for(let o=0;o<t.length;o++)for(let i=e;i<=r;i++){if(t[o]<0||t[o]>=this.rows)throw new RangeError(`Row index out of range: ${t[o]}`);n.set(o,i-e,this.get(t[o],i))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let n=new X(r-e+1,t.length);for(let o=0;o<t.length;o++)for(let i=e;i<=r;i++){if(t[o]<0||t[o]>=this.columns)throw new RangeError(`Column index out of range: ${t[o]}`);n.set(i-e,o,this.get(i,t[o]))}return n}setSubMatrix(t,e,r){if(t=X.checkMatrix(t),t.isEmpty())return this;let n=e+t.rows-1,o=r+t.columns-1;_(this,e,n,r,o);for(let i=0;i<t.rows;i++)for(let n=0;n<t.columns;n++)this.set(e+i,r+n,t.get(i,n));return this}selection(t,e){N(this,t),M(this,e);let r=new X(t.length,e.length);for(let n=0;n<t.length;n++){let o=t[n];for(let t=0;t<e.length;t++){let i=e[t];r.set(n,t,this.get(o,i))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){return this.constructor.copy(this,new X(this.rows,this.columns))}static copy(t,e){for(const[r,n,o]of t.entries())e.set(r,n,o);return e}sum(t){switch(t){case"row":return O(this);case"column":return j(this);case void 0:return z(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return R(this);case"column":return I(this);case void 0:return T(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{unbiased:r=!0,mean:n=this.mean(t)}=e;if("boolean"!==typeof r)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!c.isAnyArray(n))throw new TypeError("mean must be an array");return P(this,r,n);case"column":if(!c.isAnyArray(n))throw new TypeError("mean must be an array");return C(this,r,n);case void 0:if("number"!==typeof n)throw new TypeError("mean must be a number");return D(this,r,n);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"===typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let n=0;n<r.length;n++)r[n]=Math.sqrt(r[n]);return r}center(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{center:r=this.mean(t)}=e;switch(t){case"row":if(!c.isAnyArray(r))throw new TypeError("center must be an array");return L(this,r),this;case"column":if(!c.isAnyArray(r))throw new TypeError("center must be an array");return F(this,r),this;case void 0:if("number"!==typeof r)throw new TypeError("center must be a number");return q(this,r),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=V(this);else if(!c.isAnyArray(r))throw new TypeError("scale must be an array");return B(this,r),this;case"column":if(void 0===r)r=U(this);else if(!c.isAnyArray(r))throw new TypeError("scale must be an array");return G(this,r),this;case void 0:if(void 0===r)r=$(this);else if("number"!==typeof r)throw new TypeError("scale must be a number");return W(this,r),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return g(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}function H(t,e){return t-e}function K(t){return t.every((t=>"number"===typeof t))}Y.prototype.klass="Matrix","undefined"!==typeof Symbol&&(Y.prototype[Symbol.for("nodejs.util.inspect.custom")]=f),Y.random=Y.rand,Y.randomInt=Y.randInt,Y.diagonal=Y.diag,Y.prototype.diagonal=Y.prototype.diag,Y.identity=Y.eye,Y.prototype.negate=Y.prototype.neg,Y.prototype.tensorProduct=Y.prototype.kroneckerProduct;var J=new WeakSet;class X extends Y{constructor(t,e){if(super(),s(this,J),a(this,"data",void 0),X.isMatrix(t))u(J,this,Q).call(this,t.rows,t.columns),X.copy(t,this);else if(Number.isInteger(t)&&t>=0)u(J,this,Q).call(this,t,e);else{if(!c.isAnyArray(t))throw new TypeError("First argument must be a positive number or an array");{const r=t;if(t=r.length,e=t?r[0].length:0,"number"!==typeof e)throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let n=0;n<t;n++){if(r[n].length!==e)throw new RangeError("Inconsistent array dimensions");if(!K(r[n]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[n]))}this.rows=t,this.columns=e}}}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return w(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),w(this,t,!0),e=Float64Array.from(b(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){x(this,t);for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let n=0;n<t;n++)r[n]=this.data[e][n];for(let n=t+1;n<this.columns;n++)r[n-1]=this.data[e][n];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){"undefined"===typeof e&&(e=t,t=this.columns),x(this,t,!0),e=E(this,e);for(let r=0;r<this.rows;r++){const n=new Float64Array(this.columns+1);let o=0;for(;o<t;o++)n[o]=this.data[r][o];for(n[o++]=e[r];o<this.columns+1;o++)n[o]=this.data[r][o-1];this.data[r]=n}return this.columns+=1,this}}function Q(t,e){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e));this.rows=t,this.columns=e}m(Y,X);var Z=new WeakMap;class tt extends Y{get size(){return i(Z,this).size}get rows(){return i(Z,this).rows}get columns(){return i(Z,this).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(t){return X.isMatrix(t)&&"SymmetricMatrix"===t.klassType}static zeros(t){return new this(t)}static ones(t){return new this(t).fill(1)}constructor(t){if(super(),n(this,Z,void 0),X.isMatrix(t)){if(!t.isSymmetric())throw new TypeError("not symmetric data");o(Z,this,X.copy(t,new X(t.rows,t.rows)))}else if(Number.isInteger(t)&&t>=0)o(Z,this,new X(t,t));else if(o(Z,this,new X(t)),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const t=new tt(this.diagonalSize);for(const[e,r,n]of this.upperRightEntries())t.set(e,r,n);return t}toMatrix(){return new X(this)}get(t,e){return i(Z,this).get(t,e)}set(t,e,r){return i(Z,this).set(t,e,r),i(Z,this).set(e,t,r),this}removeCross(t){return i(Z,this).removeRow(t),i(Z,this).removeColumn(t),this}addCross(t,e){void 0===e&&(e=t,t=this.diagonalSize);const r=e.slice();return r.splice(t,1),i(Z,this).addRow(t,r),i(Z,this).addColumn(t,e),this}applyMask(t){if(t.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const e=[];for(const[r,n]of t.entries())n||e.push(r);e.reverse();for(const r of e)this.removeCross(r);return this}toCompact(){const{diagonalSize:t}=this,e=new Array(t*(t+1)/2);for(let r=0,n=0,o=0;o<e.length;o++)e[o]=this.get(n,r),++r>=t&&(r=++n);return e}static fromCompact(t){const e=t.length,r=(Math.sqrt(8*e+1)-1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(t)}`);const n=new tt(r);for(let o=0,i=0,s=0;s<e;s++)n.set(o,i,t[s]),++o>=r&&(o=++i);return n}*upperRightEntries(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield[t,e,r],++e>=this.diagonalSize&&(e=++t)}}*upperRightValues(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield r,++e>=this.diagonalSize&&(e=++t)}}}tt.prototype.klassType="SymmetricMatrix";class et extends tt{static isDistanceMatrix(t){return tt.isSymmetricMatrix(t)&&"DistanceMatrix"===t.klassSubType}constructor(t){if(super(t),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(t,e,r){return t===e&&(r=0),super.set(t,e,r)}addCross(t,e){return void 0===e&&(e=t,t=this.diagonalSize),e=e.slice(),e[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new tt(this)}clone(){const t=new et(this.diagonalSize);for(const[e,r,n]of this.upperRightEntries())e!==r&&t.set(e,r,n);return t}toCompact(){const{diagonalSize:t}=this,e=(t-1)*t/2,r=new Array(e);for(let n=1,o=0,i=0;i<r.length;i++)r[i]=this.get(o,n),++n>=t&&(n=1+ ++o);return r}static fromCompact(t){const e=t.length;if(0===e)return new this(0);const r=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);const n=new this(r);for(let o=1,i=0,s=0;s<e;s++)n.set(o,i,t[s]),++o>=r&&(o=1+ ++i);return n}}et.prototype.klassSubType="DistanceMatrix";class rt extends Y{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}class nt extends rt{constructor(t,e){x(t,e),super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}}class ot extends rt{constructor(t,e){M(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class it extends rt{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}class st extends rt{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class at extends rt{constructor(t,e){w(t,e),super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}}class ut extends rt{constructor(t,e){N(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class ct extends rt{constructor(t,e,r){N(t,e),M(t,r),super(t,e.length,r.length),this.rowIndices=e,this.columnIndices=r}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class ht extends rt{constructor(t,e,r,n,o){_(t,e,r,n,o),super(t,r-e+1,o-n+1),this.startRow=e,this.startColumn=n}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class dt extends rt{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}}class lt extends Y{constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let n=this._calculateIndex(t,e);return this.data[n]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}class ft extends Y{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}function gt(t,e){if(c.isAnyArray(t))return t[0]&&c.isAnyArray(t[0])?new ft(t):new lt(t,e);throw new Error("the argument is not an array")}class pt{constructor(t){t=ft.checkMatrix(t);let e,r,n,o,i,s,a,u,c,h=t.clone(),d=h.rows,l=h.columns,f=new Float64Array(d),g=1;for(e=0;e<d;e++)f[e]=e;for(u=new Float64Array(d),r=0;r<l;r++){for(e=0;e<d;e++)u[e]=h.get(e,r);for(e=0;e<d;e++){for(c=Math.min(e,r),i=0,n=0;n<c;n++)i+=h.get(e,n)*u[n];u[e]-=i,h.set(e,r,u[e])}for(o=r,e=r+1;e<d;e++)Math.abs(u[e])>Math.abs(u[o])&&(o=e);if(o!==r){for(n=0;n<l;n++)s=h.get(o,n),h.set(o,n,h.get(r,n)),h.set(r,n,s);a=f[o],f[o]=f[r],f[r]=a,g=-g}if(r<d&&0!==h.get(r,r))for(e=r+1;e<d;e++)h.set(e,r,h.get(e,r)/h.get(r,r))}this.LU=h,this.pivotVector=f,this.pivotSign=g}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=X.checkMatrix(t);let e=this.LU,r=e.rows;if(r!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n,o,i,s=t.columns,a=t.subMatrixRow(this.pivotVector,0,s-1),u=e.columns;for(i=0;i<u;i++)for(n=i+1;n<u;n++)for(o=0;o<s;o++)a.set(n,o,a.get(n,o)-a.get(i,o)*e.get(n,i));for(i=u-1;i>=0;i--){for(o=0;o<s;o++)a.set(i,o,a.get(i,o)/e.get(i,i));for(n=0;n<i;n++)for(o=0;o<s;o++)a.set(n,o,a.get(n,o)-a.get(i,o)*e.get(n,i))}return a}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let n=0;n<r;n++)e*=t.get(n,n);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new X(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o>e?n.set(o,e,t.get(o,e)):o===e?n.set(o,e,1):n.set(o,e,0);return n}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new X(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o<=e?n.set(o,e,t.get(o,e)):n.set(o,e,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function vt(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class yt{constructor(t){t=ft.checkMatrix(t);let e,r,n,o,i=t.clone(),s=t.rows,a=t.columns,u=new Float64Array(a);for(n=0;n<a;n++){let t=0;for(e=n;e<s;e++)t=vt(t,i.get(e,n));if(0!==t){for(i.get(n,n)<0&&(t=-t),e=n;e<s;e++)i.set(e,n,i.get(e,n)/t);for(i.set(n,n,i.get(n,n)+1),r=n+1;r<a;r++){for(o=0,e=n;e<s;e++)o+=i.get(e,n)*i.get(e,r);for(o=-o/i.get(n,n),e=n;e<s;e++)i.set(e,r,i.get(e,r)+o*i.get(e,n))}}u[n]=-t}this.QR=i,this.Rdiag=u}solve(t){t=X.checkMatrix(t);let e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let n,o,i,s,a=t.columns,u=t.clone(),c=e.columns;for(i=0;i<c;i++)for(o=0;o<a;o++){for(s=0,n=i;n<r;n++)s+=e.get(n,i)*u.get(n,o);for(s=-s/e.get(i,i),n=i;n<r;n++)u.set(n,o,u.get(n,o)+s*e.get(n,i))}for(i=c-1;i>=0;i--){for(o=0;o<a;o++)u.set(i,o,u.get(i,o)/this.Rdiag[i]);for(n=0;n<i;n++)for(o=0;o<a;o++)u.set(n,o,u.get(n,o)-u.get(i,o)*e.get(n,i))}return u.subMatrix(0,c-1,0,a-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,n=r.columns,o=new X(n,n);for(t=0;t<n;t++)for(e=0;e<n;e++)t<e?o.set(t,e,r.get(t,e)):t===e?o.set(t,e,this.Rdiag[t]):o.set(t,e,0);return o}get orthogonalMatrix(){let t,e,r,n,o=this.QR,i=o.rows,s=o.columns,a=new X(i,s);for(r=s-1;r>=0;r--){for(t=0;t<i;t++)a.set(t,r,0);for(a.set(r,r,1),e=r;e<s;e++)if(0!==o.get(r,r)){for(n=0,t=r;t<i;t++)n+=o.get(t,r)*a.get(t,e);for(n=-n/o.get(r,r),t=r;t<i;t++)a.set(t,e,a.get(t,e)+n*o.get(t,r))}}return a}}class mt{constructor(t,e={}){if(t=ft.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,n=t.columns;const{computeLeftSingularVectors:o=!0,computeRightSingularVectors:i=!0,autoTranspose:s=!1}=e;let a,u=Boolean(o),c=Boolean(i),h=!1;if(r<n)if(s){a=t.transpose(),r=a.rows,n=a.columns,h=!0;let e=u;u=c,c=e}else a=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else a=t.clone();let d=Math.min(r,n),l=Math.min(r+1,n),f=new Float64Array(l),g=new X(r,d),p=new X(n,n),v=new Float64Array(n),y=new Float64Array(r),m=new Float64Array(l);for(let _=0;_<l;_++)m[_]=_;let w=Math.min(r-1,n),x=Math.max(0,Math.min(n-2,r)),b=Math.max(w,x);for(let _=0;_<b;_++){if(_<w){f[_]=0;for(let t=_;t<r;t++)f[_]=vt(f[_],a.get(t,_));if(0!==f[_]){a.get(_,_)<0&&(f[_]=-f[_]);for(let t=_;t<r;t++)a.set(t,_,a.get(t,_)/f[_]);a.set(_,_,a.get(_,_)+1)}f[_]=-f[_]}for(let t=_+1;t<n;t++){if(_<w&&0!==f[_]){let e=0;for(let n=_;n<r;n++)e+=a.get(n,_)*a.get(n,t);e=-e/a.get(_,_);for(let n=_;n<r;n++)a.set(n,t,a.get(n,t)+e*a.get(n,_))}v[t]=a.get(_,t)}if(u&&_<w)for(let t=_;t<r;t++)g.set(t,_,a.get(t,_));if(_<x){v[_]=0;for(let t=_+1;t<n;t++)v[_]=vt(v[_],v[t]);if(0!==v[_]){v[_+1]<0&&(v[_]=0-v[_]);for(let t=_+1;t<n;t++)v[t]/=v[_];v[_+1]+=1}if(v[_]=-v[_],_+1<r&&0!==v[_]){for(let t=_+1;t<r;t++)y[t]=0;for(let t=_+1;t<r;t++)for(let e=_+1;e<n;e++)y[t]+=v[e]*a.get(t,e);for(let t=_+1;t<n;t++){let e=-v[t]/v[_+1];for(let n=_+1;n<r;n++)a.set(n,t,a.get(n,t)+e*y[n])}}if(c)for(let t=_+1;t<n;t++)p.set(t,_,v[t])}}let E=Math.min(n,r+1);if(w<n&&(f[w]=a.get(w,w)),r<E&&(f[E-1]=0),x+1<E&&(v[x]=a.get(x,E-1)),v[E-1]=0,u){for(let t=w;t<d;t++){for(let e=0;e<r;e++)g.set(e,t,0);g.set(t,t,1)}for(let t=w-1;t>=0;t--)if(0!==f[t]){for(let e=t+1;e<d;e++){let n=0;for(let o=t;o<r;o++)n+=g.get(o,t)*g.get(o,e);n=-n/g.get(t,t);for(let o=t;o<r;o++)g.set(o,e,g.get(o,e)+n*g.get(o,t))}for(let e=t;e<r;e++)g.set(e,t,-g.get(e,t));g.set(t,t,1+g.get(t,t));for(let e=0;e<t-1;e++)g.set(e,t,0)}else{for(let e=0;e<r;e++)g.set(e,t,0);g.set(t,t,1)}}if(c)for(let _=n-1;_>=0;_--){if(_<x&&0!==v[_])for(let t=_+1;t<n;t++){let e=0;for(let r=_+1;r<n;r++)e+=p.get(r,_)*p.get(r,t);e=-e/p.get(_+1,_);for(let r=_+1;r<n;r++)p.set(r,t,p.get(r,t)+e*p.get(r,_))}for(let t=0;t<n;t++)p.set(t,_,0);p.set(_,_,1)}let N=E-1,M=Number.EPSILON;while(E>0){let t,e;for(t=E-2;t>=-1;t--){if(-1===t)break;const e=Number.MIN_VALUE+M*Math.abs(f[t]+Math.abs(f[t+1]));if(Math.abs(v[t])<=e||Number.isNaN(v[t])){v[t]=0;break}}if(t===E-2)e=4;else{let r;for(r=E-1;r>=t;r--){if(r===t)break;let e=(r!==E?Math.abs(v[r]):0)+(r!==t+1?Math.abs(v[r-1]):0);if(Math.abs(f[r])<=M*e){f[r]=0;break}}r===t?e=3:r===E-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=v[E-2];v[E-2]=0;for(let r=E-2;r>=t;r--){let o=vt(f[r],e),i=f[r]/o,s=e/o;if(f[r]=o,r!==t&&(e=-s*v[r-1],v[r-1]=i*v[r-1]),c)for(let t=0;t<n;t++)o=i*p.get(t,r)+s*p.get(t,E-1),p.set(t,E-1,-s*p.get(t,r)+i*p.get(t,E-1)),p.set(t,r,o)}break}case 2:{let e=v[t-1];v[t-1]=0;for(let n=t;n<E;n++){let o=vt(f[n],e),i=f[n]/o,s=e/o;if(f[n]=o,e=-s*v[n],v[n]=i*v[n],u)for(let e=0;e<r;e++)o=i*g.get(e,n)+s*g.get(e,t-1),g.set(e,t-1,-s*g.get(e,n)+i*g.get(e,t-1)),g.set(e,n,o)}break}case 3:{const e=Math.max(Math.abs(f[E-1]),Math.abs(f[E-2]),Math.abs(v[E-2]),Math.abs(f[t]),Math.abs(v[t])),o=f[E-1]/e,i=f[E-2]/e,s=v[E-2]/e,a=f[t]/e,h=v[t]/e,d=((i+o)*(i-o)+s*s)/2,l=o*s*(o*s);let y=0;0===d&&0===l||(y=d<0?0-Math.sqrt(d*d+l):Math.sqrt(d*d+l),y=l/(d+y));let m=(a+o)*(a-o)+y,w=a*h;for(let x=t;x<E-1;x++){let e=vt(m,w);0===e&&(e=Number.MIN_VALUE);let o=m/e,i=w/e;if(x!==t&&(v[x-1]=e),m=o*f[x]+i*v[x],v[x]=o*v[x]-i*f[x],w=i*f[x+1],f[x+1]=o*f[x+1],c)for(let t=0;t<n;t++)e=o*p.get(t,x)+i*p.get(t,x+1),p.set(t,x+1,-i*p.get(t,x)+o*p.get(t,x+1)),p.set(t,x,e);if(e=vt(m,w),0===e&&(e=Number.MIN_VALUE),o=m/e,i=w/e,f[x]=e,m=o*v[x]+i*f[x+1],f[x+1]=-i*v[x]+o*f[x+1],w=i*v[x+1],v[x+1]=o*v[x+1],u&&x<r-1)for(let t=0;t<r;t++)e=o*g.get(t,x)+i*g.get(t,x+1),g.set(t,x+1,-i*g.get(t,x)+o*g.get(t,x+1)),g.set(t,x,e)}v[E-2]=m;break}case 4:if(f[t]<=0&&(f[t]=f[t]<0?-f[t]:0,c))for(let e=0;e<=N;e++)p.set(e,t,-p.get(e,t));while(t<N){if(f[t]>=f[t+1])break;let e=f[t];if(f[t]=f[t+1],f[t+1]=e,c&&t<n-1)for(let r=0;r<n;r++)e=p.get(r,t+1),p.set(r,t+1,p.get(r,t)),p.set(r,t,e);if(u&&t<r-1)for(let n=0;n<r;n++)e=g.get(n,t+1),g.set(n,t+1,g.get(n,t)),g.set(n,t,e);t++}E--;break}}if(h){let t=p;p=g,g=t}this.m=r,this.n=n,this.s=f,this.U=g,this.V=p}solve(t){let e=t,r=this.threshold,n=this.s.length,o=X.zeros(n,n);for(let d=0;d<n;d++)Math.abs(this.s[d])<=r?o.set(d,d,0):o.set(d,d,1/this.s[d]);let i=this.U,s=this.rightSingularVectors,a=s.mmul(o),u=s.rows,c=i.rows,h=X.zeros(u,c);for(let d=0;d<u;d++)for(let t=0;t<c;t++){let e=0;for(let r=0;r<n;r++)e+=a.get(d,r)*i.get(t,r);h.set(d,t,e)}return h.mmul(e)}solveForDiagonal(t){return this.solve(X.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,n=t.columns,o=new X(r,this.s.length);for(let c=0;c<r;c++)for(let r=0;r<n;r++)Math.abs(this.s[r])>e&&o.set(c,r,t.get(c,r)/this.s[r]);let i=this.U,s=i.rows,a=i.columns,u=new X(r,s);for(let c=0;c<r;c++)for(let t=0;t<s;t++){let e=0;for(let r=0;r<a;r++)e+=o.get(c,r)*i.get(t,r);u.set(c,t,e)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let n=0,o=r.length;n<o;n++)r[n]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return X.diag(this.s)}}function wt(t,e=!1){return t=ft.checkMatrix(t),e?new mt(t).inverse():xt(t,X.eye(t.rows))}function xt(t,e,r=!1){return t=ft.checkMatrix(t),e=ft.checkMatrix(e),r?new mt(t).solve(e):t.isSquare()?new pt(t).solve(e):new yt(t).solve(e)}function bt(t){if(t=X.checkMatrix(t),t.isSquare()){if(0===t.columns)return 1;let e,r,n,o;if(2===t.columns)return e=t.get(0,0),r=t.get(0,1),n=t.get(1,0),o=t.get(1,1),e*o-r*n;if(3===t.columns){let o,i,s;return o=new ct(t,[1,2],[1,2]),i=new ct(t,[1,2],[0,2]),s=new ct(t,[1,2],[0,1]),e=t.get(0,0),r=t.get(0,1),n=t.get(0,2),e*bt(o)-r*bt(i)+n*bt(s)}return new pt(t).determinant}throw Error("determinant can only be calculated for a square matrix")}function Et(t,e){let r=[];for(let n=0;n<t;n++)n!==e&&r.push(n);return r}function Nt(t,e,r,n=1e-9,o=1e-9){if(t>o)return new Array(e.rows+1).fill(0);{let t=e.addRow(r,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<n&&t.set(e,0,0);return t.to1DArray()}}function Mt(t,e={}){const{thresholdValue:r=1e-9,thresholdError:n=1e-9}=e;t=X.checkMatrix(t);let o=t.rows,i=new X(o,o);for(let s=0;s<o;s++){let e=X.columnVector(t.getRow(s)),a=t.subMatrixRow(Et(o,s)).transpose(),u=new mt(a),c=u.solve(e),h=X.sub(e,a.mmul(c)).abs().max();i.setRow(s,Nt(h,c,s,r,n))}return i}function _t(t,e=Number.EPSILON){if(t=X.checkMatrix(t),t.isEmpty())return t.transpose();let r=new mt(t,{autoTranspose:!0}),n=r.leftSingularVectors,o=r.rightSingularVectors,i=r.diagonal;for(let s=0;s<i.length;s++)Math.abs(i[s])>e?i[s]=1/i[s]:i[s]=0;return o.mmul(X.diag(i).mmul(n.transpose()))}function At(t,e=t,r={}){t=new X(t);let n=!1;if("object"!==typeof e||X.isMatrix(e)||c.isAnyArray(e)?e=new X(e):(r=e,e=t,n=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0}=r;o&&(t=t.center("column"),n||(e=e.center("column")));const i=t.transpose().mmul(e);for(let s=0;s<i.rows;s++)for(let e=0;e<i.columns;e++)i.set(s,e,i.get(s,e)*(1/(t.rows-1)));return i}function kt(t,e=t,r={}){t=new X(t);let n=!1;if("object"!==typeof e||X.isMatrix(e)||c.isAnyArray(e)?e=new X(e):(r=e,e=t,n=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0,scale:i=!0}=r;o&&(t.center("column"),n||e.center("column")),i&&(t.scale("column"),n||e.scale("column"));const s=t.standardDeviation("column",{unbiased:!0}),a=n?s:e.standardDeviation("column",{unbiased:!0}),u=t.transpose().mmul(e);for(let c=0;c<u.rows;c++)for(let e=0;e<u.columns;e++)u.set(c,e,u.get(c,e)*(1/(s[c]*a[e]))*(1/(t.rows-1)));return u}class St{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(t=ft.checkMatrix(t),!t.isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let n,o,i=t.columns,s=new X(i,i),a=new Float64Array(i),u=new Float64Array(i),c=t,h=!1;if(h=!!r||t.isSymmetric(),h){for(n=0;n<i;n++)for(o=0;o<i;o++)s.set(n,o,c.get(n,o));Ot(i,u,a,s),jt(i,u,a,s)}else{let t=new X(i,i),e=new Float64Array(i);for(o=0;o<i;o++)for(n=0;n<i;n++)t.set(n,o,c.get(n,o));zt(i,t,e,s),Rt(i,u,a,s,t)}this.n=i,this.e=u,this.d=a,this.V=s}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,n=this.e,o=this.d,i=new X(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)i.set(t,e,0);i.set(t,t,o[t]),n[t]>0?i.set(t,t+1,n[t]):n[t]<0&&i.set(t,t-1,n[t])}return i}}function Ot(t,e,r,n){let o,i,s,a,u,c,h,d;for(u=0;u<t;u++)r[u]=n.get(t-1,u);for(a=t-1;a>0;a--){for(d=0,s=0,c=0;c<a;c++)d+=Math.abs(r[c]);if(0===d)for(e[a]=r[a-1],u=0;u<a;u++)r[u]=n.get(a-1,u),n.set(a,u,0),n.set(u,a,0);else{for(c=0;c<a;c++)r[c]/=d,s+=r[c]*r[c];for(o=r[a-1],i=Math.sqrt(s),o>0&&(i=-i),e[a]=d*i,s-=o*i,r[a-1]=o-i,u=0;u<a;u++)e[u]=0;for(u=0;u<a;u++){for(o=r[u],n.set(u,a,o),i=e[u]+n.get(u,u)*o,c=u+1;c<=a-1;c++)i+=n.get(c,u)*r[c],e[c]+=n.get(c,u)*o;e[u]=i}for(o=0,u=0;u<a;u++)e[u]/=s,o+=e[u]*r[u];for(h=o/(s+s),u=0;u<a;u++)e[u]-=h*r[u];for(u=0;u<a;u++){for(o=r[u],i=e[u],c=u;c<=a-1;c++)n.set(c,u,n.get(c,u)-(o*e[c]+i*r[c]));r[u]=n.get(a-1,u),n.set(a,u,0)}}r[a]=s}for(a=0;a<t-1;a++){if(n.set(t-1,a,n.get(a,a)),n.set(a,a,1),s=r[a+1],0!==s){for(c=0;c<=a;c++)r[c]=n.get(c,a+1)/s;for(u=0;u<=a;u++){for(i=0,c=0;c<=a;c++)i+=n.get(c,a+1)*n.get(c,u);for(c=0;c<=a;c++)n.set(c,u,n.get(c,u)-i*r[c])}}for(c=0;c<=a;c++)n.set(c,a+1,0)}for(u=0;u<t;u++)r[u]=n.get(t-1,u),n.set(t-1,u,0);n.set(t-1,t-1,1),e[0]=0}function jt(t,e,r,n){let o,i,s,a,u,c,h,d,l,f,g,p,v,y,m,w;for(s=1;s<t;s++)e[s-1]=e[s];e[t-1]=0;let x=0,b=0,E=Number.EPSILON;for(c=0;c<t;c++){b=Math.max(b,Math.abs(r[c])+Math.abs(e[c])),h=c;while(h<t){if(Math.abs(e[h])<=E*b)break;h++}if(h>c)do{for(o=r[c],d=(r[c+1]-o)/(2*e[c]),l=vt(d,1),d<0&&(l=-l),r[c]=e[c]/(d+l),r[c+1]=e[c]*(d+l),f=r[c+1],i=o-r[c],s=c+2;s<t;s++)r[s]-=i;for(x+=i,d=r[h],g=1,p=g,v=g,y=e[c+1],m=0,w=0,s=h-1;s>=c;s--)for(v=p,p=g,w=m,o=g*e[s],i=g*d,l=vt(d,e[s]),e[s+1]=m*l,m=e[s]/l,g=d/l,d=g*r[s]-m*o,r[s+1]=i+m*(g*o+m*r[s]),u=0;u<t;u++)i=n.get(u,s+1),n.set(u,s+1,m*n.get(u,s)+g*i),n.set(u,s,g*n.get(u,s)-m*i);d=-m*w*v*y*e[c]/f,e[c]=m*d,r[c]=g*d}while(Math.abs(e[c])>E*b);r[c]=r[c]+x,e[c]=0}for(s=0;s<t-1;s++){for(u=s,d=r[s],a=s+1;a<t;a++)r[a]<d&&(u=a,d=r[a]);if(u!==s)for(r[u]=r[s],r[s]=d,a=0;a<t;a++)d=n.get(a,s),n.set(a,s,n.get(a,u)),n.set(a,u,d)}}function zt(t,e,r,n){let o,i,s,a,u,c,h,d=0,l=t-1;for(c=d+1;c<=l-1;c++){for(h=0,a=c;a<=l;a++)h+=Math.abs(e.get(a,c-1));if(0!==h){for(s=0,a=l;a>=c;a--)r[a]=e.get(a,c-1)/h,s+=r[a]*r[a];for(i=Math.sqrt(s),r[c]>0&&(i=-i),s-=r[c]*i,r[c]=r[c]-i,u=c;u<t;u++){for(o=0,a=l;a>=c;a--)o+=r[a]*e.get(a,u);for(o/=s,a=c;a<=l;a++)e.set(a,u,e.get(a,u)-o*r[a])}for(a=0;a<=l;a++){for(o=0,u=l;u>=c;u--)o+=r[u]*e.get(a,u);for(o/=s,u=c;u<=l;u++)e.set(a,u,e.get(a,u)-o*r[u])}r[c]=h*r[c],e.set(c,c-1,h*i)}}for(a=0;a<t;a++)for(u=0;u<t;u++)n.set(a,u,a===u?1:0);for(c=l-1;c>=d+1;c--)if(0!==e.get(c,c-1)){for(a=c+1;a<=l;a++)r[a]=e.get(a,c-1);for(u=c;u<=l;u++){for(i=0,a=c;a<=l;a++)i+=r[a]*n.get(a,u);for(i=i/r[c]/e.get(c,c-1),a=c;a<=l;a++)n.set(a,u,n.get(a,u)+i*r[a])}}}function Rt(t,e,r,n,o){let i,s,a,u,c,h,d,l,f,g,p,v,y,m,w,x=t-1,b=0,E=t-1,N=Number.EPSILON,M=0,_=0,A=0,k=0,S=0,O=0,j=0,z=0;for(i=0;i<t;i++)for((i<b||i>E)&&(r[i]=o.get(i,i),e[i]=0),s=Math.max(i-1,0);s<t;s++)_+=Math.abs(o.get(i,s));while(x>=b){u=x;while(u>b){if(O=Math.abs(o.get(u-1,u-1))+Math.abs(o.get(u,u)),0===O&&(O=_),Math.abs(o.get(u,u-1))<N*O)break;u--}if(u===x)o.set(x,x,o.get(x,x)+M),r[x]=o.get(x,x),e[x]=0,x--,z=0;else if(u===x-1){if(d=o.get(x,x-1)*o.get(x-1,x),A=(o.get(x-1,x-1)-o.get(x,x))/2,k=A*A+d,j=Math.sqrt(Math.abs(k)),o.set(x,x,o.get(x,x)+M),o.set(x-1,x-1,o.get(x-1,x-1)+M),l=o.get(x,x),k>=0){for(j=A>=0?A+j:A-j,r[x-1]=l+j,r[x]=r[x-1],0!==j&&(r[x]=l-d/j),e[x-1]=0,e[x]=0,l=o.get(x,x-1),O=Math.abs(l)+Math.abs(j),A=l/O,k=j/O,S=Math.sqrt(A*A+k*k),A/=S,k/=S,s=x-1;s<t;s++)j=o.get(x-1,s),o.set(x-1,s,k*j+A*o.get(x,s)),o.set(x,s,k*o.get(x,s)-A*j);for(i=0;i<=x;i++)j=o.get(i,x-1),o.set(i,x-1,k*j+A*o.get(i,x)),o.set(i,x,k*o.get(i,x)-A*j);for(i=b;i<=E;i++)j=n.get(i,x-1),n.set(i,x-1,k*j+A*n.get(i,x)),n.set(i,x,k*n.get(i,x)-A*j)}else r[x-1]=l+A,r[x]=l+A,e[x-1]=j,e[x]=-j;x-=2,z=0}else{if(l=o.get(x,x),f=0,d=0,u<x&&(f=o.get(x-1,x-1),d=o.get(x,x-1)*o.get(x-1,x)),10===z){for(M+=l,i=b;i<=x;i++)o.set(i,i,o.get(i,i)-l);O=Math.abs(o.get(x,x-1))+Math.abs(o.get(x-1,x-2)),l=f=.75*O,d=-.4375*O*O}if(30===z&&(O=(f-l)/2,O=O*O+d,O>0)){for(O=Math.sqrt(O),f<l&&(O=-O),O=l-d/((f-l)/2+O),i=b;i<=x;i++)o.set(i,i,o.get(i,i)-O);M+=O,l=f=d=.964}z+=1,c=x-2;while(c>=u){if(j=o.get(c,c),S=l-j,O=f-j,A=(S*O-d)/o.get(c+1,c)+o.get(c,c+1),k=o.get(c+1,c+1)-j-S-O,S=o.get(c+2,c+1),O=Math.abs(A)+Math.abs(k)+Math.abs(S),A/=O,k/=O,S/=O,c===u)break;if(Math.abs(o.get(c,c-1))*(Math.abs(k)+Math.abs(S))<N*(Math.abs(A)*(Math.abs(o.get(c-1,c-1))+Math.abs(j)+Math.abs(o.get(c+1,c+1)))))break;c--}for(i=c+2;i<=x;i++)o.set(i,i-2,0),i>c+2&&o.set(i,i-3,0);for(a=c;a<=x-1;a++){if(m=a!==x-1,a!==c&&(A=o.get(a,a-1),k=o.get(a+1,a-1),S=m?o.get(a+2,a-1):0,l=Math.abs(A)+Math.abs(k)+Math.abs(S),0!==l&&(A/=l,k/=l,S/=l)),0===l)break;if(O=Math.sqrt(A*A+k*k+S*S),A<0&&(O=-O),0!==O){for(a!==c?o.set(a,a-1,-O*l):u!==c&&o.set(a,a-1,-o.get(a,a-1)),A+=O,l=A/O,f=k/O,j=S/O,k/=A,S/=A,s=a;s<t;s++)A=o.get(a,s)+k*o.get(a+1,s),m&&(A+=S*o.get(a+2,s),o.set(a+2,s,o.get(a+2,s)-A*j)),o.set(a,s,o.get(a,s)-A*l),o.set(a+1,s,o.get(a+1,s)-A*f);for(i=0;i<=Math.min(x,a+3);i++)A=l*o.get(i,a)+f*o.get(i,a+1),m&&(A+=j*o.get(i,a+2),o.set(i,a+2,o.get(i,a+2)-A*S)),o.set(i,a,o.get(i,a)-A),o.set(i,a+1,o.get(i,a+1)-A*k);for(i=b;i<=E;i++)A=l*n.get(i,a)+f*n.get(i,a+1),m&&(A+=j*n.get(i,a+2),n.set(i,a+2,n.get(i,a+2)-A*S)),n.set(i,a,n.get(i,a)-A),n.set(i,a+1,n.get(i,a+1)-A*k)}}}}if(0!==_){for(x=t-1;x>=0;x--)if(A=r[x],k=e[x],0===k)for(u=x,o.set(x,x,1),i=x-1;i>=0;i--){for(d=o.get(i,i)-A,S=0,s=u;s<=x;s++)S+=o.get(i,s)*o.get(s,x);if(e[i]<0)j=d,O=S;else if(u=i,0===e[i]?o.set(i,x,0!==d?-S/d:-S/(N*_)):(l=o.get(i,i+1),f=o.get(i+1,i),k=(r[i]-A)*(r[i]-A)+e[i]*e[i],h=(l*O-j*S)/k,o.set(i,x,h),o.set(i+1,x,Math.abs(l)>Math.abs(j)?(-S-d*h)/l:(-O-f*h)/j)),h=Math.abs(o.get(i,x)),N*h*h>1)for(s=i;s<=x;s++)o.set(s,x,o.get(s,x)/h)}else if(k<0)for(u=x-1,Math.abs(o.get(x,x-1))>Math.abs(o.get(x-1,x))?(o.set(x-1,x-1,k/o.get(x,x-1)),o.set(x-1,x,-(o.get(x,x)-A)/o.get(x,x-1))):(w=It(0,-o.get(x-1,x),o.get(x-1,x-1)-A,k),o.set(x-1,x-1,w[0]),o.set(x-1,x,w[1])),o.set(x,x-1,0),o.set(x,x,1),i=x-2;i>=0;i--){for(g=0,p=0,s=u;s<=x;s++)g+=o.get(i,s)*o.get(s,x-1),p+=o.get(i,s)*o.get(s,x);if(d=o.get(i,i)-A,e[i]<0)j=d,S=g,O=p;else if(u=i,0===e[i]?(w=It(-g,-p,d,k),o.set(i,x-1,w[0]),o.set(i,x,w[1])):(l=o.get(i,i+1),f=o.get(i+1,i),v=(r[i]-A)*(r[i]-A)+e[i]*e[i]-k*k,y=2*(r[i]-A)*k,0===v&&0===y&&(v=N*_*(Math.abs(d)+Math.abs(k)+Math.abs(l)+Math.abs(f)+Math.abs(j))),w=It(l*S-j*g+k*p,l*O-j*p-k*g,v,y),o.set(i,x-1,w[0]),o.set(i,x,w[1]),Math.abs(l)>Math.abs(j)+Math.abs(k)?(o.set(i+1,x-1,(-g-d*o.get(i,x-1)+k*o.get(i,x))/l),o.set(i+1,x,(-p-d*o.get(i,x)-k*o.get(i,x-1))/l)):(w=It(-S-f*o.get(i,x-1),-O-f*o.get(i,x),j,k),o.set(i+1,x-1,w[0]),o.set(i+1,x,w[1]))),h=Math.max(Math.abs(o.get(i,x-1)),Math.abs(o.get(i,x))),N*h*h>1)for(s=i;s<=x;s++)o.set(s,x-1,o.get(s,x-1)/h),o.set(s,x,o.get(s,x)/h)}for(i=0;i<t;i++)if(i<b||i>E)for(s=i;s<t;s++)n.set(i,s,o.get(i,s));for(s=t-1;s>=b;s--)for(i=b;i<=E;i++){for(j=0,a=b;a<=Math.min(s,E);a++)j+=n.get(i,a)*o.get(a,s);n.set(i,s,j)}}}function It(t,e,r,n){let o,i;return Math.abs(r)>Math.abs(n)?(o=n/r,i=r+o*n,[(t+o*e)/i,(e-o*t)/i]):(o=r/n,i=n+o*r,[(o*t+e)/i,(o*e-t)/i])}class Tt{constructor(t){if(t=ft.checkMatrix(t),!t.isSymmetric())throw new Error("Matrix is not symmetric");let e,r,n,o=t,i=o.rows,s=new X(i,i),a=!0;for(r=0;r<i;r++){let t=0;for(n=0;n<r;n++){let i=0;for(e=0;e<n;e++)i+=s.get(n,e)*s.get(r,e);i=(o.get(r,n)-i)/s.get(n,n),s.set(r,n,i),t+=i*i}for(t=o.get(r,r)-t,a&&=t>0,s.set(r,r,Math.sqrt(Math.max(t,0))),n=r+1;n<i;n++)s.set(r,n,0)}this.L=s,this.positiveDefinite=a}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=ft.checkMatrix(t);let e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let n,o,i,s=t.columns,a=t.clone();for(i=0;i<r;i++)for(o=0;o<s;o++){for(n=0;n<i;n++)a.set(i,o,a.get(i,o)-a.get(n,o)*e.get(i,n));a.set(i,o,a.get(i,o)/e.get(i,i))}for(i=r-1;i>=0;i--)for(o=0;o<s;o++){for(n=i+1;n<r;n++)a.set(i,o,a.get(i,o)-a.get(n,o)*e.get(n,i));a.set(i,o,a.get(i,o)/e.get(i,i))}return a}get lowerTriangularMatrix(){return this.L}}class Pt{constructor(t,e={}){t=ft.checkMatrix(t);let{Y:r}=e;const{scaleScores:n=!1,maxIterations:o=1e3,terminationCriteria:i=1e-10}=e;let s;if(r){if(r=c.isAnyArray(r)&&"number"===typeof r[0]?X.columnVector(r):ft.checkMatrix(r),r.rows!==t.rows)throw new Error("Y should have the same number of rows as X");s=r.getColumnVector(0)}else s=t.getColumnVector(0);let a,u,h,d,l=1;for(let c=0;c<o&&l>i;c++)h=t.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),h=h.div(h.norm()),a=t.mmul(h).div(h.transpose().mmul(h).get(0,0)),c>0&&(l=a.clone().sub(d).pow(2).sum()),d=a.clone(),r?(u=r.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),u=u.div(u.norm()),s=r.mmul(u).div(u.transpose().mmul(u).get(0,0))):s=a;if(r){let e=t.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0));e=e.div(e.norm());let n=t.clone().sub(a.clone().mmul(e.transpose())),o=s.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),i=r.clone().sub(a.clone().mulS(o.get(0,0)).mmul(u.transpose()));this.t=a,this.p=e.transpose(),this.w=h.transpose(),this.q=u,this.u=s,this.s=a.transpose().mmul(a),this.xResidual=n,this.yResidual=i,this.betas=o}else this.w=h.transpose(),this.s=a.transpose().mmul(a).sqrt(),this.t=n?a.clone().div(this.s.get(0,0)):a,this.xResidual=t.sub(a.mmul(h.transpose()))}}e.y3=Y,e.jy=Tt,e.oN=Tt,e.Hc=et,e.cg=St,e.hj=St,e.LU=pt,e.Tb=pt,e.uq=X,e.Zm=ot,e.Dq=nt,e.__=it,e.q0=st,e.lh=ut,e.pI=at,e.zC=ct,e.zg=ht,e.g6=dt,e.OL=Pt,e.ks=Pt,e.QR=yt,e.jp=yt,e.mk=mt,e.W2=mt,e.l=tt,e.KY=lt,e.dv=ft,e.BR=kt,e.Wu=At,e.a4=bt,e.DI=wt,e.Jo=Mt,e.Zi=_t,e.kH=xt,e.LV=gt},68750:function(t,e,r){"use strict";var n=r(97080),o=r(94402),i=r(25170),s=r(83789),a=r(38469),u=r(40507),c=o.Set,h=o.add,d=o.has;t.exports=function(t){var e=n(this),r=s(t),o=new c;return i(e)>r.size?u(r.getIterator(),(function(t){d(e,t)&&h(o,t)})):a(e,(function(t){r.includes(t)&&h(o,t)})),o}},69065:function(t){function e(){this.__data__=[],this.size=0}t.exports=e},69136:function(t,e,r){r(44114);var n=r(19692),o=r(89426),i=r(67250),s=Object.prototype,a=s.hasOwnProperty;function u(t){if(!n(t))return i(t);var e=o(t),r=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&r.push(s);return r}t.exports=u},69476:function(t){function e(t){return function(e,r,n){var o=-1,i=Object(e),s=n(e),a=s.length;while(a--){var u=s[t?a:++o];if(!1===r(i[u],u,i))break}return e}}t.exports=e},69565:function(t,e,r){"use strict";var n=r(40616),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},70081:function(t,e,r){"use strict";var n=r(69565),o=r(79306),i=r(28551),s=r(16823),a=r(50851),u=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(o(r))return i(n(r,t));throw new u(s(t)+" is not iterable")}},70317:function(t,e,r){t=r.nmd(t);var n=r(68606),o=r(13236),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,a=s&&s.exports===i,u=a?n.Buffer:void 0,c=u?u.isBuffer:void 0,h=c||o;t.exports=h},70374:function(t){var e=Object.prototype,r=e.hasOwnProperty;function n(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}t.exports=n},70618:function(t,e,r){var n=r(3778),o=r(15686),i=r(46106),s=Math.max;function a(t,e,r){var a=null==t?0:t.length;if(!a)return-1;var u=null==r?0:i(r);return u<0&&(u=s(a+u,0)),n(t,o(e,3),u)}t.exports=a},70707:function(t){function e(t){return void 0===t}t.exports=e},71072:function(t,e,r){"use strict";var n=r(61828),o=r(88727);t.exports=Object.keys||function(t){return n(t,o)}},71281:function(t){function e(t,e){var r=-1,n=null==t?0:t.length;while(++r<n)if(e(t[r],r,t))return!0;return!1}t.exports=e},71379:function(t){function e(t,e,r){var n=-1,o=t.length,i=e.length,s={};while(++n<o){var a=n<i?e[n]:void 0;r(s,t[n],a)}return s}t.exports=e},71990:function(t,e,r){var n=r(85366),o=r(14915),i=r(8845),s=r(73355);function a(t,e){return n(t)?t:o(t,e)?[t]:i(s(t))}t.exports=a},72288:function(t,e,r){var n=r(29531),o=r(68606),i=n(o,"Set");t.exports=i},72359:function(t,e,r){r(18111),r(7588);var n=r(34230);function o(t,e,r){var o,i={};n.forEach(r,(function(r){var n,s,a=t.parent(r);while(a){if(n=t.parent(a),n?(s=i[n],i[n]=a):(s=o,o=a),s&&s!==a)return void e.setEdge(s,a);a=n}}))}t.exports=o},72652:function(t,e,r){"use strict";var n=r(76080),o=r(69565),i=r(28551),s=r(16823),a=r(44209),u=r(26198),c=r(1625),h=r(70081),d=r(50851),l=r(9539),f=TypeError,g=function(t,e){this.stopped=t,this.result=e},p=g.prototype;t.exports=function(t,e,r){var v,y,m,w,x,b,E,N=r&&r.that,M=!(!r||!r.AS_ENTRIES),_=!(!r||!r.IS_RECORD),A=!(!r||!r.IS_ITERATOR),k=!(!r||!r.INTERRUPTED),S=n(e,N),O=function(t){return v&&l(v,"normal",t),new g(!0,t)},j=function(t){return M?(i(t),k?S(t[0],t[1],O):S(t[0],t[1])):k?S(t,O):S(t)};if(_)v=t.iterator;else if(A)v=t;else{if(y=d(t),!y)throw new f(s(t)+" is not iterable");if(a(y)){for(m=0,w=u(t);w>m;m++)if(x=j(t[m]),x&&c(p,x))return x;return new g(!1)}v=h(t,y)}b=_?t.next:v.next;while(!(E=o(b,v)).done){try{x=j(E.value)}catch(z){l(v,"throw",z)}if("object"==typeof x&&x&&c(p,x))return x}return new g(!1)}},72715:function(t,e,r){var n=r(52387);function o(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}t.exports=o},72777:function(t,e,r){"use strict";var n=r(69565),o=r(20034),i=r(10757),s=r(55966),a=r(84270),u=r(78227),c=TypeError,h=u("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var r,u=s(t,h);if(u){if(void 0===e&&(e="default"),r=n(u,t,e),!o(r)||i(r))return r;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},72949:function(t,e,r){r(44114);var n=r(63034);function o(t,e){var r=[];return n(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}t.exports=o},73227:function(t){function e(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}t.exports=e},73355:function(t,e,r){var n=r(64643);function o(t){return null==t?"":n(t)}t.exports=o},73506:function(t,e,r){"use strict";var n=r(13925),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw new i("Can't set "+o(t)+" as a prototype")}},73809:function(t,e,r){var n=r(97311),o=r(35064),i=r(16517);function s(t){return t&&t.length?n(t,i,o):void 0}t.exports=s},74332:function(t,e,r){var n;try{n=r(48605)}catch(o){}n||(n=window.graphlib),t.exports=n},74473:function(t,e,r){var n=r(6849);function o(){this.__data__=n?n(null):{},this.size=0}t.exports=o},74550:function(t,e,r){var n=r(20081);function o(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},74612:function(t,e,r){var n=r(47045)["default"];function o(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},74854:function(t,e,r){var n=r(43575),o=r(52387),i=r(15686),s=r(19505),a=r(62578),u=r(84276),c=r(13239),h=r(16517),d=r(85366);function l(t,e,r){e=e.length?n(e,(function(t){return d(t)?function(e){return o(e,1===t.length?t[0]:t)}:t})):[h];var l=-1;e=n(e,u(i));var f=s(t,(function(t,r,o){var i=n(e,(function(e){return e(t)}));return{criteria:i,index:++l,value:t}}));return a(f,(function(t,e){return c(t,e,r)}))}t.exports=l},74907:function(t,e,r){var n=r(1068),o=r(14794),i=r(30100),s=r(9765),a=r(19692),u=r(58664),c=r(73227);function h(t,e,r,d,l){t!==e&&i(e,(function(i,u){if(l||(l=new n),a(i))s(t,e,u,r,h,d,l);else{var f=d?d(c(t,u),i,u+"",t,e,l):void 0;void 0===f&&(f=i),o(t,u,f)}}),u)}t.exports=h},75102:function(t,e,r){r(44114);var n=r(36202),o=r(27546),i=r(63066),s=200;function a(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<s-1)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}t.exports=a},75360:function(t,e,r){var n=r(48882);function o(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}t.exports=o},75854:function(t,e,r){"use strict";var n=r(72777),o=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw new o("Can't convert number to bigint");return BigInt(e)}},76039:function(t,e,r){var n=r(36202);function o(){this.__data__=new n,this.size=0}t.exports=o},76080:function(t,e,r){"use strict";var n=r(27476),o=r(79306),i=r(40616),s=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?s(t,e):function(){return t.apply(e,arguments)}}},77083:function(t){function e(t){return function(){return t}}t.exports=e},77305:function(t){function e(t,e){var r=-1,n=Array(t);while(++r<t)n[r]=e(r);return n}t.exports=e},77347:function(t,e,r){"use strict";var n=r(43724),o=r(69565),i=r(48773),s=r(6980),a=r(25397),u=r(56969),c=r(39297),h=r(35917),d=Object.getOwnPropertyDescriptor;e.f=n?d:function(t,e){if(t=a(t),e=u(e),h)try{return d(t,e)}catch(r){}if(c(t,e))return s(!o(i.f,t,e),t[e])}},77629:function(t,e,r){"use strict";var n=r(96395),o=r(44576),i=r(39433),s="__core-js_shared__",a=t.exports=o[s]||i(s,{});(a.versions||(a.versions=[])).push({version:"3.41.0",mode:n?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},77740:function(t,e,r){"use strict";var n=r(39297),o=r(35031),i=r(77347),s=r(24913);t.exports=function(t,e,r){for(var a=o(e),u=s.f,c=i.f,h=0;h<a.length;h++){var d=a[h];n(t,d)||r&&n(r,d)||u(t,d,c(e,d))}}},77770:function(t){function e(){return[]}t.exports=e},77811:function(t){"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},77936:function(t,e,r){"use strict";var n=r(46518),o=r(95636);o&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return o(this,arguments.length?arguments[0]:void 0,!1)}})},78100:function(t,e,r){"use strict";var n=r(46518),o=r(95636);o&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return o(this,arguments.length?arguments[0]:void 0,!0)}})},78227:function(t,e,r){"use strict";var n=r(44576),o=r(25745),i=r(39297),s=r(33392),a=r(4495),u=r(7040),c=n.Symbol,h=o("wks"),d=u?c["for"]||c:c&&c.withoutSetter||s;t.exports=function(t){return i(h,t)||(h[t]=a&&i(c,t)?c[t]:d("Symbol."+t)),h[t]}},78659:function(t,e,r){r(44114);var n=r(89426),o=r(26409),i=Object.prototype,s=i.hasOwnProperty;function a(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))s.call(t,r)&&"constructor"!=r&&e.push(r);return e}t.exports=a},78695:function(t,e,r){var n=r(58063),o=r(64011);function i(t,e){return null!=t&&o(t,e,n)}t.exports=i},79039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},79306:function(t,e,r){"use strict";var n=r(94901),o=r(16823),i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(o(t)+" is not a function")}},79504:function(t,e,r){"use strict";var n=r(40616),o=Function.prototype,i=o.call,s=n&&o.bind.bind(i,i);t.exports=n?s:function(t){return function(){return i.apply(t,arguments)}}},79577:function(t,e,r){"use strict";var n=r(39928),o=r(94644),i=r(18727),s=r(91291),a=r(75854),u=o.aTypedArray,c=o.getTypedArrayConstructor,h=o.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();h("with",{with:function(t,e){var r=u(this),o=s(t),h=i(r)?a(e):+e;return n(r,c(r),o,h)}}["with"],!d)},80475:function(t,e,r){var n=r(14784),o=r(51683),i=r(59106),s=r(15686),a=r(87136),u=r(85366),c=r(70317),h=r(44823),d=r(19692),l=r(29562);function f(t,e,r){var f=u(t),g=f||c(t)||l(t);if(e=s(e,4),null==r){var p=t&&t.constructor;r=g?f?new p:[]:d(t)&&h(p)?o(a(t)):{}}return(g?n:i)(t,(function(t,n,o){return e(r,t,n,o)})),r}t.exports=f},80741:function(t){"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},80770:function(t,e,r){t=r.nmd(t);var n=r(86903),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o,a=s&&n.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=u},81148:function(t,e,r){"use strict";var n=r(46518),o=r(72652),i=r(79306),s=r(28551),a=r(1767);n({target:"Iterator",proto:!0,real:!0},{every:function(t){s(this),i(t);var e=a(this),r=0;return!o(e,(function(e,n){if(!t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},81780:function(t){var e=800,r=16,n=Date.now;function o(t){var o=0,i=0;return function(){var s=n(),a=r-(s-i);if(i=s,a>0){if(++o>=e)return arguments[0]}else o=0;return t.apply(void 0,arguments)}}t.exports=o},82119:function(t,e,r){var n=r(7966),o=r(71990),i=r(47744),s=r(19692),a=r(99416);function u(t,e,r,u){if(!s(t))return t;e=o(e,t);var c=-1,h=e.length,d=h-1,l=t;while(null!=l&&++c<h){var f=a(e[c]),g=r;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(c!=d){var p=l[f];g=u?u(p,f,l):void 0,void 0===g&&(g=s(p)?p:i(e[c+1])?[]:{})}n(l,f,g),l=l[f]}return t}t.exports=u},82839:function(t,e,r){"use strict";var n=r(44576),o=n.navigator,i=o&&o.userAgent;t.exports=i?String(i):""},82884:function(t){var e=/\w*$/;function r(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}t.exports=r},82887:function(t,e,r){var n=r(84428);function o(t,e){n(t,e),e.add(t)}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},82900:function(t,e,r){t.exports={components:r(44166),dijkstra:r(32188),dijkstraAll:r(22046),findCycles:r(30997),floydWarshall:r(16259),isAcyclic:r(1879),postorder:r(40118),preorder:r(45),prim:r(1114),tarjan:r(85386),topsort:r(55387)}},82976:function(t){function e(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}t.exports=e},83440:function(t,e,r){"use strict";var n=r(97080),o=r(94402),i=r(89286),s=r(25170),a=r(83789),u=r(38469),c=r(40507),h=o.has,d=o.remove;t.exports=function(t){var e=n(this),r=a(t),o=i(e);return s(e)<=r.size?u(e,(function(t){r.includes(t)&&d(o,t)})):c(r.getIterator(),(function(t){h(e,t)&&d(o,t)})),o}},83650:function(t,e,r){"use strict";var n=r(97080),o=r(94402),i=r(89286),s=r(83789),a=r(40507),u=o.add,c=o.has,h=o.remove;t.exports=function(t){var e=n(this),r=s(t).getIterator(),o=i(e);return a(r,(function(t){c(e,t)?h(o,t):u(o,t)})),o}},83789:function(t,e,r){"use strict";var n=r(79306),o=r(28551),i=r(69565),s=r(91291),a=r(1767),u="Invalid size",c=RangeError,h=TypeError,d=Math.max,l=function(t,e){this.set=t,this.size=d(e,0),this.has=n(t.has),this.keys=n(t.keys)};l.prototype={getIterator:function(){return a(o(i(this.keys,this.set)))},includes:function(t){return i(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!==e)throw new h(u);var r=s(e);if(r<0)throw new c(u);return new l(t,r)}},84215:function(t,e,r){"use strict";var n=r(44576),o=r(82839),i=r(22195),s=function(t){return o.slice(0,t.length)===t};t.exports=function(){return s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"}()},84243:function(t,e,r){var n=r(64867),o=r(19692),i=r(29299),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt;function d(t){if("number"==typeof t)return t;if(i(t))return s;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=u.test(t);return r||c.test(t)?h(t.slice(2),r?2:8):a.test(t)?s:+t}t.exports=d},84270:function(t,e,r){"use strict";var n=r(69565),o=r(94901),i=r(20034),s=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&o(r=t.toString)&&!i(a=n(r,t)))return a;if(o(r=t.valueOf)&&!i(a=n(r,t)))return a;if("string"!==e&&o(r=t.toString)&&!i(a=n(r,t)))return a;throw new s("Can't convert object to primitive value")}},84276:function(t){function e(t){return function(e){return t(e)}}t.exports=e},84391:function(t){function e(t,e){var r=-1,n=null==t?0:t.length,o=0,i=[];while(++r<n){var s=t[r];e(s,r,t)&&(i[o++]=s)}return i}t.exports=e},84428:function(t){function e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},84916:function(t,e,r){"use strict";var n=r(97751),o=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},i=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}};t.exports=function(t,e){var r=n("Set");try{(new r)[t](o(0));try{return(new r)[t](o(-1)),!1}catch(a){if(!e)return!0;try{return(new r)[t](i(-1/0)),!1}catch(u){var s=new r;return s.add(1),s.add(2),e(s[t](i(1/0)))}}}catch(u){return!1}}},85091:function(t){function e(t){return null!=t&&"object"==typeof t}t.exports=e},85340:function(t,e,r){var n=r(13867),o=r(81780),i=o(n);t.exports=i},85366:function(t){var e=Array.isArray;t.exports=e},85386:function(t,e,r){r(44114),r(18111),r(7588);var n=r(27260);function o(t){var e=0,r=[],o={},i=[];function s(a){var u=o[a]={onStack:!0,lowlink:e,index:e++};if(r.push(a),t.successors(a).forEach((function(t){n.has(o,t)?o[t].onStack&&(u.lowlink=Math.min(u.lowlink,o[t].index)):(s(t),u.lowlink=Math.min(u.lowlink,o[t].lowlink))})),u.lowlink===u.index){var c,h=[];do{c=r.pop(),o[c].onStack=!1,h.push(c)}while(a!==c);i.push(h)}}return t.nodes().forEach((function(t){n.has(o,t)||s(t)})),i}t.exports=o},85677:function(t){var e=Object.prototype,r=e.toString;function n(t){return r.call(t)}t.exports=n},85858:function(t){var e="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",i=r+n+o,s="\\ufe0e\\ufe0f",a="["+e+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+c+")",d="[^"+e+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",p=h+"?",v="["+s+"]?",y="(?:"+g+"(?:"+[d,l,f].join("|")+")"+v+p+")*",m=v+p+y,w="(?:"+[d+u+"?",u,l,f,a].join("|")+")",x=RegExp(c+"(?="+c+")|"+w+m,"g");function b(t){var e=x.lastIndex=0;while(x.test(t))++e;return e}t.exports=b},85926:function(t){function e(t){return this.__data__.has(t)}t.exports=e},86061:function(t){function e(t,e){return t===e||t!==t&&e!==e}t.exports=e},86250:function(t,e,r){var n=r(99315),o=r(85366),i=r(85091),s="[object String]";function a(t){return"string"==typeof t||!o(t)&&i(t)&&n(t)==s}t.exports=a},86847:function(t){function e(){}t.exports=e},86903:function(t,e,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},87136:function(t,e,r){var n=r(98230),o=n(Object.getPrototypeOf,Object);t.exports=o},87242:function(t,e,r){var n=r(97874),o=r(15219),i=r(85366),s=n?n.isConcatSpreadable:void 0;function a(t){return i(t)||o(t)||!!(s&&t&&t[s])}t.exports=a},87376:function(t,e,r){var n=r(72288),o=r(86847),i=r(61764),s=1/0,a=n&&1/i(new n([,-0]))[1]==s?function(t){return new n(t)}:o;t.exports=a},87969:function(t,e,r){r(44114),r(18111),r(7588);var n=r(34230);function o(t){var e=s(t);n.forEach(t.graph().dummyChains,(function(r){var n=t.node(r),o=n.edgeObj,s=i(t,e,o.v,o.w),a=s.path,u=s.lca,c=0,h=a[c],d=!0;while(r!==o.w){if(n=t.node(r),d){while((h=a[c])!==u&&t.node(h).maxRank<n.rank)c++;h===u&&(d=!1)}if(!d){while(c<a.length-1&&t.node(h=a[c+1]).minRank<=n.rank)c++;h=a[c]}t.setParent(r,h),r=t.successors(r)[0]}}))}function i(t,e,r,n){var o,i,s=[],a=[],u=Math.min(e[r].low,e[n].low),c=Math.max(e[r].lim,e[n].lim);o=r;do{o=t.parent(o),s.push(o)}while(o&&(e[o].low>u||c>e[o].lim));i=o,o=n;while((o=t.parent(o))!==i)a.push(o);return{path:s.concat(a.reverse()),lca:i}}function s(t){var e={},r=0;function o(i){var s=r;n.forEach(t.children(i),o),e[i]={low:s,lim:r++}}return n.forEach(t.children(),o),e}t.exports=o},88090:function(t,e,r){var n=r(50968),o=r(89915);function i(t,e){return n(t,o(t),e)}t.exports=i},88727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},88864:function(t,e,r){var n=r(52387);function o(t){return function(e){return n(e,t)}}t.exports=o},88987:function(t,e,r){var n=r(93238),o=r(78659),i=r(48465);function s(t){return i(t)?n(t):o(t)}t.exports=s},89253:function(t,e,r){var n=r(15686),o=r(48465),i=r(88987);function s(t){return function(e,r,s){var a=Object(e);if(!o(e)){var u=n(r,3);e=i(e),r=function(t){return u(a[t],t,a)}}var c=t(e,r,s);return c>-1?a[u?e[c]:c]:void 0}}t.exports=s},89286:function(t,e,r){"use strict";var n=r(94402),o=r(38469),i=n.Set,s=n.add;t.exports=function(t){var e=new i;return o(t,(function(t){s(e,t)})),e}},89426:function(t){var e=Object.prototype;function r(t){var r=t&&t.constructor,n="function"==typeof r&&r.prototype||e;return t===n}t.exports=r},89429:function(t,e,r){"use strict";var n=r(44576),o=r(16193);t.exports=function(t){if(o){try{return n.process.getBuiltinModule(t)}catch(e){}try{return Function('return require("'+t+'")')()}catch(e){}}}},89545:function(t,e,r){var n=r(15841),o=r(88987);function i(t){return null==t?[]:n(t,o(t))}t.exports=i},89678:function(t,e,r){r(18111),r(7588);var n=r(34230),o=r(6247);function i(t){function e(r){var o=t.children(r),i=t.node(r);if(o.length&&n.forEach(o,e),n.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,u=i.maxRank+1;a<u;++a)s(t,"borderLeft","_bl",r,i,a),s(t,"borderRight","_br",r,i,a)}}n.forEach(t.children(),e)}function s(t,e,r,n,i,s){var a={width:0,height:0,rank:s,borderType:e},u=i[e][s-1],c=o.addDummyNode(t,"border",a,r);i[e][s]=c,t.setParent(c,n),u&&t.setEdge(u,c,{weight:1})}t.exports=i},89712:function(t,e,r){var n=r(89253),o=r(70618),i=n(o);t.exports=i},89802:function(t,e,r){var n=r(94857),o=r(74854),i=r(2409),s=r(31207),a=i((function(t,e){if(null==t)return[];var r=e.length;return r>1&&s(t,e[0],e[1])?e=[]:r>2&&s(e[0],e[1],e[2])&&(e=[e[0]]),o(t,n(e,1),[])}));t.exports=a},89915:function(t,e,r){var n=r(84391),o=r(77770),i=Object.prototype,s=i.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return s.call(t,e)})))}:o;t.exports=u},90679:function(t,e,r){"use strict";var n=r(1625),o=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new o("Incorrect invocation")}},90957:function(t,e,r){var n=r(84391),o=r(72949),i=r(15686),s=r(85366);function a(t,e){var r=s(t)?n:o;return r(t,i(e,3))}t.exports=a},91181:function(t,e,r){"use strict";var n,o,i,s=r(58622),a=r(44576),u=r(20034),c=r(66699),h=r(39297),d=r(77629),l=r(66119),f=r(30421),g="Object already initialized",p=a.TypeError,v=a.WeakMap,y=function(t){return i(t)?o(t):n(t,{})},m=function(t){return function(e){var r;if(!u(e)||(r=o(e)).type!==t)throw new p("Incompatible receiver, "+t+" required");return r}};if(s||d.state){var w=d.state||(d.state=new v);w.get=w.get,w.has=w.has,w.set=w.set,n=function(t,e){if(w.has(t))throw new p(g);return e.facade=t,w.set(t,e),e},o=function(t){return w.get(t)||{}},i=function(t){return w.has(t)}}else{var x=l("state");f[x]=!0,n=function(t,e){if(h(t,x))throw new p(g);return e.facade=t,c(t,x,e),e},o=function(t){return h(t,x)?t[x]:{}},i=function(t){return h(t,x)}}t.exports={set:n,get:o,has:i,enforce:y,getterFor:m}},91261:function(t,e,r){var n=r(50968),o=r(98184);function i(t,e){return n(t,o(t),e)}t.exports=i},91291:function(t,e,r){"use strict";var n=r(80741);t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},92119:function(t,e,r){t.exports={graphlib:r(74332),layout:r(22149),debug:r(18840),util:{time:r(6247).time,notime:r(6247).notime},version:r(14807)}},92140:function(t,e,r){"use strict";var n=r(78227),o=n("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},92329:function(t,e,r){var n=r(21268),o=r(89915),i=r(88987);function s(t){return n(t,i,o)}t.exports=s},92796:function(t,e,r){"use strict";var n=r(79039),o=r(94901),i=/#|\.prototype\./,s=function(t,e){var r=u[a(t)];return r===h||r!==c&&(o(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",h=s.POLYFILL="P";t.exports=s},92911:function(t,e,r){var n=r(50968),o=r(58664);function i(t){return n(t,o(t))}t.exports=i},93238:function(t,e,r){r(44114);var n=r(77305),o=r(15219),i=r(85366),s=r(70317),a=r(47744),u=r(29562),c=Object.prototype,h=c.hasOwnProperty;function d(t,e){var r=i(t),c=!r&&o(t),d=!r&&!c&&s(t),l=!r&&!c&&!d&&u(t),f=r||c||d||l,g=f?n(t.length,String):[],p=g.length;for(var v in t)!e&&!h.call(t,v)||f&&("length"==v||d&&("offset"==v||"parent"==v)||l&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,p))||g.push(v);return g}t.exports=d},94094:function(t,e,r){r(44114);var n=r(1676),o=r(26284),i=r(15668),s=r(44032),a=r(87376),u=r(61764),c=200;function h(t,e,r){var h=-1,d=o,l=t.length,f=!0,g=[],p=g;if(r)f=!1,d=i;else if(l>=c){var v=e?null:a(t);if(v)return u(v);f=!1,d=s,p=new n}else p=e?[]:g;t:while(++h<l){var y=t[h],m=e?e(y):y;if(y=r||0!==y?y:0,f&&m===m){var w=p.length;while(w--)if(p[w]===m)continue t;e&&p.push(m),g.push(y)}else d(p,m,r)||(p!==g&&p.push(m),g.push(y))}return g}t.exports=h},94402:function(t,e,r){"use strict";var n=r(79504),o=Set.prototype;t.exports={Set:Set,add:n(o.add),has:n(o.has),remove:n(o["delete"]),proto:o}},94483:function(t,e,r){"use strict";var n,o,i,s,a=r(44576),u=r(89429),c=r(1548),h=a.structuredClone,d=a.ArrayBuffer,l=a.MessageChannel,f=!1;if(c)f=function(t){h(t,{transfer:[t]})};else if(d)try{l||(n=u("worker_threads"),n&&(l=n.MessageChannel)),l&&(o=new l,i=new d(2),s=function(t){o.port1.postMessage(null,[t])},2===i.byteLength&&(s(i),0===i.byteLength&&(f=s)))}catch(g){}t.exports=f},94644:function(t,e,r){"use strict";var n,o,i,s=r(77811),a=r(43724),u=r(44576),c=r(94901),h=r(20034),d=r(39297),l=r(36955),f=r(16823),g=r(66699),p=r(36840),v=r(62106),y=r(1625),m=r(42787),w=r(52967),x=r(78227),b=r(33392),E=r(91181),N=E.enforce,M=E.get,_=u.Int8Array,A=_&&_.prototype,k=u.Uint8ClampedArray,S=k&&k.prototype,O=_&&m(_),j=A&&m(A),z=Object.prototype,R=u.TypeError,I=x("toStringTag"),T=b("TYPED_ARRAY_TAG"),P="TypedArrayConstructor",C=s&&!!w&&"Opera"!==l(u.opera),D=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},q=function(t){if(!h(t))return!1;var e=l(t);return"DataView"===e||d(L,e)||d(F,e)},V=function(t){var e=m(t);if(h(e)){var r=M(e);return r&&d(r,P)?r[P]:V(e)}},B=function(t){if(!h(t))return!1;var e=l(t);return d(L,e)||d(F,e)},U=function(t){if(B(t))return t;throw new R("Target is not a typed array")},G=function(t){if(c(t)&&(!w||y(O,t)))return t;throw new R(f(t)+" is not a typed array constructor")},$=function(t,e,r,n){if(a){if(r)for(var o in L){var i=u[o];if(i&&d(i.prototype,t))try{delete i.prototype[t]}catch(s){try{i.prototype[t]=e}catch(c){}}}j[t]&&!r||p(j,t,r?e:C&&A[t]||e,n)}},W=function(t,e,r){var n,o;if(a){if(w){if(r)for(n in L)if(o=u[n],o&&d(o,t))try{delete o[t]}catch(i){}if(O[t]&&!r)return;try{return p(O,t,r?e:C&&O[t]||e)}catch(i){}}for(n in L)o=u[n],!o||o[t]&&!r||p(o,t,e)}};for(n in L)o=u[n],i=o&&o.prototype,i?N(i)[P]=o:C=!1;for(n in F)o=u[n],i=o&&o.prototype,i&&(N(i)[P]=o);if((!C||!c(O)||O===Function.prototype)&&(O=function(){throw new R("Incorrect invocation")},C))for(n in L)u[n]&&w(u[n],O);if((!C||!j||j===z)&&(j=O.prototype,C))for(n in L)u[n]&&w(u[n].prototype,j);if(C&&m(S)!==j&&w(S,j),a&&!d(j,I))for(n in D=!0,v(j,I,{configurable:!0,get:function(){return h(this)?this[T]:void 0}}),L)u[n]&&g(u[n],T,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:C,TYPED_ARRAY_TAG:D&&T,aTypedArray:U,aTypedArrayConstructor:G,exportTypedArrayMethod:$,exportTypedArrayStaticMethod:W,getTypedArrayConstructor:V,isView:q,isTypedArray:B,TypedArray:O,TypedArrayPrototype:j}},94751:function(t){function e(t,e){return t<e}t.exports=e},94804:function(t){function e(t,e){return null!=t&&e in Object(t)}t.exports=e},94857:function(t,e,r){var n=r(62297),o=r(87242);function i(t,e,r,s,a){var u=-1,c=t.length;r||(r=o),a||(a=[]);while(++u<c){var h=t[u];e>0&&r(h)?e>1?i(h,e-1,r,s,a):n(a,h):s||(a[a.length]=h)}return a}t.exports=i},94901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},95353:function(t){var e="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",i=r+n+o,s="\\ufe0e\\ufe0f",a="\\u200d",u=RegExp("["+a+e+i+s+"]");function c(t){return u.test(t)}t.exports=c},95636:function(t,e,r){"use strict";var n=r(44576),o=r(79504),i=r(46706),s=r(57696),a=r(55169),u=r(67394),c=r(94483),h=r(1548),d=n.structuredClone,l=n.ArrayBuffer,f=n.DataView,g=Math.min,p=l.prototype,v=f.prototype,y=o(p.slice),m=i(p,"resizable","get"),w=i(p,"maxByteLength","get"),x=o(v.getInt8),b=o(v.setInt8);t.exports=(h||c)&&function(t,e,r){var n,o=u(t),i=void 0===e?o:s(e),p=!m||!m(t);if(a(t),h&&(t=d(t,{transfer:[t]}),o===i&&(r||p)))return t;if(o>=i&&(!r||p))n=y(t,0,i);else{var v=r&&!p&&w?{maxByteLength:w(t)}:void 0;n=new l(i,v);for(var E=new f(t),N=new f(n),M=g(i,o),_=0;_<M;_++)b(N,_,x(E,_))}return h||c(t),n}},95722:function(t,e,r){var n=r(25114),o=n("length");t.exports=o},95726:function(t,e,r){r(44114),r(18111),r(7588);var n=r(34230),o=r(6247);function i(t,e){var r=o.partition(t,(function(t){return n.has(t,"barycenter")})),i=r.lhs,u=n.sortBy(r.rhs,(function(t){return-t.i})),c=[],h=0,d=0,l=0;i.sort(a(!!e)),l=s(c,u,l),n.forEach(i,(function(t){l+=t.vs.length,c.push(t.vs),h+=t.barycenter*t.weight,d+=t.weight,l=s(c,u,l)}));var f={vs:n.flatten(c,!0)};return d&&(f.barycenter=h/d,f.weight=d),f}function s(t,e,r){var o;while(e.length&&(o=n.last(e)).i<=r)e.pop(),t.push(o.vs),r++;return r}function a(t){return function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:t?r.i-e.i:e.i-r.i}}t.exports=i},96123:function(t,e,r){r(18111),r(61701),r(18237);var n=r(34230);function o(t,e){return n.map(e,(function(e){var r=t.inEdges(e);if(r.length){var o=n.reduce(r,(function(e,r){var n=t.edge(r),o=t.node(r.v);return{sum:e.sum+n.weight*o.order,weight:e.weight+n.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}t.exports=o},96319:function(t,e,r){"use strict";var n=r(28551),o=r(9539);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(s){o(t,"throw",s)}}},96395:function(t){"use strict";t.exports=!1},96599:function(t,e,r){r(18111),r(61701);var n=r(27260),o=r(8961);function i(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:s(t),edges:a(t)};return n.isUndefined(t.graph())||(e.value=n.clone(t.graph())),e}function s(t){return n.map(t.nodes(),(function(e){var r=t.node(e),o=t.parent(e),i={v:e};return n.isUndefined(r)||(i.value=r),n.isUndefined(o)||(i.parent=o),i}))}function a(t){return n.map(t.edges(),(function(e){var r=t.edge(e),o={v:e.v,w:e.w};return n.isUndefined(e.name)||(o.name=e.name),n.isUndefined(r)||(o.value=r),o}))}function u(t){var e=new o(t.options).setGraph(t.value);return n.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),n.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}t.exports={write:i,read:u}},96660:function(t,e,r){"use strict";r(44114),r(18111),r(20116),r(7588),r(61701),r(18237);var n=r(34230),o=r(74332).Graph,i=r(6247);function s(t,e){var r={};function o(e,o){var i=0,s=0,a=e.length,h=n.last(o);return n.forEach(o,(function(e,d){var l=u(t,e),f=l?t.node(l).order:a;(l||e===h)&&(n.forEach(o.slice(s,d+1),(function(e){n.forEach(t.predecessors(e),(function(n){var o=t.node(n),s=o.order;!(s<i||f<s)||o.dummy&&t.node(e).dummy||c(r,n,e)}))})),s=d+1,i=f)})),o}return n.reduce(e,o),r}function a(t,e){var r={};function o(e,o,i,s,a){var u;n.forEach(n.range(o,i),(function(o){u=e[o],t.node(u).dummy&&n.forEach(t.predecessors(u),(function(e){var n=t.node(e);n.dummy&&(n.order<s||n.order>a)&&c(r,e,u)}))}))}function i(e,r){var i,s=-1,a=0;return n.forEach(r,(function(n,u){if("border"===t.node(n).dummy){var c=t.predecessors(n);c.length&&(i=t.node(c[0]).order,o(r,a,u,s,i),a=u,s=i)}o(r,a,r.length,i,e.length)})),r}return n.reduce(e,i),r}function u(t,e){if(t.node(e).dummy)return n.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}function c(t,e,r){if(e>r){var n=e;e=r,r=n}var o=t[e];o||(t[e]=o={}),o[r]=!0}function h(t,e,r){if(e>r){var o=e;e=r,r=o}return n.has(t[e],r)}function d(t,e,r,o){var i={},s={},a={};return n.forEach(e,(function(t){n.forEach(t,(function(t,e){i[t]=t,s[t]=t,a[t]=e}))})),n.forEach(e,(function(t){var e=-1;n.forEach(t,(function(t){var u=o(t);if(u.length){u=n.sortBy(u,(function(t){return a[t]}));for(var c=(u.length-1)/2,d=Math.floor(c),l=Math.ceil(c);d<=l;++d){var f=u[d];s[t]===t&&e<a[f]&&!h(r,t,f)&&(s[f]=t,s[t]=i[t]=i[f],e=a[f])}}}))})),{root:i,align:s}}function l(t,e,r,o,i){var s={},a=f(t,e,r,i),u=i?"borderLeft":"borderRight";function c(t,e){var r=a.nodes(),n=r.pop(),o={};while(n)o[n]?t(n):(o[n]=!0,r.push(n),r=r.concat(e(n))),n=r.pop()}function h(t){s[t]=a.inEdges(t).reduce((function(t,e){return Math.max(t,s[e.v]+a.edge(e))}),0)}function d(e){var r=a.outEdges(e).reduce((function(t,e){return Math.min(t,s[e.w]-a.edge(e))}),Number.POSITIVE_INFINITY),n=t.node(e);r!==Number.POSITIVE_INFINITY&&n.borderType!==u&&(s[e]=Math.max(s[e],r))}return c(h,a.predecessors.bind(a)),c(d,a.successors.bind(a)),n.forEach(o,(function(t){s[t]=s[r[t]]})),s}function f(t,e,r,i){var s=new o,a=t.graph(),u=m(a.nodesep,a.edgesep,i);return n.forEach(e,(function(e){var o;n.forEach(e,(function(e){var n=r[e];if(s.setNode(n),o){var i=r[o],a=s.edge(i,n);s.setEdge(i,n,Math.max(u(t,e,o),a||0))}o=e}))})),s}function g(t,e){return n.minBy(n.values(e),(function(e){var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return n.forIn(e,(function(e,n){var i=w(t,n)/2;r=Math.max(e+i,r),o=Math.min(e-i,o)})),r-o}))}function p(t,e){var r=n.values(e),o=n.min(r),i=n.max(r);n.forEach(["u","d"],(function(r){n.forEach(["l","r"],(function(s){var a,u=r+s,c=t[u];if(c!==e){var h=n.values(c);a="l"===s?o-n.min(h):i-n.max(h),a&&(t[u]=n.mapValues(c,(function(t){return t+a})))}}))}))}function v(t,e){return n.mapValues(t.ul,(function(r,o){if(e)return t[e.toLowerCase()][o];var i=n.sortBy(n.map(t,o));return(i[1]+i[2])/2}))}function y(t){var e,r=i.buildLayerMatrix(t),o=n.merge(s(t,r),a(t,r)),u={};n.forEach(["u","d"],(function(i){e="u"===i?r:n.values(r).reverse(),n.forEach(["l","r"],(function(r){"r"===r&&(e=n.map(e,(function(t){return n.values(t).reverse()})));var s=("u"===i?t.predecessors:t.successors).bind(t),a=d(t,e,o,s),c=l(t,e,a.root,a.align,"r"===r);"r"===r&&(c=n.mapValues(c,(function(t){return-t}))),u[i+r]=c}))}));var c=g(t,u);return p(u,c),v(u,t.graph().align)}function m(t,e,r){return function(o,i,s){var a,u=o.node(i),c=o.node(s),h=0;if(h+=u.width/2,n.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=-u.width/2;break;case"r":a=u.width/2;break}if(a&&(h+=r?a:-a),a=0,h+=(u.dummy?e:t)/2,h+=(c.dummy?e:t)/2,h+=c.width/2,n.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=c.width/2;break;case"r":a=-c.width/2;break}return a&&(h+=r?a:-a),a=0,h}}function w(t,e){return t.node(e).width}t.exports={positionX:y,findType1Conflicts:s,findType2Conflicts:a,addConflict:c,hasConflict:h,verticalAlignment:d,horizontalCompaction:l,alignCoordinates:p,findSmallestWidthAlignment:g,balance:v}},96801:function(t,e,r){"use strict";var n=r(43724),o=r(48686),i=r(24913),s=r(28551),a=r(25397),u=r(71072);e.f=n&&!o?Object.defineProperties:function(t,e){s(t);var r,n=a(e),o=u(e),c=o.length,h=0;while(c>h)i.f(t,r=o[h++],n[r]);return t}},96837:function(t){"use strict";var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},97040:function(t,e,r){"use strict";var n=r(43724),o=r(24913),i=r(6980);t.exports=function(t,e,r){n?o.f(t,e,i(0,r)):t[e]=r}},97080:function(t,e,r){"use strict";var n=r(94402).has;t.exports=function(t){return n(t),t}},97311:function(t,e,r){var n=r(29299);function o(t,e,r){var o=-1,i=t.length;while(++o<i){var s=t[o],a=e(s);if(null!=a&&(void 0===u?a===a&&!n(a):r(a,u)))var u=a,c=s}return c}t.exports=o},97382:function(t,e,r){var n=r(29531),o=r(68606),i=n(o,"WeakMap");t.exports=i},97751:function(t,e,r){"use strict";var n=r(44576),o=r(94901),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t]):n[t]&&n[t][e]}},97874:function(t,e,r){var n=r(68606),o=n.Symbol;t.exports=o},98184:function(t,e,r){var n=r(62297),o=r(87136),i=r(89915),s=r(77770),a=Object.getOwnPropertySymbols,u=a?function(t){var e=[];while(t)n(e,i(t)),t=o(t);return e}:s;t.exports=u},98230:function(t){function e(t,e){return function(r){return t(e(r))}}t.exports=e},98619:function(t){function e(t,e){return null==t?void 0:t[e]}t.exports=e},99002:function(t,e,r){var n=r(68706),o=r(19903),i=o((function(t,e){return null==t?{}:n(t,e)}));t.exports=i},99231:function(t,e,r){var n=r(56817),o=r(85091);function i(t,e,r,s,a){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:n(t,e,r,s,i,a))}t.exports=i},99315:function(t,e,r){var n=r(97874),o=r(60038),i=r(85677),s="[object Null]",a="[object Undefined]",u=n?n.toStringTag:void 0;function c(t){return null==t?void 0===t?a:s:u&&u in Object(t)?o(t):i(t)}t.exports=c},99389:function(t,e,r){r(18111),r(22489),r(7588),r(61701);var n=r(34230),o=r(96123),i=r(43646),s=r(95726);function a(t,e,r,h){var d=t.children(e),l=t.node(e),f=l?l.borderLeft:void 0,g=l?l.borderRight:void 0,p={};f&&(d=n.filter(d,(function(t){return t!==f&&t!==g})));var v=o(t,d);n.forEach(v,(function(e){if(t.children(e.v).length){var o=a(t,e.v,r,h);p[e.v]=o,n.has(o,"barycenter")&&c(e,o)}}));var y=i(v,r);u(y,p);var m=s(y,h);if(f&&(m.vs=n.flatten([f,m.vs,g],!0),t.predecessors(f).length)){var w=t.node(t.predecessors(f)[0]),x=t.node(t.predecessors(g)[0]);n.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+w.order+x.order)/(m.weight+2),m.weight+=2}return m}function u(t,e){n.forEach(t,(function(t){t.vs=n.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}function c(t,e){n.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}t.exports=a},99416:function(t,e,r){var n=r(29299),o=1/0;function i(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}t.exports=i}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}!function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}();!function(){"use strict";r(44114),r(18111);function t(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function e(t,e,r,n){function o(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,i){function s(t){try{u(n.next(t))}catch(e){i(e)}}function a(t){try{u(n["throw"](t))}catch(e){i(e)}}function u(t){t.done?r(t.value):o(t.value).then(s,a)}u((n=n.apply(t,e||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function i(t){var e=o(t,"string");return"symbol"==n(e)?e:e+""}function s(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(22489),r(20116),r(7588),r(61701),r(13579),r(17642),r(58004),r(33853),r(45876),r(32475),r(15024),r(31698);var a="*",u=function(){function t(){this._events={}}return t.prototype.on=function(t,e,r){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!r}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=this._events[t]||[],i=this._events[a]||[],s=function(n){for(var o=n.length,i=0;i<o;i++)if(n[i]){var s=n[i],a=s.callback,u=s.once;u&&(n.splice(i,1),0===n.length&&delete e._events[t],o--,i--),a.apply(e,r)}};s(o),s(i)},t.prototype.off=function(t,e){if(t)if(e){for(var r=this._events[t]||[],n=r.length,o=0;o<n;o++)r[o].callback===e&&(r.splice(o,1),n--,o--);0===r.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}(),c=u;function h(t,e,r,n){while(t.length){const o=t.shift(),i=r(o);if(i)return!0;e.add(o.id),n(o.id).forEach((r=>{e.has(r.id)||(e.add(r.id),t.push(r))}))}return!1}function d(t,e,r,n){const o=r(t);if(o)return!0;e.add(t.id);for(const i of n(t.id))if(!e.has(i.id)&&d(i,e,r,n))return!0;return!1}const l=()=>!0;class f{constructor(t){s(this,"graph",void 0),s(this,"nodeFilter",void 0),s(this,"edgeFilter",void 0),s(this,"cacheEnabled",void 0),s(this,"inEdgesMap",new Map),s(this,"outEdgesMap",new Map),s(this,"bothEdgesMap",new Map),s(this,"allNodesMap",new Map),s(this,"allEdgesMap",new Map),s(this,"clearCache",(()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()})),s(this,"refreshCache",(()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map((t=>t.id)))})),s(this,"updateCache",(t=>{const e=new Set;t.forEach((t=>{const r=this.bothEdgesMap.get(t);if(r&&r.forEach((t=>e.add(t.id))),this.hasNode(t)){const r=this.graph.getRelatedEdges(t,"in").filter(this.edgeFilter),n=this.graph.getRelatedEdges(t,"out").filter(this.edgeFilter),o=Array.from(new Set([...r,...n]));o.forEach((t=>e.add(t.id))),this.inEdgesMap.set(t,r),this.outEdgesMap.set(t,n),this.bothEdgesMap.set(t,o),this.allNodesMap.set(t,this.graph.getNode(t))}else this.inEdgesMap.delete(t),this.outEdgesMap.delete(t),this.bothEdgesMap.delete(t),this.allNodesMap.delete(t)})),e.forEach((t=>{this.hasEdge(t)?this.allEdgesMap.set(t,this.graph.getEdge(t)):this.allEdgesMap.delete(t)}))})),s(this,"handleGraphChanged",(t=>{const e=new Set;t.changes.forEach((r=>{switch(r.type){case"NodeAdded":e.add(r.value.id);break;case"NodeDataUpdated":e.add(r.id);break;case"EdgeAdded":e.add(r.value.source),e.add(r.value.target);break;case"EdgeUpdated":"source"!==r.propertyName&&"target"!==r.propertyName||(e.add(r.oldValue),e.add(r.newValue));break;case"EdgeDataUpdated":if(t.graph.hasEdge(r.id)){const n=t.graph.getEdge(r.id);e.add(n.source),e.add(n.target)}break;case"EdgeRemoved":e.add(r.value.source),e.add(r.value.target);break;case"NodeRemoved":e.add(r.value.id);break;default:break}})),this.updateCache(e)})),this.graph=t.graph;const e=t.nodeFilter||l,r=t.edgeFilter||l;this.nodeFilter=e,this.edgeFilter=t=>{const{source:n,target:o}=this.graph.getEdgeDetail(t.id);return!(!e(n)||!e(o))&&r(t,n,o)},"auto"===t.cache?(this.cacheEnabled=!0,this.startAutoCache()):"manual"===t.cache?this.cacheEnabled=!0:this.cacheEnabled=!1}startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}checkNodeExistence(t){this.getNode(t)}hasNode(t){if(!this.graph.hasNode(t))return!1;const e=this.graph.getNode(t);return this.nodeFilter(e)}areNeighbors(t,e){return this.checkNodeExistence(t),this.getNeighbors(e).some((e=>e.id===t))}getNode(t){const e=this.graph.getNode(t);if(!this.nodeFilter(e))throw new Error("Node not found for id: "+t);return e}getRelatedEdges(t,e){if(this.checkNodeExistence(t),this.cacheEnabled)return"in"===e?this.inEdgesMap.get(t):"out"===e?this.outEdgesMap.get(t):this.bothEdgesMap.get(t);const r=this.graph.getRelatedEdges(t,e);return r.filter(this.edgeFilter)}getDegree(t,e){return this.getRelatedEdges(t,e).length}getSuccessors(t){const e=this.getRelatedEdges(t,"out"),r=e.map((t=>this.getNode(t.target)));return Array.from(new Set(r))}getPredecessors(t){const e=this.getRelatedEdges(t,"in"),r=e.map((t=>this.getNode(t.source)));return Array.from(new Set(r))}getNeighbors(t){const e=this.getPredecessors(t),r=this.getSuccessors(t);return Array.from(new Set([...e,...r]))}hasEdge(t){if(!this.graph.hasEdge(t))return!1;const e=this.graph.getEdge(t);return this.edgeFilter(e)}getEdge(t){const e=this.graph.getEdge(t);if(!this.edgeFilter(e))throw new Error("Edge not found for id: "+t);return e}getEdgeDetail(t){const e=this.getEdge(t);return{edge:e,source:this.getNode(e.source),target:this.getNode(e.target)}}hasTreeStructure(t){return this.graph.hasTreeStructure(t)}getRoots(t){return this.graph.getRoots(t).filter(this.nodeFilter)}getChildren(t,e){return this.checkNodeExistence(t),this.graph.getChildren(t,e).filter(this.nodeFilter)}getParent(t,e){this.checkNodeExistence(t);const r=this.graph.getParent(t,e);return r&&this.nodeFilter(r)?r:null}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(t,e,r="out"){const n={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[r];h([this.getNode(t)],new Set,e,n)}dfs(t,e,r="out"){const n={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[r];d(this.getNode(t),new Set,e,n)}}class g extends c{constructor(t){super(),s(this,"nodeMap",new Map),s(this,"edgeMap",new Map),s(this,"inEdgesMap",new Map),s(this,"outEdgesMap",new Map),s(this,"bothEdgesMap",new Map),s(this,"treeIndices",new Map),s(this,"changes",[]),s(this,"batchCount",0),s(this,"onChanged",(()=>{})),s(this,"batch",(t=>{this.batchCount+=1,t(),this.batchCount-=1,this.batchCount||this.commit()})),t&&(t.nodes&&this.addNodes(t.nodes),t.edges&&this.addEdges(t.edges),t.tree&&this.addTree(t.tree),t.onChanged&&(this.onChanged=t.onChanged))}commit(){const t=this.changes;this.changes=[];const e={graph:this,changes:t};this.emit("changed",e),this.onChanged(e)}reduceChanges(t){let e=[];return t.forEach((t=>{switch(t.type){case"NodeRemoved":{let r=!1;e=e.filter((e=>{if("NodeAdded"===e.type){const n=e.value.id===t.value.id;return n&&(r=!0),!n}return"NodeDataUpdated"===e.type?e.id!==t.value.id:"TreeStructureChanged"!==e.type||e.nodeId!==t.value.id})),r||e.push(t);break}case"EdgeRemoved":{let r=!1;e=e.filter((e=>{if("EdgeAdded"===e.type){const n=e.value.id===t.value.id;return n&&(r=!0),!n}return"EdgeDataUpdated"!==e.type&&"EdgeUpdated"!==e.type||e.id!==t.value.id})),r||e.push(t);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const r=e.findIndex((e=>e.type===t.type&&e.id===t.id&&(void 0===t.propertyName||e.propertyName===t.propertyName))),n=e[r];n?void 0!==t.propertyName?n.newValue=t.newValue:(e.splice(r,1),e.push(t)):e.push(t);break}case"TreeStructureDetached":e=e.filter((e=>"TreeStructureAttached"===e.type?e.treeKey!==t.treeKey:"TreeStructureChanged"!==e.type||e.treeKey!==t.treeKey)),e.push(t);break;case"TreeStructureChanged":{const r=e.find((e=>"TreeStructureChanged"===e.type&&e.treeKey===t.treeKey&&e.nodeId===t.nodeId));r?r.newParentId=t.newParentId:e.push(t);break}default:e.push(t);break}})),e}checkNodeExistence(t){this.getNode(t)}hasNode(t){return this.nodeMap.has(t)}areNeighbors(t,e){return this.getNeighbors(e).some((e=>e.id===t))}getNode(t){const e=this.nodeMap.get(t);if(!e)throw new Error("Node not found for id: "+t);return e}getRelatedEdges(t,e){if(this.checkNodeExistence(t),"in"===e){const e=this.inEdgesMap.get(t);return Array.from(e)}if("out"===e){const e=this.outEdgesMap.get(t);return Array.from(e)}{const e=this.bothEdgesMap.get(t);return Array.from(e)}}getDegree(t,e){return this.getRelatedEdges(t,e).length}getSuccessors(t){const e=this.getRelatedEdges(t,"out"),r=e.map((t=>this.getNode(t.target)));return Array.from(new Set(r))}getPredecessors(t){const e=this.getRelatedEdges(t,"in"),r=e.map((t=>this.getNode(t.source)));return Array.from(new Set(r))}getNeighbors(t){const e=this.getPredecessors(t),r=this.getSuccessors(t);return Array.from(new Set([...e,...r]))}doAddNode(t){if(this.hasNode(t.id))throw new Error("Node already exists: "+t.id);this.nodeMap.set(t.id,t),this.inEdgesMap.set(t.id,new Set),this.outEdgesMap.set(t.id,new Set),this.bothEdgesMap.set(t.id,new Set),this.treeIndices.forEach((e=>{e.childrenMap.set(t.id,new Set)})),this.changes.push({type:"NodeAdded",value:t})}addNodes(t){this.batch((()=>{for(const e of t)this.doAddNode(e)}))}addNode(t){this.addNodes([t])}doRemoveNode(t){const e=this.getNode(t),r=this.bothEdgesMap.get(t);r?.forEach((t=>this.doRemoveEdge(t.id))),this.nodeMap.delete(t),this.treeIndices.forEach((r=>{r.childrenMap.get(t)?.forEach((t=>{r.parentMap.delete(t.id)}));const n=r.parentMap.get(t);n&&r.childrenMap.get(n.id)?.delete(e),r.parentMap.delete(t),r.childrenMap.delete(t)})),this.bothEdgesMap.delete(t),this.inEdgesMap.delete(t),this.outEdgesMap.delete(t),this.changes.push({type:"NodeRemoved",value:e})}removeNodes(t){this.batch((()=>{t.forEach((t=>this.doRemoveNode(t)))}))}removeNode(t){this.removeNodes([t])}updateNodeDataProperty(t,e,r){const n=this.getNode(t);this.batch((()=>{const o=n.data[e],i=r;n.data[e]=i,this.changes.push({type:"NodeDataUpdated",id:t,propertyName:e,oldValue:o,newValue:i})}))}mergeNodeData(t,e){this.batch((()=>{Object.entries(e).forEach((([e,r])=>{this.updateNodeDataProperty(t,e,r)}))}))}updateNodeData(...t){const e=t[0],r=this.getNode(e);if("string"===typeof t[1])return void this.updateNodeDataProperty(e,t[1],t[2]);let n;if("function"===typeof t[1]){const e=t[1];n=e(r.data)}else"object"===typeof t[1]&&(n=t[1]);this.batch((()=>{const t=r.data,o=n;r.data=n,this.changes.push({type:"NodeDataUpdated",id:e,oldValue:t,newValue:o})}))}checkEdgeExistence(t){if(!this.hasEdge(t))throw new Error("Edge not found for id: "+t)}hasEdge(t){return this.edgeMap.has(t)}getEdge(t){return this.checkEdgeExistence(t),this.edgeMap.get(t)}getEdgeDetail(t){const e=this.getEdge(t);return{edge:e,source:this.getNode(e.source),target:this.getNode(e.target)}}doAddEdge(t){if(this.hasEdge(t.id))throw new Error("Edge already exists: "+t.id);this.checkNodeExistence(t.source),this.checkNodeExistence(t.target),this.edgeMap.set(t.id,t);const e=this.inEdgesMap.get(t.target),r=this.outEdgesMap.get(t.source),n=this.bothEdgesMap.get(t.source),o=this.bothEdgesMap.get(t.target);e.add(t),r.add(t),n.add(t),o.add(t),this.changes.push({type:"EdgeAdded",value:t})}addEdges(t){this.batch((()=>{for(const e of t)this.doAddEdge(e)}))}addEdge(t){this.addEdges([t])}doRemoveEdge(t){const e=this.getEdge(t),r=this.outEdgesMap.get(e.source),n=this.inEdgesMap.get(e.target),o=this.bothEdgesMap.get(e.source),i=this.bothEdgesMap.get(e.target);r.delete(e),n.delete(e),o.delete(e),i.delete(e),this.edgeMap.delete(t),this.changes.push({type:"EdgeRemoved",value:e})}removeEdges(t){this.batch((()=>{t.forEach((t=>this.doRemoveEdge(t)))}))}removeEdge(t){this.removeEdges([t])}updateEdgeSource(t,e){const r=this.getEdge(t);this.checkNodeExistence(e);const n=r.source,o=e;this.outEdgesMap.get(n).delete(r),this.bothEdgesMap.get(n).delete(r),this.outEdgesMap.get(o).add(r),this.bothEdgesMap.get(o).add(r),r.source=e,this.batch((()=>{this.changes.push({type:"EdgeUpdated",id:t,propertyName:"source",oldValue:n,newValue:o})}))}updateEdgeTarget(t,e){const r=this.getEdge(t);this.checkNodeExistence(e);const n=r.target,o=e;this.inEdgesMap.get(n).delete(r),this.bothEdgesMap.get(n).delete(r),this.inEdgesMap.get(o).add(r),this.bothEdgesMap.get(o).add(r),r.target=e,this.batch((()=>{this.changes.push({type:"EdgeUpdated",id:t,propertyName:"target",oldValue:n,newValue:o})}))}updateEdgeDataProperty(t,e,r){const n=this.getEdge(t);this.batch((()=>{const o=n.data[e],i=r;n.data[e]=i,this.changes.push({type:"EdgeDataUpdated",id:t,propertyName:e,oldValue:o,newValue:i})}))}updateEdgeData(...t){const e=t[0],r=this.getEdge(e);if("string"===typeof t[1])return void this.updateEdgeDataProperty(e,t[1],t[2]);let n;if("function"===typeof t[1]){const e=t[1];n=e(r.data)}else"object"===typeof t[1]&&(n=t[1]);this.batch((()=>{const t=r.data,o=n;r.data=n,this.changes.push({type:"EdgeDataUpdated",id:e,oldValue:t,newValue:o})}))}mergeEdgeData(t,e){this.batch((()=>{Object.entries(e).forEach((([e,r])=>{this.updateEdgeDataProperty(t,e,r)}))}))}checkTreeExistence(t){if(!this.hasTreeStructure(t))throw new Error("Tree structure not found for treeKey: "+t)}hasTreeStructure(t){return this.treeIndices.has(t)}attachTreeStructure(t){this.treeIndices.has(t)||(this.treeIndices.set(t,{parentMap:new Map,childrenMap:new Map}),this.batch((()=>{this.changes.push({type:"TreeStructureAttached",treeKey:t})})))}detachTreeStructure(t){this.checkTreeExistence(t),this.treeIndices.delete(t),this.batch((()=>{this.changes.push({type:"TreeStructureDetached",treeKey:t})}))}addTree(t,e){this.batch((()=>{this.attachTreeStructure(e);const r=[],n=Array.isArray(t)?t:[t];while(n.length){const t=n.shift();r.push(t),t.children&&n.push(...t.children)}this.addNodes(r),r.forEach((t=>{t.children?.forEach((r=>{this.setParent(r.id,t.id,e)}))}))}))}getRoots(t){return this.checkTreeExistence(t),this.getAllNodes().filter((e=>!this.getParent(e.id,t)))}getChildren(t,e){this.checkNodeExistence(t),this.checkTreeExistence(e);const r=this.treeIndices.get(e),n=r.childrenMap.get(t);return Array.from(n||[])}getParent(t,e){this.checkNodeExistence(t),this.checkTreeExistence(e);const r=this.treeIndices.get(e);return r.parentMap.get(t)||null}getAncestors(t,e){const r=[];let n,o=this.getNode(t);while(n=this.getParent(o.id,e))r.push(n),o=n;return r}setParent(t,e,r){this.checkTreeExistence(r);const n=this.treeIndices.get(r);if(!n)return;const o=this.getNode(t),i=n.parentMap.get(t);if(i?.id===e)return;if(void 0===e||null===e)return i&&n.childrenMap.get(i.id)?.delete(o),void n.parentMap.delete(t);const s=this.getNode(e);n.parentMap.set(t,s),i&&n.childrenMap.get(i.id)?.delete(o);let a=n.childrenMap.get(s.id);a||(a=new Set,n.childrenMap.set(s.id,a)),a.add(o),this.batch((()=>{this.changes.push({type:"TreeStructureChanged",treeKey:r,nodeId:t,oldParentId:i?.id,newParentId:s.id})}))}dfsTree(t,e,r){const n=t=>this.getChildren(t,r);return d(this.getNode(t),new Set,e,n)}bfsTree(t,e,r){const n=t=>this.getChildren(t,r);return h([this.getNode(t)],new Set,e,n)}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(t,e,r="out"){const n={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[r];return h([this.getNode(t)],new Set,e,n)}dfs(t,e,r="out"){const n={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[r];return d(this.getNode(t),new Set,e,n)}clone(){const t=this.getAllNodes().map((t=>({...t,data:{...t.data}}))),e=this.getAllEdges().map((t=>({...t,data:{...t.data}}))),r=new g({nodes:t,edges:e});return this.treeIndices.forEach((({parentMap:t,childrenMap:e},n)=>{const o=new Map;t.forEach(((t,e)=>{o.set(e,r.getNode(t.id))}));const i=new Map;e.forEach(((t,e)=>{i.set(e,new Set(Array.from(t).map((t=>r.getNode(t.id)))))})),r.treeIndices.set(n,{parentMap:o,childrenMap:i})})),r}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(t){return new f({graph:this,...t})}}r(18237);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const p=Symbol("Comlink.proxy"),v=Symbol("Comlink.endpoint"),y=Symbol("Comlink.releaseProxy"),m=Symbol("Comlink.finalizer"),w=Symbol("Comlink.thrown"),x=t=>"object"===typeof t&&null!==t||"function"===typeof t,b={canHandle:t=>x(t)&&t[p],serialize(t){const{port1:e,port2:r}=new MessageChannel;return _(t,e),[r,[r]]},deserialize(t){return t.start(),S(t)}},E={canHandle:t=>x(t)&&w in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}},N=new Map([["proxy",b],["throw",E]]);function M(t,e){for(const r of t){if(e===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(e))return!0}return!1}function _(t,e=globalThis,r=["*"]){e.addEventListener("message",(function n(o){if(!o||!o.data)return;if(!M(r,o.origin))return void console.warn(`Invalid origin '${o.origin}' for comlink proxy`);const{id:i,type:s,path:a}=Object.assign({path:[]},o.data),u=(o.data.argumentList||[]).map(B);let c;try{const e=a.slice(0,-1).reduce(((t,e)=>t[e]),t),r=a.reduce(((t,e)=>t[e]),t);switch(s){case"GET":c=r;break;case"SET":e[a.slice(-1)[0]]=B(o.data.value),c=!0;break;case"APPLY":c=r.apply(e,u);break;case"CONSTRUCT":{const t=new r(...u);c=q(t)}break;case"ENDPOINT":{const{port1:e,port2:r}=new MessageChannel;_(t,r),c=F(e,[e])}break;case"RELEASE":c=void 0;break;default:return}}catch(h){c={value:h,[w]:0}}Promise.resolve(c).catch((t=>({value:t,[w]:0}))).then((r=>{const[o,a]=V(r);e.postMessage(Object.assign(Object.assign({},o),{id:i}),a),"RELEASE"===s&&(e.removeEventListener("message",n),k(e),m in t&&"function"===typeof t[m]&&t[m]())})).catch((t=>{const[r,n]=V({value:new TypeError("Unserializable return value"),[w]:0});e.postMessage(Object.assign(Object.assign({},r),{id:i}),n)}))})),e.start&&e.start()}function A(t){return"MessagePort"===t.constructor.name}function k(t){A(t)&&t.close()}function S(t,e){const r=new Map;return t.addEventListener("message",(function(t){const{data:e}=t;if(!e||!e.id)return;const n=r.get(e.id);if(n)try{n(e)}finally{r.delete(e.id)}})),P(t,r,[],e)}function O(t){if(t)throw new Error("Proxy has been released and is not useable")}function j(t){return U(t,new Map,{type:"RELEASE"}).then((()=>{k(t)}))}const z=new WeakMap,R="FinalizationRegistry"in globalThis&&new FinalizationRegistry((t=>{const e=(z.get(t)||0)-1;z.set(t,e),0===e&&j(t)}));function I(t,e){const r=(z.get(e)||0)+1;z.set(e,r),R&&R.register(t,e,t)}function T(t){R&&R.unregister(t)}function P(t,e,r=[],n=function(){}){let o=!1;const i=new Proxy(n,{get(n,s){if(O(o),s===y)return()=>{T(i),j(t),e.clear(),o=!0};if("then"===s){if(0===r.length)return{then:()=>i};const n=U(t,e,{type:"GET",path:r.map((t=>t.toString()))}).then(B);return n.then.bind(n)}return P(t,e,[...r,s])},set(n,i,s){O(o);const[a,u]=V(s);return U(t,e,{type:"SET",path:[...r,i].map((t=>t.toString())),value:a},u).then(B)},apply(n,i,s){O(o);const a=r[r.length-1];if(a===v)return U(t,e,{type:"ENDPOINT"}).then(B);if("bind"===a)return P(t,e,r.slice(0,-1));const[u,c]=D(s);return U(t,e,{type:"APPLY",path:r.map((t=>t.toString())),argumentList:u},c).then(B)},construct(n,i){O(o);const[s,a]=D(i);return U(t,e,{type:"CONSTRUCT",path:r.map((t=>t.toString())),argumentList:s},a).then(B)}});return I(i,t),i}function C(t){return Array.prototype.concat.apply([],t)}function D(t){const e=t.map(V);return[e.map((t=>t[0])),C(e.map((t=>t[1])))]}const L=new WeakMap;function F(t,e){return L.set(t,e),t}function q(t){return Object.assign(t,{[p]:!0})}function V(t){for(const[e,r]of N)if(r.canHandle(t)){const[n,o]=r.serialize(t);return[{type:"HANDLER",name:e,value:n},o]}return[{type:"RAW",value:t},L.get(t)||[]]}function B(t){switch(t.type){case"HANDLER":return N.get(t.name).deserialize(t.value);case"RAW":return t.value}}function U(t,e,r,n){return new Promise((o=>{const i=G();e.set(i,o),t.start&&t.start(),t.postMessage(Object.assign({id:i},r),n)}))}function G(){return new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-")}function $(t){return"number"===typeof t}function W(t){return null===t||void 0===t}const Y=(t,e)=>{if("next"!==t&&"prev"!==t)return e},H=t=>{t.prev.next=t.next,t.next.prev=t.prev,delete t.next,delete t.prev};class K{constructor(){const t={};t.prev=t,t.next=t.prev,this.shortcut=t}dequeue(){const t=this.shortcut,e=t.prev;if(e&&e!==t)return H(e),e}enqueue(t){const e=this.shortcut;t.prev&&t.next&&H(t),t.next=e.next,e.next.prev=t,e.next=t,t.prev=e}toString(){const t=[],e=this.shortcut;let r=e.prev;while(r!==e)t.push(JSON.stringify(r,Y)),r=null===r||void 0===r?void 0:r.prev;return`[${t.join(", ")}]`}}class J extends K{}const X=()=>1,Q=(t,e)=>{var r;if(t.getAllNodes().length<=1)return[];const n=et(t,e||X),o=Z(n.graph,n.buckets,n.zeroIdx);return null===(r=o.map((e=>t.getRelatedEdges(e.v,"out").filter((({target:t})=>t===e.w)))))||void 0===r?void 0:r.flat()},Z=(t,e,r)=>{let n=[];const o=e[e.length-1],i=e[0];let s;while(t.getAllNodes().length){while(s=i.dequeue())tt(t,e,r,s);while(s=o.dequeue())tt(t,e,r,s);if(t.getAllNodes().length)for(let o=e.length-2;o>0;--o)if(s=e[o].dequeue(),s){n=n.concat(tt(t,e,r,s,!0));break}}return n},tt=(t,e,r,n,o)=>{var i,s;const a=[];return t.hasNode(n.v)&&(null===(i=t.getRelatedEdges(n.v,"in"))||void 0===i||i.forEach((n=>{const i=n.data.weight,s=t.getNode(n.source);o&&a.push({v:n.source,w:n.target,in:0,out:0}),void 0===s.data.out&&(s.data.out=0),s.data.out-=i,rt(e,r,Object.assign({v:s.id},s.data))})),null===(s=t.getRelatedEdges(n.v,"out"))||void 0===s||s.forEach((n=>{const o=n.data.weight,i=n.target,s=t.getNode(i);void 0===s.data.in&&(s.data.in=0),s.data.in-=o,rt(e,r,Object.assign({v:s.id},s.data))})),t.removeNode(n.v)),o?a:void 0},et=(t,e)=>{const r=new g;let n=0,o=0;t.getAllNodes().forEach((t=>{r.addNode({id:t.id,data:{v:t.id,in:0,out:0}})})),t.getAllEdges().forEach((t=>{const i=r.getRelatedEdges(t.source,"out").find((e=>e.target===t.target)),s=(null===e||void 0===e?void 0:e(t))||1;i?r.updateEdgeData(null===i||void 0===i?void 0:i.id,Object.assign(Object.assign({},i.data),{weight:i.data.weight+s})):r.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:s}}),o=Math.max(o,r.getNode(t.source).data.out+=s),n=Math.max(n,r.getNode(t.target).data.in+=s)}));const i=[],s=o+n+3;for(let u=0;u<s;u++)i.push(new J);const a=n+1;return r.getAllNodes().forEach((t=>{rt(i,a,Object.assign({v:t.id},r.getNode(t.id).data))})),{buckets:i,zeroIdx:a,graph:r}},rt=(t,e,r)=>{r.out?r["in"]?t[r.out-r["in"]+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)},nt=(t,e)=>{const r=t=>t=>t.data.weight||1,n="greedy"===e?Q(t,r(t)):ot(t);null===n||void 0===n||n.forEach((e=>{const r=e.data;t.removeEdge(e.id),r.forwardName=e.data.name,r.reversed=!0,t.addEdge({id:e.id,source:e.target,target:e.source,data:Object.assign({},r)})}))},ot=t=>{const e=[],r={},n={},o=i=>{n[i]||(n[i]=!0,r[i]=!0,t.getRelatedEdges(i,"out").forEach((t=>{r[t.target]?e.push(t):o(t.target)})),delete r[i])};return t.getAllNodes().forEach((t=>o(t.id))),e},it=t=>{t.getAllEdges().forEach((e=>{const r=e.data;if(r.reversed){t.removeEdge(e.id);const n=r.forwardName;delete r.reversed,delete r.forwardName,t.addEdge({id:e.id,source:e.target,target:e.source,data:Object.assign(Object.assign({},r),{forwardName:n})})}}))},st=(t,e)=>Number(t)-Number(e),at=(t,e,r,n)=>{let o;do{o=`${n}${Math.random()}`}while(t.hasNode(o));return r.dummy=e,t.addNode({id:o,data:r}),o},ut=t=>{const e=new g;return t.getAllNodes().forEach((t=>{e.addNode(Object.assign({},t))})),t.getAllEdges().forEach((t=>{const r=e.getRelatedEdges(t.source,"out").find((e=>e.target===t.target));r?e.updateEdgeData(null===r||void 0===r?void 0:r.id,Object.assign(Object.assign({},r.data),{weight:r.data.weight+t.data.weight||0,minlen:Math.max(r.data.minlen,t.data.minlen||1)})):e.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:t.data.weight||0,minlen:t.data.minlen||1}})})),e},ct=t=>{const e=new g;return t.getAllNodes().forEach((r=>{t.getChildren(r.id).length||e.addNode(Object.assign({},r))})),t.getAllEdges().forEach((t=>{e.addEdge(t)})),e},ht=(t,e)=>null===t||void 0===t?void 0:t.reduce(((t,r,n)=>(t[r]=e[n],t)),{}),dt=(t,e)=>{const r=Number(t.x),n=Number(t.y),o=Number(e.x)-r,i=Number(e.y)-n;let s,a,u=Number(t.width)/2,c=Number(t.height)/2;return o||i?(Math.abs(i)*u>Math.abs(o)*c?(i<0&&(c=-c),s=c*o/i,a=c):(o<0&&(u=-u),s=u,a=u*i/o),{x:r+s,y:n+a}):{x:0,y:0}},lt=t=>{const e=[],r=vt(t)+1;for(let n=0;n<r;n++)e.push([]);t.getAllNodes().forEach((t=>{const r=t.data.rank;void 0!==r&&e[r]&&e[r].push(t.id)}));for(let n=0;n<r;n++)e[n]=e[n].sort(((e,r)=>st(t.getNode(e).data.order,t.getNode(r).data.order)));return e},ft=t=>{const e=t.getAllNodes().filter((t=>void 0!==t.data.rank)).map((t=>t.data.rank)),r=Math.min(...e);t.getAllNodes().forEach((t=>{t.data.hasOwnProperty("rank")&&r!==1/0&&(t.data.rank-=r)}))},gt=(t,e=0)=>{const r=t.getAllNodes(),n=r.filter((t=>void 0!==t.data.rank)).map((t=>t.data.rank)),o=Math.min(...n),i=[];r.forEach((t=>{const e=(t.data.rank||0)-o;i[e]||(i[e]=[]),i[e].push(t.id)}));let s=0;for(let a=0;a<i.length;a++){const r=i[a];void 0===r?a%e!==0&&(s-=1):s&&(null===r||void 0===r||r.forEach((e=>{const r=t.getNode(e);r&&(r.data.rank=r.data.rank||0,r.data.rank+=s)})))}},pt=(t,e,r,n)=>{const o={width:0,height:0};return $(r)&&$(n)&&(o.rank=r,o.order=n),at(t,"border",o,e)},vt=t=>{let e;return t.getAllNodes().forEach((t=>{const r=t.data.rank;void 0!==r&&(void 0===e||r>e)&&(e=r)})),e||(e=0),e},yt=(t,e)=>{const r={lhs:[],rhs:[]};return null===t||void 0===t||t.forEach((t=>{e(t)?r.lhs.push(t):r.rhs.push(t)})),r},mt=(t,e)=>t.reduce(((t,r)=>{const n=e(t),o=e(r);return n>o?r:t})),wt=(t,e,r,n,o,i)=>{n.includes(e.id)||(n.push(e.id),r||i.push(e.id),o(e.id).forEach((e=>wt(t,e,r,n,o,i))),r&&i.push(e.id))},xt=(t,e,r,n)=>{const o=Array.isArray(e)?e:[e],i=e=>n?t.getSuccessors(e):t.getNeighbors(e),s=[],a=[];return o.forEach((e=>{if(!t.hasNode(e.id))throw new Error(`Graph does not have node: ${e}`);wt(t,e,"post"===r,a,i,s)})),s},bt=t=>{const e=r=>{const n=t.getChildren(r),o=t.getNode(r);if((null===n||void 0===n?void 0:n.length)&&n.forEach((t=>e(t.id))),o.data.hasOwnProperty("minRank")){o.data.borderLeft=[],o.data.borderRight=[];for(let e=o.data.minRank,n=o.data.maxRank+1;e<n;e+=1)Et(t,"borderLeft","_bl",r,o,e),Et(t,"borderRight","_br",r,o,e)}};t.getRoots().forEach((t=>e(t.id)))},Et=(t,e,r,n,o,i)=>{const s={rank:i,borderType:e,width:0,height:0},a=o.data[e][i-1],u=at(t,"border",s,r);o.data[e][i]=u,t.setParent(u,n),a&&t.addEdge({id:`e${Math.random()}`,source:a,target:u,data:{weight:1}})},Nt=(t,e)=>{const r=e.toLowerCase();"lr"!==r&&"rl"!==r||_t(t)},Mt=(t,e)=>{const r=e.toLowerCase();"bt"!==r&&"rl"!==r||kt(t),"lr"!==r&&"rl"!==r||(Ot(t),_t(t))},_t=t=>{t.getAllNodes().forEach((t=>{At(t)})),t.getAllEdges().forEach((t=>{At(t)}))},At=t=>{const e=t.data.width;t.data.width=t.data.height,t.data.height=e},kt=t=>{t.getAllNodes().forEach((t=>{St(t.data)})),t.getAllEdges().forEach((t=>{var e;null===(e=t.data.points)||void 0===e||e.forEach((t=>St(t))),t.data.hasOwnProperty("y")&&St(t.data)}))},St=t=>{(null===t||void 0===t?void 0:t.y)&&(t.y=-t.y)},Ot=t=>{t.getAllNodes().forEach((t=>{jt(t.data)})),t.getAllEdges().forEach((t=>{var e;null===(e=t.data.points)||void 0===e||e.forEach((t=>jt(t))),t.data.hasOwnProperty("x")&&jt(t.data)}))},jt=t=>{const e=t.x;t.x=t.y,t.y=e},zt=t=>{const e=at(t,"root",{},"_root"),r=It(t);let n=Math.max(...Object.values(r));Math.abs(n)===1/0&&(n=1);const o=n-1,i=2*o+1;t.getAllEdges().forEach((t=>{t.data.minlen*=i}));const s=Tt(t)+1;return t.getRoots().forEach((n=>{Rt(t,e,i,s,o,r,n.id)})),{nestingRoot:e,nodeRankFactor:i}},Rt=(t,e,r,n,o,i,s)=>{const a=t.getChildren(s);if(!(null===a||void 0===a?void 0:a.length))return void(s!==e&&t.addEdge({id:`e${Math.random()}`,source:e,target:s,data:{weight:0,minlen:r}}));const u=pt(t,"_bt"),c=pt(t,"_bb"),h=t.getNode(s);t.setParent(u,s),h.data.borderTop=u,t.setParent(c,s),h.data.borderBottom=c,null===a||void 0===a||a.forEach((a=>{Rt(t,e,r,n,o,i,a.id);const h=a.data.borderTop?a.data.borderTop:a.id,d=a.data.borderBottom?a.data.borderBottom:a.id,l=a.data.borderTop?n:2*n,f=h!==d?1:o-i[s]+1;t.addEdge({id:`e${Math.random()}`,source:u,target:h,data:{minlen:f,weight:l,nestingEdge:!0}}),t.addEdge({id:`e${Math.random()}`,source:d,target:c,data:{minlen:f,weight:l,nestingEdge:!0}})})),t.getParent(s)||t.addEdge({id:`e${Math.random()}`,source:e,target:u,data:{weight:0,minlen:o+i[s]}})},It=t=>{const e={},r=(n,o)=>{const i=t.getChildren(n);null===i||void 0===i||i.forEach((t=>r(t.id,o+1))),e[n]=o};return t.getRoots().forEach((t=>r(t.id,1))),e},Tt=t=>{let e=0;return t.getAllEdges().forEach((t=>{e+=t.data.weight})),e},Pt=(t,e)=>{e&&t.removeNode(e),t.getAllEdges().forEach((e=>{e.data.nestingEdge&&t.removeEdge(e.id)}))},Ct="edge",Dt="edge-label",Lt=(t,e)=>{t.getAllEdges().forEach((r=>Ft(t,r,e)))},Ft=(t,e,r)=>{let n=e.source,o=t.getNode(n).data.rank;const i=e.target,s=t.getNode(i).data.rank,a=e.data.labelRank;if(s===o+1)return;let u,c,h;for(t.removeEdge(e.id),h=0,++o;o<s;++h,++o)e.data.points=[],c={originalEdge:e,width:0,height:0,rank:o},u=at(t,Ct,c,"_d"),o===a&&(c.width=e.data.width,c.height=e.data.height,c.dummy=Dt,c.labelpos=e.data.labelpos),t.addEdge({id:`e${Math.random()}`,source:n,target:u,data:{weight:e.data.weight}}),0===h&&r.push(u),n=u;t.addEdge({id:`e${Math.random()}`,source:n,target:i,data:{weight:e.data.weight}})},qt=(t,e)=>{e.forEach((e=>{let r=t.getNode(e);const{data:n}=r,o=n.originalEdge;let i;o&&t.addEdge(o);let s=e;while(r.data.dummy)i=t.getSuccessors(s)[0],t.removeNode(s),o.data.points.push({x:r.data.x,y:r.data.y}),r.data.dummy===Dt&&(o.data.x=r.data.x,o.data.y=r.data.y,o.data.width=r.data.width,o.data.height=r.data.height),s=i.id,r=t.getNode(s)}))};function Vt(t){return Array.isArray(t)}var Bt=function(t){if("object"!==typeof t||null===t)return t;var e;if(Vt(t)){e=[];for(var r=0,n=t.length;r<n;r++)"object"===typeof t[r]&&null!=t[r]?e[r]=Bt(t[r]):e[r]=t[r]}else for(var o in e={},t)"object"===typeof t[o]&&null!=t[o]?e[o]=Bt(t[o]):e[o]=t[o];return e},Ut=Bt;const Gt=(t,e,r)=>{const n={};let o;null===r||void 0===r||r.forEach((r=>{let i,s,a=t.getParent(r);while(a){if(i=t.getParent(a.id),i?(s=n[i.id],n[i.id]=a.id):(s=o,o=a.id),s&&s!==a.id)return e.hasNode(s)||e.addNode({id:s,data:{}}),e.hasNode(a.id)||e.addNode({id:a.id,data:{}}),void(e.hasEdge(`e${s}-${a.id}`)||e.addEdge({id:`e${s}-${a.id}`,source:s,target:a.id,data:{}}));a=i}}))},$t=(t,e,r)=>{const n=Wt(t),o=new g({tree:[{id:n,children:[],data:{}}]});return t.getAllNodes().forEach((i=>{const s=t.getParent(i.id);(i.data.rank===e||i.data.minRank<=e&&e<=i.data.maxRank)&&(o.hasNode(i.id)||o.addNode(Object.assign({},i)),(null===s||void 0===s?void 0:s.id)&&!o.hasNode(null===s||void 0===s?void 0:s.id)&&o.addNode(Object.assign({},s)),o.setParent(i.id,(null===s||void 0===s?void 0:s.id)||n),t.getRelatedEdges(i.id,r).forEach((e=>{const r=e.source===i.id?e.target:e.source;o.hasNode(r)||o.addNode(Object.assign({},t.getNode(r)));const n=o.getRelatedEdges(r,"out").find((({target:t})=>t===i.id)),s=void 0!==n?n.data.weight:0;n?o.updateEdgeData(n.id,Object.assign(Object.assign({},n.data),{weight:e.data.weight+s})):o.addEdge({id:e.id,source:r,target:i.id,data:{weight:e.data.weight+s}})})),i.data.hasOwnProperty("minRank")&&o.updateNodeData(i.id,Object.assign(Object.assign({},i.data),{borderLeft:i.data.borderLeft[e],borderRight:i.data.borderRight[e]})))})),o},Wt=t=>{let e;while(t.hasNode(e=`_root${Math.random()}`));return e},Yt=(t,e,r)=>{const n=ht(r,r.map(((t,e)=>e))),o=e.map((e=>{const r=t.getRelatedEdges(e,"out").map((t=>({pos:n[t.target]||0,weight:t.data.weight})));return null===r||void 0===r?void 0:r.sort(((t,e)=>t.pos-e.pos))})),i=o.flat().filter((t=>void 0!==t));let s=1;while(s<r.length)s<<=1;const a=2*s-1;s-=1;const u=Array(a).fill(0,0,a);let c=0;return null===i||void 0===i||i.forEach((t=>{if(t){let e=t.pos+s;u[e]+=t.weight;let r=0;while(e>0)e%2&&(r+=u[e+1]),e=e-1>>1,u[e]+=t.weight;c+=t.weight*r}})),c},Ht=(t,e)=>{let r=0;for(let n=1;n<(null===e||void 0===e?void 0:e.length);n+=1)r+=Yt(t,e[n-1],e[n]);return r},Kt=t=>{const e={},r=t.getAllNodes(),n=r.map((t=>{var e;return null!==(e=t.data.rank)&&void 0!==e?e:-1/0})),o=Math.max(...n),i=[];for(let c=0;c<o+1;c++)i.push([]);const s=r.sort(((e,r)=>t.getNode(e.id).data.rank-t.getNode(r.id).data.rank)),a=s.filter((e=>void 0!==t.getNode(e.id).data.fixorder)),u=a.sort(((e,r)=>t.getNode(e.id).data.fixorder-t.getNode(r.id).data.fixorder));return null===u||void 0===u||u.forEach((r=>{isNaN(t.getNode(r.id).data.rank)||i[t.getNode(r.id).data.rank].push(r.id),e[r.id]=!0})),null===s||void 0===s||s.forEach((r=>t.dfsTree(r.id,(t=>{if(e.hasOwnProperty(t.id))return!0;e[t.id]=!0,isNaN(t.data.rank)||i[t.data.rank].push(t.id)})))),i},Jt=(t,e)=>e.map((e=>{const r=t.getRelatedEdges(e,"in");if(!(null===r||void 0===r?void 0:r.length))return{v:e};const n={sum:0,weight:0};return null===r||void 0===r||r.forEach((e=>{const r=t.getNode(e.source);n.sum+=e.data.weight*r.data.order,n.weight+=e.data.weight})),{v:e,barycenter:n.sum/n.weight,weight:n.weight}})),Xt=(t,e)=>{var r,n,o;const i={};null===t||void 0===t||t.forEach(((t,e)=>{i[t.v]={i:e,indegree:0,in:[],out:[],vs:[t.v]};const r=i[t.v];void 0!==t.barycenter&&(r.barycenter=t.barycenter,r.weight=t.weight)})),null===(r=e.getAllEdges())||void 0===r||r.forEach((t=>{const e=i[t.source],r=i[t.target];void 0!==e&&void 0!==r&&(r.indegree++,e.out.push(i[t.target]))}));const s=null===(o=(n=Object.values(i)).filter)||void 0===o?void 0:o.call(n,(t=>!t.indegree));return Qt(s)},Qt=t=>{var e,r;const n=[],o=t=>e=>{e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&Zt(t,e)},i=e=>r=>{r["in"].push(e),0===--r.indegree&&t.push(r)};while(null===t||void 0===t?void 0:t.length){const s=t.pop();n.push(s),null===(e=s["in"].reverse())||void 0===e||e.forEach((t=>o(s)(t))),null===(r=s.out)||void 0===r||r.forEach((t=>i(s)(t)))}const s=n.filter((t=>!t.merged)),a=["vs","i","barycenter","weight"];return s.map((t=>{const e={};return null===a||void 0===a||a.forEach((r=>{void 0!==t[r]&&(e[r]=t[r])})),e}))},Zt=(t,e)=>{var r;let n=0,o=0;t.weight&&(n+=t.barycenter*t.weight,o+=t.weight),e.weight&&(n+=e.barycenter*e.weight,o+=e.weight),t.vs=null===(r=e.vs)||void 0===r?void 0:r.concat(t.vs),t.barycenter=n/o,t.weight=o,t.i=Math.min(e.i,t.i),e.merged=!0};var te=Xt;const ee=(t,e,r,n)=>{const o=yt(t,(t=>{const e=t.hasOwnProperty("fixorder")&&!isNaN(t.fixorder);return n?!e&&t.hasOwnProperty("barycenter"):e||t.hasOwnProperty("barycenter")})),i=o.lhs,s=o.rhs.sort(((t,e)=>-t.i- -e.i)),a=[];let u=0,c=0,h=0;null===i||void 0===i||i.sort(ne(!!e,!!r)),h=re(a,s,h),null===i||void 0===i||i.forEach((t=>{var e;h+=null===(e=t.vs)||void 0===e?void 0:e.length,a.push(t.vs),u+=t.barycenter*t.weight,c+=t.weight,h=re(a,s,h)}));const d={vs:a.flat()};return c&&(d.barycenter=u/c,d.weight=c),d},re=(t,e,r)=>{let n,o=r;while(e.length&&(n=e[e.length-1]).i<=o)e.pop(),null===t||void 0===t||t.push(n.vs),o++;return o},ne=(t,e)=>(r,n)=>{if(void 0!==r.fixorder&&void 0!==n.fixorder)return r.fixorder-n.fixorder;if(r.barycenter<n.barycenter)return-1;if(r.barycenter>n.barycenter)return 1;if(e&&void 0!==r.order&&void 0!==n.order){if(r.order<n.order)return-1;if(r.order>n.order)return 1}return t?n.i-r.i:r.i-n.i},oe=(t,e,r,n,o,i)=>{var s,a,u,c;let h=t.getChildren(e).map((t=>t.id));const d=t.getNode(e),l=d?d.data.borderLeft:void 0,f=d?d.data.borderRight:void 0,g={};l&&(h=null===h||void 0===h?void 0:h.filter((t=>t!==l&&t!==f)));const p=Jt(t,h||[]);null===p||void 0===p||p.forEach((e=>{var o;if(null===(o=t.getChildren(e.v))||void 0===o?void 0:o.length){const o=oe(t,e.v,r,n,i);g[e.v]=o,o.hasOwnProperty("barycenter")&&se(e,o)}}));const v=te(p,r);ie(v,g),null===(s=v.filter((t=>t.vs.length>0)))||void 0===s||s.forEach((e=>{const r=t.getNode(e.vs[0]);r&&(e.fixorder=r.data.fixorder,e.order=r.data.order)}));const y=ee(v,n,o,i);if(l&&(y.vs=[l,y.vs,f].flat(),null===(a=t.getPredecessors(l))||void 0===a?void 0:a.length)){const e=t.getNode((null===(u=t.getPredecessors(l))||void 0===u?void 0:u[0].id)||""),r=t.getNode((null===(c=t.getPredecessors(f))||void 0===c?void 0:c[0].id)||"");y.hasOwnProperty("barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+e.data.order+r.data.order)/(y.weight+2),y.weight+=2}return y},ie=(t,e)=>{null===t||void 0===t||t.forEach((t=>{var r;const n=null===(r=t.vs)||void 0===r?void 0:r.map((t=>e[t]?e[t].vs:t));t.vs=n.flat()}))},se=(t,e)=>{void 0!==t.barycenter?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)},ae=(t,e)=>{const r=vt(t),n=[],o=[];for(let h=1;h<r+1;h++)n.push(h);for(let h=r-1;h>-1;h--)o.push(h);const i=ue(t,n,"in"),s=ue(t,o,"out");let a=Kt(t);he(t,a);let u,c=Number.POSITIVE_INFINITY;for(let h=0,d=0;d<4;++h,++d){ce(h%2?i:s,h%4>=2,!1,e),a=lt(t);const r=Ht(t,a);r<c&&(d=0,u=Ut(a),c=r)}a=Kt(t),he(t,a);for(let h=0,d=0;d<4;++h,++d){ce(h%2?i:s,h%4>=2,!0,e),a=lt(t);const r=Ht(t,a);r<c&&(d=0,u=Ut(a),c=r)}he(t,u)},ue=(t,e,r)=>e.map((e=>$t(t,e,r))),ce=(t,e,r,n)=>{const o=new g;null===t||void 0===t||t.forEach((t=>{var i;const s=t.getRoots()[0].id,a=oe(t,s,o,e,r,n);for(let e=0;e<(null===(i=a.vs)||void 0===i?void 0:i.length);e++){const r=t.getNode(a.vs[e]);r&&(r.data.order=e)}Gt(t,o,a.vs)}))},he=(t,e)=>{null===e||void 0===e||e.forEach((e=>{null===e||void 0===e||e.forEach(((e,r)=>{t.getNode(e).data.order=r}))}))},de=(t,e)=>{const r=t.getAllNodes().filter((e=>{var r;return!(null===(r=t.getChildren(e.id))||void 0===r?void 0:r.length)})),n=r.map((t=>t.data.rank)),o=Math.max(...n),i=[];for(let s=0;s<o+1;s++)i[s]=[];null===e||void 0===e||e.forEach((e=>{const r=t.getNode(e);r&&!r.data.dummy&&(isNaN(r.data.rank)||(r.data.fixorder=i[r.data.rank].length,i[r.data.rank].push(e)))}))},le=t=>{const e={};let r=0;const n=o=>{const i=r;t.getChildren(o).forEach((t=>n(t.id))),e[o]={low:i,lim:r++}};return t.getRoots().forEach((t=>n(t.id))),e},fe=(t,e,r,n)=>{var o,i;const s=[],a=[],u=Math.min(e[r].low,e[n].low),c=Math.max(e[r].lim,e[n].lim);let h,d;h=r;do{h=null===(o=t.getParent(h))||void 0===o?void 0:o.id,s.push(h)}while(h&&(e[h].low>u||c>e[h].lim));d=h,h=n;while(h&&h!==d)a.push(h),h=null===(i=t.getParent(h))||void 0===i?void 0:i.id;return{lca:d,path:s.concat(a.reverse())}},ge=(t,e)=>{const r=le(t);e.forEach((e=>{var n,o;let i=e,s=t.getNode(i);const a=s.data.originalEdge;if(!a)return;const u=fe(t,r,a.source,a.target),c=u.path,h=u.lca;let d=0,l=c[d],f=!0;while(i!==a.target){if(s=t.getNode(i),f){while(l!==h&&(null===(n=t.getNode(l))||void 0===n?void 0:n.data.maxRank)<s.data.rank)d++,l=c[d];l===h&&(f=!1)}if(!f){while(d<c.length-1&&(null===(o=t.getNode(c[d+1]))||void 0===o?void 0:o.data.minRank)<=s.data.rank)d++;l=c[d]}t.hasNode(l)&&t.setParent(i,l),i=t.getSuccessors(i)[0].id}}))},pe=(t,e)=>{const r={},n=(e,n)=>{let o=0,i=0;const s=e.length,a=null===n||void 0===n?void 0:n[(null===n||void 0===n?void 0:n.length)-1];return null===n||void 0===n||n.forEach(((e,u)=>{var c;const h=ye(t,e),d=h?t.getNode(h.id).data.order:s;(h||e===a)&&(null===(c=n.slice(i,u+1))||void 0===c||c.forEach((e=>{var n;null===(n=t.getPredecessors(e))||void 0===n||n.forEach((n=>{var i;const s=t.getNode(n.id),a=s.data.order;!(a<o||d<a)||s.data.dummy&&(null===(i=t.getNode(e))||void 0===i?void 0:i.data.dummy)||me(r,n.id,e)}))})),i=u+1,o=d)})),n};return(null===e||void 0===e?void 0:e.length)&&e.reduce(n),r},ve=(t,e)=>{const r={};function n(e,n,o,i,s){var a,u;let c;for(let h=n;h<o;h++)c=e[h],(null===(a=t.getNode(c))||void 0===a?void 0:a.data.dummy)&&(null===(u=t.getPredecessors(c))||void 0===u||u.forEach((e=>{const n=t.getNode(e.id);n.data.dummy&&(n.data.order<i||n.data.order>s)&&me(r,e.id,c)})))}function o(t){return JSON.stringify(t.slice(1))}function i(t,e){const r=o(t);e.get(r)||(n(...t),e.set(r,!0))}const s=(e,r)=>{let n,o=-1,s=0;const a=new Map;return null===r||void 0===r||r.forEach(((u,c)=>{var h;if("border"===(null===(h=t.getNode(u))||void 0===h?void 0:h.data.dummy)){const e=t.getPredecessors(u)||[];e.length&&(n=t.getNode(e[0].id).data.order,i([r,s,c,o,n],a),s=c,o=n)}i([r,s,r.length,n,e.length],a)})),r};return(null===e||void 0===e?void 0:e.length)&&e.reduce(s),r},ye=(t,e)=>{var r,n;if(null===(r=t.getNode(e))||void 0===r?void 0:r.data.dummy)return null===(n=t.getPredecessors(e))||void 0===n?void 0:n.find((e=>t.getNode(e.id).data.dummy))},me=(t,e,r)=>{let n=e,o=r;if(n>o){const t=n;n=o,o=t}let i=t[n];i||(t[n]=i={}),i[o]=!0},we=(t,e,r)=>{let n=e,o=r;if(n>o){const t=e;n=o,o=t}return!!t[n]},xe=(t,e,r,n)=>{const o={},i={},s={};return null===e||void 0===e||e.forEach((t=>{null===t||void 0===t||t.forEach(((t,e)=>{o[t]=t,i[t]=t,s[t]=e}))})),null===e||void 0===e||e.forEach((t=>{let e=-1;null===t||void 0===t||t.forEach((t=>{let a=n(t).map((t=>t.id));if(a.length){a=a.sort(((t,e)=>s[t]-s[e]));const n=(a.length-1)/2;for(let u=Math.floor(n),c=Math.ceil(n);u<=c;++u){const n=a[u];i[t]===t&&e<s[n]&&!we(r,t,n)&&(i[n]=t,i[t]=o[t]=o[n],e=s[n])}}}))})),{root:o,align:i}},be=(t,e,r,n,o,i,s)=>{var a;const u={},c=Ee(t,e,r,o,i,s),h=s?"borderLeft":"borderRight",d=(t,e)=>{let r=c.getAllNodes(),n=r.pop();const o={};while(n)o[n.id]?t(n.id):(o[n.id]=!0,r.push(n),r=r.concat(e(n.id))),n=r.pop()},l=t=>{u[t]=(c.getRelatedEdges(t,"in")||[]).reduce(((t,e)=>Math.max(t,(u[e.source]||0)+e.data.weight)),0)},f=e=>{const r=(c.getRelatedEdges(e,"out")||[]).reduce(((t,e)=>Math.min(t,(u[e.target]||0)-e.data.weight)),Number.POSITIVE_INFINITY),n=t.getNode(e);r!==Number.POSITIVE_INFINITY&&n.data.borderType!==h&&(u[e]=Math.max(u[e],r))};return d(l,c.getPredecessors.bind(c)),d(f,c.getSuccessors.bind(c)),null===(a=Object.values(n))||void 0===a||a.forEach((t=>{u[t]=u[r[t]]})),u},Ee=(t,e,r,n,o,i)=>{const s=new g,a=Ae(n,o,i);return null===e||void 0===e||e.forEach((e=>{let n;null===e||void 0===e||e.forEach((e=>{const o=r[e];if(s.hasNode(o)||s.addNode({id:o,data:{}}),n){const i=r[n],u=s.getRelatedEdges(i,"out").find((t=>t.target===o));u?s.updateEdgeData(u.id,Object.assign(Object.assign({},u.data),{weight:Math.max(a(t,e,n),u.data.weight||0)})):s.addEdge({id:`e${Math.random()}`,source:i,target:o,data:{weight:Math.max(a(t,e,n),0)}})}n=e}))})),s},Ne=(t,e)=>mt(Object.values(e),(e=>{var r;let n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return null===(r=Object.keys(e))||void 0===r||r.forEach((r=>{const i=e[r],s=ke(t,r)/2;n=Math.max(i+s,n),o=Math.min(i-s,o)})),n-o}));function Me(t,e){const r=Object.values(e),n=Math.min(...r),o=Math.max(...r);["u","d"].forEach((r=>{["l","r"].forEach((i=>{const s=r+i,a=t[s];let u;if(a===e)return;const c=Object.values(a);u="l"===i?n-Math.min(...c):o-Math.max(...c),u&&(t[s]={},Object.keys(a).forEach((e=>{t[s][e]=a[e]+u})))}))}))}const _e=(t,e)=>{const r={};return Object.keys(t.ul).forEach((n=>{if(e)r[n]=t[e.toLowerCase()][n];else{const e=Object.values(t).map((t=>t[n]));r[n]=(e[0]+e[1])/2}})),r},Ae=(t,e,r)=>(n,o,i)=>{const s=n.getNode(o),a=n.getNode(i);let u=0,c=0;if(u+=s.data.width/2,s.data.hasOwnProperty("labelpos"))switch((s.data.labelpos||"").toLowerCase()){case"l":c=-s.data.width/2;break;case"r":c=s.data.width/2;break}if(c&&(u+=r?c:-c),c=0,u+=(s.data.dummy?e:t)/2,u+=(a.data.dummy?e:t)/2,u+=a.data.width/2,a.data.labelpos)switch((a.data.labelpos||"").toLowerCase()){case"l":c=a.data.width/2;break;case"r":c=-a.data.width/2;break}return c&&(u+=r?c:-c),c=0,u},ke=(t,e)=>t.getNode(e).data.width||0,Se=(t,e)=>{const{ranksep:r=0}=e||{},n=lt(t);let o=0;null===n||void 0===n||n.forEach((e=>{const n=e.map((e=>t.getNode(e).data.height)),i=Math.max(...n,0);null===e||void 0===e||e.forEach((e=>{t.getNode(e).data.y=o+i/2})),o+=i+r}))},Oe=(t,e)=>{const{align:r,nodesep:n=0,edgesep:o=0}=e||{},i=lt(t),s=Object.assign(pe(t,i),ve(t,i)),a={};let u=[];["u","d"].forEach((e=>{u="u"===e?i:Object.values(i).reverse(),["l","r"].forEach((r=>{"r"===r&&(u=u.map((t=>Object.values(t).reverse())));const i=("u"===e?t.getPredecessors:t.getSuccessors).bind(t),c=xe(t,u,s,i),h=be(t,u,c.root,c.align,n,o,"r"===r);"r"===r&&Object.keys(h).forEach((t=>h[t]=-h[t])),a[e+r]=h}))}));const c=Ne(t,a);return c&&Me(a,c),_e(a,r)},je=(t,e)=>{var r;const n=ct(t);Se(n,e);const o=Oe(n,e);null===(r=Object.keys(o))||void 0===r||r.forEach((t=>{n.getNode(t).data.x=o[t]}))},ze=t=>{const e={},r=n=>{var o;const i=t.getNode(n);if(!i)return 0;if(e[n])return i.data.rank;let s;return e[n]=!0,null===(o=t.getRelatedEdges(n,"out"))||void 0===o||o.forEach((t=>{const e=r(t.target),n=t.data.minlen,o=e-n;o&&(void 0===s||o<s)&&(s=o)})),s||(s=0),i.data.rank=s,s};t.getAllNodes().filter((e=>0===t.getRelatedEdges(e.id,"in").length)).forEach((t=>r(t.id)))},Re=t=>{const e={};let r;const n=o=>{var i;const s=t.getNode(o);if(!s)return 0;if(e[o])return s.data.rank;let a;return e[o]=!0,null===(i=t.getRelatedEdges(o,"out"))||void 0===i||i.forEach((t=>{const e=n(t.target),r=t.data.minlen,o=e-r;o&&(void 0===a||o<a)&&(a=o)})),a||(a=0),(void 0===r||a<r)&&(r=a),s.data.rank=a,a};t.getAllNodes().filter((e=>0===t.getRelatedEdges(e.id,"in").length)).forEach((t=>{t&&n(t.id)})),void 0===r&&(r=0);const o={},i=(e,r)=>{var n;const s=t.getNode(e),a=isNaN(s.data.layer)?r:s.data.layer;(void 0===s.data.rank||s.data.rank<a)&&(s.data.rank=a),o[e]||(o[e]=!0,null===(n=t.getRelatedEdges(e,"out"))||void 0===n||n.forEach((t=>{i(t.target,a+t.data.minlen)})))};t.getAllNodes().forEach((t=>{const e=t.data;e&&(isNaN(e.layer)?e.rank-=r:i(t.id,e.layer))}))},Ie=(t,e)=>t.getNode(e.target).data.rank-t.getNode(e.source).data.rank-e.data.minlen,Te=t=>{const e=new g({tree:[]}),r=t.getAllNodes()[0],n=t.getAllNodes().length;let o,i;e.addNode(r);while(Pe(e,t)<n)o=Le(e,t),i=e.hasNode(o.source)?Ie(t,o):-Ie(t,o),Fe(e,t,i);return e},Pe=(t,e)=>{const r=n=>{e.getRelatedEdges(n,"both").forEach((o=>{const i=o.source,s=n===i?o.target:i;t.hasNode(s)||Ie(e,o)||(t.addNode({id:s,data:{}}),t.addEdge({id:o.id,source:n,target:s,data:{}}),r(s))}))};return t.getAllNodes().forEach((t=>r(t.id))),t.getAllNodes().length},Ce=t=>{const e=new g({tree:[]}),r=t.getAllNodes()[0],n=t.getAllNodes().length;let o,i;e.addNode(r);while(De(e,t)<n)o=Le(e,t),i=e.hasNode(o.source)?Ie(t,o):-Ie(t,o),Fe(e,t,i);return e},De=(t,e)=>{const r=n=>{var o;null===(o=e.getRelatedEdges(n,"both"))||void 0===o||o.forEach((o=>{const i=o.source,s=n===i?o.target:i;t.hasNode(s)||void 0===e.getNode(s).data.layer&&Ie(e,o)||(t.addNode({id:s,data:{}}),t.addEdge({id:o.id,source:n,target:s,data:{}}),r(s))}))};return t.getAllNodes().forEach((t=>r(t.id))),t.getAllNodes().length},Le=(t,e)=>mt(e.getAllEdges(),(r=>t.hasNode(r.source)!==t.hasNode(r.target)?Ie(e,r):1/0)),Fe=(t,e,r)=>{t.getAllNodes().forEach((t=>{const n=e.getNode(t.id);n.data.rank||(n.data.rank=0),n.data.rank+=r}))},qe=t=>{const e=ut(t);ze(e);const r=Te(e);let n,o;Ge(r),Ve(r,e);while(n=We(r))o=Ye(r,e,n),He(r,e,n,o)},Ve=(t,e)=>{let r=xt(t,t.getAllNodes(),"post",!1);r=r.slice(0,(null===r||void 0===r?void 0:r.length)-1),r.forEach((r=>{Be(t,e,r)}))},Be=(t,e,r)=>{const n=t.getNode(r),o=n.data.parent,i=t.getRelatedEdges(r,"both").find((t=>t.target===o||t.source===o));i.data.cutvalue=Ue(t,e,r)},Ue=(t,e,r)=>{const n=t.getNode(r),o=n.data.parent;let i=!0,s=e.getRelatedEdges(r,"out").find((t=>t.target===o)),a=0;return s||(i=!1,s=e.getRelatedEdges(o,"out").find((t=>t.target===r))),a=s.data.weight,e.getRelatedEdges(r,"both").forEach((e=>{const n=e.source===r,s=n?e.target:e.source;if(s!==o){const o=n===i,u=e.data.weight;if(a+=o?u:-u,Je(t,r,s)){const e=t.getRelatedEdges(r,"both").find((t=>t.source===s||t.target===s)).data.cutvalue;a+=o?-e:e}}})),a},Ge=(t,e=t.getAllNodes()[0].id)=>{$e(t,{},1,e)},$e=(t,e,r,n,o)=>{var i;const s=r;let a=r;const u=t.getNode(n);return e[n]=!0,null===(i=t.getNeighbors(n))||void 0===i||i.forEach((r=>{e[r.id]||(a=$e(t,e,a,r.id,n))})),u.data.low=s,u.data.lim=a++,o?u.data.parent=o:delete u.data.parent,a},We=t=>t.getAllEdges().find((t=>t.data.cutvalue<0)),Ye=(t,e,r)=>{let n=r.source,o=r.target;e.getRelatedEdges(n,"out").find((t=>t.target===o))||(n=r.target,o=r.source);const i=t.getNode(n),s=t.getNode(o);let a=i,u=!1;i.data.lim>s.data.lim&&(a=s,u=!0);const c=e.getAllEdges().filter((e=>u===Xe(t.getNode(e.source),a)&&u!==Xe(t.getNode(e.target),a)));return mt(c,(t=>Ie(e,t)))},He=(t,e,r,n)=>{const o=t.getRelatedEdges(r.source,"both").find((t=>t.source===r.target||t.target===r.target));o&&t.removeEdge(o.id),t.addEdge({id:`e${Math.random()}`,source:n.source,target:n.target,data:{}}),Ge(t),Ve(t,e),Ke(t,e)},Ke=(t,e)=>{const r=t.getAllNodes().find((t=>!t.data.parent));let n=xt(t,r,"pre",!1);n=n.slice(1),n.forEach((r=>{const n=t.getNode(r).data.parent;let o=e.getRelatedEdges(r,"out").find((t=>t.target===n)),i=!1;!o&&e.hasNode(n)&&(o=e.getRelatedEdges(n,"out").find((t=>t.target===r)),i=!0),e.getNode(r).data.rank=(e.hasNode(n)&&e.getNode(n).data.rank||0)+(i?null===o||void 0===o?void 0:o.data.minlen:-(null===o||void 0===o?void 0:o.data.minlen))}))},Je=(t,e,r)=>t.getRelatedEdges(e,"both").find((t=>t.source===r||t.target===r)),Xe=(t,e)=>e.data.low<=t.data.lim&&t.data.lim<=e.data.lim,Qe=(t,e)=>{switch(e){case"network-simplex":er(t);break;case"tight-tree":tr(t);break;case"longest-path":Ze(t);break;default:tr(t)}},Ze=ze,tr=t=>{Re(t),Ce(t)},er=t=>{qe(t)},rr=(t,e)=>{const{edgeLabelSpace:r,keepNodeOrder:n,prevGraph:o,rankdir:i,ranksep:s}=e;!n&&o&&or(t,o);const a=dr(t);let u;r&&(e.ranksep=lr(a,{rankdir:i,ranksep:s}));try{u=nr(a,e)}catch(c){if("Not possible to find intersection inside of the rectangle"===c.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",c);throw c}return ir(t,a),u},nr=(t,e)=>{const{acyclicer:r,ranker:n,rankdir:o="tb",nodeOrder:i,keepNodeOrder:s,align:a,nodesep:u=50,edgesep:c=20,ranksep:h=50}=e;br(t),nt(t,r);const{nestingRoot:d,nodeRankFactor:l}=zt(t);Qe(ct(t),n),fr(t),gt(t,l),Pt(t,d),ft(t),gr(t),pr(t);const f=[];Lt(t,f),ge(t,f),bt(t),s&&de(t,i),ae(t,s),Er(t),Nt(t,o),je(t,{align:a,nodesep:u,edgesep:c,ranksep:h}),Nr(t),xr(t),qt(t,f),mr(t),Mt(t,o);const{width:g,height:p}=vr(t);return yr(t),wr(t),it(t),{width:g,height:p}},or=(t,e)=>{t.getAllNodes().forEach((r=>{const n=t.getNode(r.id);if(e.hasNode(r.id)){const t=e.getNode(r.id);n.data.fixorder=t.data._order,delete t.data._order}else delete n.data.fixorder}))},ir=(t,e)=>{t.getAllNodes().forEach((r=>{var n;const o=t.getNode(r.id);if(o){const t=e.getNode(r.id);o.data.x=t.data.x,o.data.y=t.data.y,o.data._order=t.data.order,o.data._rank=t.data.rank,(null===(n=e.getChildren(r.id))||void 0===n?void 0:n.length)&&(o.data.width=t.data.width,o.data.height=t.data.height)}})),t.getAllEdges().forEach((r=>{const n=t.getEdge(r.id),o=e.getEdge(r.id);n.data.points=o?o.data.points:[],o&&o.data.hasOwnProperty("x")&&(n.data.x=o.data.x,n.data.y=o.data.y)}))},sr=["width","height","layer","fixorder"],ar={width:0,height:0},ur=["minlen","weight","width","height","labeloffset"],cr={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},hr=["labelpos"],dr=t=>{const e=new g({tree:[]});return t.getAllNodes().forEach((r=>{const n=_r(t.getNode(r.id).data),o=Object.assign(Object.assign({},ar),n),i=Mr(o,sr);e.hasNode(r.id)||e.addNode({id:r.id,data:Object.assign({},i)});const s=t.hasTreeStructure("combo")?t.getParent(r.id,"combo"):t.getParent(r.id);W(s)||(e.hasNode(s.id)||e.addNode(Object.assign({},s)),e.setParent(r.id,s.id))})),t.getAllEdges().forEach((r=>{const n=_r(t.getEdge(r.id).data),o={};null===hr||void 0===hr||hr.forEach((t=>{void 0!==n[t]&&(o[t]=n[t])})),e.addEdge({id:r.id,source:r.source,target:r.target,data:Object.assign({},cr,Mr(n,ur),o)})})),e},lr=(t,e)=>{const{ranksep:r=0,rankdir:n}=e;return t.getAllNodes().forEach((t=>{isNaN(t.data.layer)||t.data.layer||(t.data.layer=0)})),t.getAllEdges().forEach((t=>{var e;t.data.minlen*=2,"c"!==(null===(e=t.data.labelpos)||void 0===e?void 0:e.toLowerCase())&&("TB"===n||"BT"===n?t.data.width+=t.data.labeloffset:t.data.height+=t.data.labeloffset)})),r/2},fr=t=>{t.getAllEdges().forEach((e=>{if(e.data.width&&e.data.height){const r=t.getNode(e.source),n=t.getNode(e.target),o={e:e,rank:(n.data.rank-r.data.rank)/2+r.data.rank};at(t,"edge-proxy",o,"_ep")}}))},gr=t=>{let e=0;return t.getAllNodes().forEach((r=>{var n,o;r.data.borderTop&&(r.data.minRank=null===(n=t.getNode(r.data.borderTop))||void 0===n?void 0:n.data.rank,r.data.maxRank=null===(o=t.getNode(r.data.borderBottom))||void 0===o?void 0:o.data.rank,e=Math.max(e,r.data.maxRank||-1/0))})),e},pr=t=>{t.getAllNodes().forEach((e=>{"edge-proxy"===e.data.dummy&&(t.getEdge(e.data.e.id).data.labelRank=e.data.rank,t.removeNode(e.id))}))},vr=(t,e)=>{let r,n,o=0,i=0;const{marginx:s=0,marginy:a=0}=e||{},u=t=>{if(!t.data)return;const e=t.data.x,s=t.data.y,a=t.data.width,u=t.data.height;isNaN(e)||isNaN(a)||(void 0===r&&(r=e-a/2),r=Math.min(r,e-a/2),o=Math.max(o,e+a/2)),isNaN(s)||isNaN(u)||(void 0===n&&(n=s-u/2),n=Math.min(n,s-u/2),i=Math.max(i,s+u/2))};return t.getAllNodes().forEach((t=>{u(t)})),t.getAllEdges().forEach((t=>{(null===t||void 0===t?void 0:t.data.hasOwnProperty("x"))&&u(t)})),r-=s,n-=a,t.getAllNodes().forEach((t=>{t.data.x-=r,t.data.y-=n})),t.getAllEdges().forEach((t=>{var e;null===(e=t.data.points)||void 0===e||e.forEach((t=>{t.x-=r,t.y-=n})),t.data.hasOwnProperty("x")&&(t.data.x-=r),t.data.hasOwnProperty("y")&&(t.data.y-=n)})),{width:o-r+s,height:i-n+a}},yr=t=>{t.getAllEdges().forEach((e=>{const r=t.getNode(e.source),n=t.getNode(e.target);let o,i;e.data.points?(o=e.data.points[0],i=e.data.points[e.data.points.length-1]):(e.data.points=[],o={x:n.data.x,y:n.data.y},i={x:r.data.x,y:r.data.y}),e.data.points.unshift(dt(r.data,o)),e.data.points.push(dt(n.data,i))}))},mr=t=>{t.getAllEdges().forEach((t=>{if(t.data.hasOwnProperty("x"))switch("l"!==t.data.labelpos&&"r"!==t.data.labelpos||(t.data.width-=t.data.labeloffset),t.data.labelpos){case"l":t.data.x-=t.data.width/2+t.data.labeloffset;break;case"r":t.data.x+=t.data.width/2+t.data.labeloffset;break}}))},wr=t=>{t.getAllEdges().forEach((t=>{var e;t.data.reversed&&(null===(e=t.data.points)||void 0===e||e.reverse())}))},xr=t=>{t.getAllNodes().forEach((e=>{var r,n,o;if(null===(r=t.getChildren(e.id))||void 0===r?void 0:r.length){const r=t.getNode(e.id),i=t.getNode(r.data.borderTop),s=t.getNode(r.data.borderBottom),a=t.getNode(r.data.borderLeft[(null===(n=r.data.borderLeft)||void 0===n?void 0:n.length)-1]),u=t.getNode(r.data.borderRight[(null===(o=r.data.borderRight)||void 0===o?void 0:o.length)-1]);r.data.width=Math.abs((null===u||void 0===u?void 0:u.data.x)-(null===a||void 0===a?void 0:a.data.x))||10,r.data.height=Math.abs((null===s||void 0===s?void 0:s.data.y)-(null===i||void 0===i?void 0:i.data.y))||10,r.data.x=((null===a||void 0===a?void 0:a.data.x)||0)+r.data.width/2,r.data.y=((null===i||void 0===i?void 0:i.data.y)||0)+r.data.height/2}})),t.getAllNodes().forEach((e=>{"border"===e.data.dummy&&t.removeNode(e.id)}))},br=t=>{t.getAllEdges().forEach((e=>{if(e.source===e.target){const r=t.getNode(e.source);r.data.selfEdges||(r.data.selfEdges=[]),r.data.selfEdges.push(e),t.removeEdge(e.id)}}))},Er=t=>{const e=lt(t);null===e||void 0===e||e.forEach((e=>{let r=0;null===e||void 0===e||e.forEach(((e,n)=>{var o;const i=t.getNode(e);i.data.order=n+r,null===(o=i.data.selfEdges)||void 0===o||o.forEach((e=>{at(t,"selfedge",{width:e.data.width,height:e.data.height,rank:i.data.rank,order:n+ ++r,e:e},"_se")})),delete i.data.selfEdges}))}))},Nr=t=>{t.getAllNodes().forEach((e=>{const r=t.getNode(e.id);if("selfedge"===r.data.dummy){const n=t.getNode(r.data.e.source),o=n.data.x+n.data.width/2,i=n.data.y,s=r.data.x-o,a=n.data.height/2;t.hasEdge(r.data.e.id)?t.updateEdgeData(r.data.e.id,r.data.e.data):t.addEdge({id:r.data.e.id,source:r.data.e.source,target:r.data.e.target,data:r.data.e.data}),t.removeNode(e.id),r.data.e.data.points=[{x:o+2*s/3,y:i-a},{x:o+5*s/6,y:i-a},{y:i,x:o+s},{x:o+5*s/6,y:i+a},{x:o+2*s/3,y:i+a}],r.data.e.data.x=r.data.x,r.data.e.data.y=r.data.y}}))},Mr=(t,e)=>{const r={};return null===e||void 0===e||e.forEach((e=>{void 0!==t[e]&&(r[e]=+t[e])})),r},_r=(t={})=>{const e={};return Object.keys(t).forEach((r=>{e[r.toLowerCase()]=t[r]})),e};function Ar(t){return"function"===typeof t}var kr=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function Sr(t){if(!t)return[0,0,0];if($(t))return[t,t,t];if(0===t.length)return[0,0,0];const[e,r=e,n=e]=t;return[e,r,n]}function Or(t,e){let r;return r=Ar(e)?e:$(e)?()=>e:()=>t,r}function jr(t,e,r=!0){return e||0===e?Ar(e)?e:$(e)?()=>e:Array.isArray(e)?()=>r?Math.max(...e)||t:e:kr(e)&&e.width&&e.height?()=>r?Math.max(e.width,e.height)||t:[e.width,e.height]:()=>t:e=>{const{size:n}=e.data||{};return n?Array.isArray(n)?r?Math.max(...n)||t:n:kr(n)&&n.width&&n.height?r?Math.max(n.width,n.height)||t:[n.width,n.height]:n:t}}const zr=(t,e,r=10)=>{let n;const o="function"===typeof e?e:()=>e||0;n=t?Array.isArray(t)?e=>t:Ar(t)?t:e=>t:t=>{var e,n,o;if(null===(e=t.data)||void 0===e?void 0:e.bboxSize)return null===(n=t.data)||void 0===n?void 0:n.bboxSize;if(null===(o=t.data)||void 0===o?void 0:o.size){const e=t.data.size;return Array.isArray(e)?e:kr(e)?[e.width,e.height]:e}return r};const i=t=>{const e=n(t),r=o(t);return Math.max(...Sr(e))+r};return i},Rr=t=>{if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){const e=[];return t.forEach((t=>{e.push(t)})),e.map((t=>Rr(t)))}if("object"===typeof t){const e={};return Object.keys(t).forEach((r=>{e[r]=Rr(t[r])})),e}return t},Ir=(t,e)=>{const r=Rr(t);return r.data=r.data||{},e&&($(r.data.x)||(r.data.x=Math.random()*e[0]),$(r.data.y)||(r.data.y=Math.random()*e[1])),r},Tr={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};class Pr{constructor(t={}){this.options=t,this.id="antv-dagre",this.options=Object.assign(Object.assign({},Tr),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericDagreLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericDagreLayout(!0,t,r)}))}genericDagreLayout(t,r,n){return e(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.options),n),{nodeSize:o,align:i,rankdir:s="TB",ranksep:a,nodesep:u,ranksepFunc:c,nodesepFunc:h,edgeLabelSpace:d,ranker:l,nodeOrder:f,begin:p,controlPoints:v,radial:y,sortByCombo:m,preset:w}=e,x=new g({tree:[]}),b=Or(a||50,c),E=Or(u||50,h);let N=E,M=b;"LR"!==s&&"RL"!==s||(N=b,M=E);const _=jr(10,o,!1),A=r.getAllNodes(),k=r.getAllEdges();let S;A.forEach((t=>{const e=Sr(_(t)),r=M(t),n=N(t),o=e[0]+2*n,i=e[1]+2*r,s=t.data.layer;$(s)?x.addNode({id:t.id,data:{width:o,height:i,layer:s}}):x.addNode({id:t.id,data:{width:o,height:i}})})),m&&(x.attachTreeStructure("combo"),A.forEach((t=>{const{parentId:e}=t.data;void 0!==e&&x.hasNode(e)&&x.setParent(t.id,e,"combo")}))),k.forEach((t=>{x.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:t.data.weight||1}})})),(null===w||void 0===w?void 0:w.length)&&(S=new g({nodes:w})),rr(x,{prevGraph:S,edgeLabelSpace:d,keepNodeOrder:!!f,nodeOrder:f||[],acyclicer:"greedy",ranker:l,rankdir:s,nodesep:u,align:i});const O=[0,0];if(p){let t=1/0,e=1/0;x.getAllNodes().forEach((r=>{t>r.data.x&&(t=r.data.x),e>r.data.y&&(e=r.data.y)})),x.getAllEdges().forEach((r=>{var n;null===(n=r.data.points)||void 0===n||n.forEach((r=>{t>r.x&&(t=r.x),e>r.y&&(e=r.y)}))})),O[0]=p[0]-t,O[1]=p[1]-e}const j="LR"===s||"RL"===s;if(y);else{const t=new Set,e="BT"===s||"RL"===s,r=e?(t,e)=>e-t:(t,e)=>t-e;x.getAllNodes().forEach((e=>{e.data.x=e.data.x+O[0],e.data.y=e.data.y+O[1],t.add(j?e.data.x:e.data.y)}));const n=Array.from(t).sort(r),o=j?(t,e)=>t.x!==e.x:(t,e)=>t.y!==e.y,i=j?(t,e,r)=>{const n=Math.max(e.y,r.y),o=Math.min(e.y,r.y);return t.filter((t=>t.y<=n&&t.y>=o))}:(t,e,r)=>{const n=Math.max(e.x,r.x),o=Math.min(e.x,r.x);return t.filter((t=>t.x<=n&&t.x>=o))};x.getAllEdges().forEach(((t,e)=>{var r;d&&v&&"loop"!==t.data.type&&(t.data.controlPoints=Cr(null===(r=t.data.points)||void 0===r?void 0:r.map((({x:t,y:e})=>({x:t+O[0],y:e+O[1]}))),x.getNode(t.source),x.getNode(t.target),n,j,o,i))}))}let z=[];z=x.getAllNodes().map((t=>Ir(t)));const R=x.getAllEdges();t&&(z.forEach((t=>{r.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})})),R.forEach((t=>{r.mergeEdgeData(t.id,{controlPoints:t.data.controlPoints})})));const I={nodes:z,edges:R};return I}))}}const Cr=(t,e,r,n,o,i,s)=>{let a=(null===t||void 0===t?void 0:t.slice(1,t.length-1))||[];if(e&&r){let{x:t,y:u}=e.data,{x:c,y:h}=r.data;if(o&&(t=e.data.y,u=e.data.x,c=r.data.y,h=r.data.x),h!==u&&t!==c){const d=n.indexOf(u),l=n[d+1];if(l){const t=a[0],e=o?{x:(u+l)/2,y:(null===t||void 0===t?void 0:t.y)||c}:{x:(null===t||void 0===t?void 0:t.x)||c,y:(u+l)/2};t&&!i(t,e)||a.unshift(e)}const f=n.indexOf(h),g=Math.abs(f-d);if(1===g)a=s(a,e.data,r.data),a.length||a.push(o?{x:(u+h)/2,y:t}:{x:t,y:(u+h)/2});else if(g>1){const e=n[f-1];if(e){const r=a[a.length-1],n=o?{x:(h+e)/2,y:(null===r||void 0===r?void 0:r.y)||c}:{x:(null===r||void 0===r?void 0:r.x)||t,y:(h+e)/2};r&&!i(r,n)||a.push(n)}}}}return a},Dr=(t,e,r)=>{const n=t.getAllNodes(),o=t.getAllEdges();if(!(null===n||void 0===n?void 0:n.length)){const t={nodes:[],edges:o};return t}if(1===n.length){e&&t.mergeNodeData(n[0].id,{x:r[0],y:r[1]});const i={nodes:[Object.assign(Object.assign({},n[0]),{data:Object.assign(Object.assign({},n[0].data),{x:r[0],y:r[1]})})],edges:o};return i}},Lr={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};class Fr{constructor(t={}){this.options=t,this.id="circular",this.options=Object.assign(Object.assign({},Lr),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericCircularLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericCircularLayout(!0,t,r)}))}genericCircularLayout(t,r,n){return e(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.options),n),{width:o,height:i,center:s,divisions:a,startAngle:u=0,endAngle:c=2*Math.PI,angleRatio:h,ordering:d,clockwise:l,nodeSpacing:f,nodeSize:g}=e,p=r.getAllNodes(),v=r.getAllEdges(),[y,m,w]=Br(o,i,s),x=null===p||void 0===p?void 0:p.length;if(!x||1===x)return Dr(r,t,w);const b=(c-u)/x;let{radius:E,startRadius:N,endRadius:M}=e;if(f){const t=Or(10,f),e=jr(10,g);let r=-1/0;p.forEach((t=>{const n=e(t);r<n&&(r=n)}));let n=0;p.forEach(((e,o)=>{n+=0===o?r||10:(t(e)||0)+(r||10)})),E=n/(2*Math.PI)}else E||N||M?!N&&M?N=M:N&&!M&&(M=N):E=Math.min(m,y)/2;const _=b*h;let A=[];A="topology"===d?qr(r,p):"topology-directed"===d?qr(r,p,!0):"degree"===d?Vr(r,p):p.map((t=>Ir(t)));const k=Math.ceil(x/a);for(let t=0;t<x;++t){let e=E;e||null===N||null===M||(e=N+t*(M-N)/(x-1)),e||(e=10+100*t/(x-1));let r=u+t%k*_+2*Math.PI/a*Math.floor(t/k);l||(r=c-t%k*_-2*Math.PI/a*Math.floor(t/k)),A[t].data.x=w[0]+Math.cos(r)*e,A[t].data.y=w[1]+Math.sin(r)*e}t&&A.forEach((t=>{r.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})}));const S={nodes:A,edges:v};return S}))}}const qr=(t,e,r=!1)=>{const n=[Ir(e[0])],o={},i=e.length;o[e[0].id]=!0;let s=0;return e.forEach(((a,u)=>{if(0!==u)if(u!==i-1&&t.getDegree(a.id,"both")===t.getDegree(e[u+1].id,"both")&&!t.areNeighbors(n[s].id,a.id)||o[a.id]){const u=r?t.getSuccessors(n[s].id):t.getNeighbors(n[s].id);let c=!1;for(let e=0;e<u.length;e++){const r=u[e];if(t.getDegree(r.id)===t.getDegree(a.id)&&!o[r.id]){n.push(Ir(r)),o[r.id]=!0,c=!0;break}}let h=0;while(!c)if(o[e[h].id]||(n.push(Ir(e[h])),o[e[h].id]=!0,c=!0),h++,h===i)break}else n.push(Ir(a)),o[a.id]=!0,s++})),n};function Vr(t,e){const r=[];return e.forEach(((t,e)=>{r.push(Ir(t))})),r.sort(((e,r)=>t.getDegree(e.id,"both")-t.getDegree(r.id,"both"))),r}const Br=(t,e,r)=>{let n=t,o=e,i=r;return n||"undefined"===typeof window||(n=window.innerWidth),o||"undefined"===typeof window||(o=window.innerHeight),i||(i=[n/2,o/2]),[n,o,i]};function Ur(t){return"string"===typeof t}const Gr=Array.isArray,$r={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class Wr{constructor(t={}){this.options=t,this.id="concentric",this.options=Object.assign(Object.assign({},$r),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericConcentricLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericConcentricLayout(!0,t,r)}))}genericConcentricLayout(t,r,n){return e(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.options),n),{center:o,width:i,height:s,sortBy:a,maxLevelDiff:u,sweep:c,clockwise:h,equidistant:d,preventOverlap:l,startAngle:f=1.5*Math.PI,nodeSize:g,nodeSpacing:p}=e,v=r.getAllNodes(),y=r.getAllEdges(),m=i||"undefined"===typeof window?i:window.innerWidth,w=s||"undefined"===typeof window?s:window.innerHeight,x=o||[m/2,w/2];if(!(null===v||void 0===v?void 0:v.length)||1===v.length)return Dr(r,t,x);const b=[];let E,N=0;Gr(g)?E=Math.max(g[0],g[1]):Ar(g)?(E=-1/0,v.forEach((t=>{const e=Math.max(...Sr(g(t)));e>E&&(E=e)}))):E=g,Gr(p)?N=Math.max(p[0],p[1]):$(p)&&(N=p),v.forEach((t=>{const e=Ir(t);b.push(e);let r=E;const{data:n}=e;Gr(n.size)?r=Math.max(n.size[0],n.size[1]):$(n.size)?r=n.size:kr(n.size)&&(r=Math.max(n.size.width,n.size.height)),E=Math.max(E,r),Ar(p)&&(N=Math.max(p(t),N))}));const M={};b.forEach(((t,e)=>{M[t.id]=e}));let _=a;Ur(_)&&void 0!==b[0].data[_]||(_="degree"),"degree"===_?b.sort(((t,e)=>r.getDegree(e.id,"both")-r.getDegree(t.id,"both"))):b.sort(((t,e)=>e.data[_]-t.data[_]));const A=b[0],k=(u||("degree"===_?r.getDegree(A.id,"both"):A.data[_]))/4,S=[{nodes:[]}];let O=S[0];b.forEach((t=>{if(O.nodes.length>0){const e="degree"===_?Math.abs(r.getDegree(O.nodes[0].id,"both")-r.getDegree(t.id,"both")):Math.abs(O.nodes[0].data[_]-t.data[_]);k&&e>=k&&(O={nodes:[]},S.push(O))}O.nodes.push(t)}));let j=E+N;if(!l){const t=S.length>0&&S[0].nodes.length>1,e=Math.min(m,w)/2-j,r=e/(S.length+(t?1:0));j=Math.min(j,r)}let z=0;if(S.forEach((t=>{const e=void 0===c?2*Math.PI-2*Math.PI/t.nodes.length:c;if(t.dTheta=e/Math.max(1,t.nodes.length-1),t.nodes.length>1&&l){const e=Math.cos(t.dTheta)-Math.cos(0),r=Math.sin(t.dTheta)-Math.sin(0),n=Math.sqrt(j*j/(e*e+r*r));z=Math.max(n,z)}t.r=z,z+=j})),d){let t=0,e=0;for(let r=0;r<S.length;r++){const n=S[r],o=(n.r||0)-e;t=Math.max(t,o)}e=0,S.forEach(((r,n)=>{0===n&&(e=r.r||0),r.r=e,e+=t}))}S.forEach((t=>{const e=t.dTheta||0,r=t.r||0;t.nodes.forEach(((t,n)=>{const o=f+(h?1:-1)*e*n;t.data.x=x[0]+r*Math.cos(o),t.data.y=x[1]+r*Math.sin(o)}))})),t&&b.forEach((t=>r.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})));const R={nodes:b,edges:y};return R}))}}function Yr(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return Hr(this.cover(e,r),e,r,t)}function Hr(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var o,i,s,a,u,c,h,d,l,f=t._root,g={data:n},p=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!f)return t._root=g,t;while(f.length)if((c=e>=(i=(p+y)/2))?p=i:y=i,(h=r>=(s=(v+m)/2))?v=s:m=s,o=f,!(f=f[d=h<<1|c]))return o[d]=g,t;if(a=+t._x.call(null,f.data),u=+t._y.call(null,f.data),e===a&&r===u)return g.next=f,o?o[d]=g:t._root=g,t;do{o=o?o[d]=new Array(4):t._root=new Array(4),(c=e>=(i=(p+y)/2))?p=i:y=i,(h=r>=(s=(v+m)/2))?v=s:m=s}while((d=h<<1|c)===(l=(u>=s)<<1|a>=i));return o[l]=f,o[d]=g,t}function Kr(t){var e,r,n,o,i=t.length,s=new Array(i),a=new Array(i),u=1/0,c=1/0,h=-1/0,d=-1/0;for(r=0;r<i;++r)isNaN(n=+this._x.call(null,e=t[r]))||isNaN(o=+this._y.call(null,e))||(s[r]=n,a[r]=o,n<u&&(u=n),n>h&&(h=n),o<c&&(c=o),o>d&&(d=o));if(u>h||c>d)return this;for(this.cover(u,c).cover(h,d),r=0;r<i;++r)Hr(this,s[r],a[r],t[r]);return this}function Jr(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,o=this._x1,i=this._y1;if(isNaN(r))o=(r=Math.floor(t))+1,i=(n=Math.floor(e))+1;else{var s,a,u=o-r||1,c=this._root;while(r>t||t>=o||n>e||e>=i)switch(a=(e<n)<<1|t<r,s=new Array(4),s[a]=c,c=s,u*=2,a){case 0:o=r+u,i=n+u;break;case 1:r=o-u,i=n+u;break;case 2:o=r+u,n=i-u;break;case 3:r=o-u,n=i-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=n,this._x1=o,this._y1=i,this}function Xr(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function Qr(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Zr(t,e,r,n,o){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=o}function tn(t,e,r){var n,o,i,s,a,u,c,h=this._x0,d=this._y0,l=this._x1,f=this._y1,g=[],p=this._root;p&&g.push(new Zr(p,h,d,l,f)),null==r?r=1/0:(h=t-r,d=e-r,l=t+r,f=e+r,r*=r);while(u=g.pop())if(!(!(p=u.node)||(o=u.x0)>l||(i=u.y0)>f||(s=u.x1)<h||(a=u.y1)<d))if(p.length){var v=(o+s)/2,y=(i+a)/2;g.push(new Zr(p[3],v,y,s,a),new Zr(p[2],o,y,v,a),new Zr(p[1],v,i,s,y),new Zr(p[0],o,i,v,y)),(c=(e>=y)<<1|t>=v)&&(u=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=u)}else{var m=t-+this._x.call(null,p.data),w=e-+this._y.call(null,p.data),x=m*m+w*w;if(x<r){var b=Math.sqrt(r=x);h=t-b,d=e-b,l=t+b,f=e+b,n=p.data}}return n}function en(t){if(isNaN(i=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,r,n,o,i,s,a,u,c,h,d,l,f=this._root,g=this._x0,p=this._y0,v=this._x1,y=this._y1;if(!f)return this;if(f.length)while(1){if((c=i>=(a=(g+v)/2))?g=a:v=a,(h=s>=(u=(p+y)/2))?p=u:y=u,e=f,!(f=f[d=h<<1|c]))return this;if(!f.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(r=e,l=d)}while(f.data!==t)if(n=f,!(f=f.next))return this;return(o=f.next)&&delete f.next,n?(o?n.next=o:delete n.next,this):e?(o?e[d]=o:delete e[d],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(r?r[l]=f:this._root=f),this):(this._root=o,this)}function rn(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function nn(){return this._root}function on(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function sn(t){var e,r,n,o,i,s,a=[],u=this._root;u&&a.push(new Zr(u,this._x0,this._y0,this._x1,this._y1));while(e=a.pop())if(!t(u=e.node,n=e.x0,o=e.y0,i=e.x1,s=e.y1)&&u.length){var c=(n+i)/2,h=(o+s)/2;(r=u[3])&&a.push(new Zr(r,c,h,i,s)),(r=u[2])&&a.push(new Zr(r,n,h,c,s)),(r=u[1])&&a.push(new Zr(r,c,o,i,h)),(r=u[0])&&a.push(new Zr(r,n,o,c,h))}return this}function an(t){var e,r=[],n=[];this._root&&r.push(new Zr(this._root,this._x0,this._y0,this._x1,this._y1));while(e=r.pop()){var o=e.node;if(o.length){var i,s=e.x0,a=e.y0,u=e.x1,c=e.y1,h=(s+u)/2,d=(a+c)/2;(i=o[0])&&r.push(new Zr(i,s,a,h,d)),(i=o[1])&&r.push(new Zr(i,h,a,u,d)),(i=o[2])&&r.push(new Zr(i,s,d,h,c)),(i=o[3])&&r.push(new Zr(i,h,d,u,c))}n.push(e)}while(e=n.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function un(t){return t[0]}function cn(t){return arguments.length?(this._x=t,this):this._x}function hn(t){return t[1]}function dn(t){return arguments.length?(this._y=t,this):this._y}function ln(t,e,r){var n=new fn(null==e?un:e,null==r?hn:r,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function fn(t,e,r,n,o,i){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=o,this._y1=i,this._root=void 0}function gn(t){var e={data:t.data},r=e;while(t=t.next)r=r.next={data:t.data};return e}var pn=ln.prototype=fn.prototype;pn.copy=function(){var t,e,r=new fn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=gn(n),r;t=[{source:n,target:r._root=new Array(4)}];while(n=t.pop())for(var o=0;o<4;++o)(e=n.source[o])&&(e.length?t.push({source:e,target:n.target[o]=new Array(4)}):n.target[o]=gn(e));return r},pn.add=Yr,pn.addAll=Kr,pn.cover=Jr,pn.data=Xr,pn.extent=Qr,pn.find=tn,pn.remove=en,pn.removeAll=rn,pn.root=nn,pn.size=on,pn.visit=sn,pn.visitAfter=an,pn.x=cn,pn.y=dn;r(16573),r(78100),r(77936),r(37467),r(44732),r(79577);function vn(t){const e=+this._x.call(null,t),r=+this._y.call(null,t),n=+this._z.call(null,t);return yn(this.cover(e,r,n),e,r,n,t)}function yn(t,e,r,n,o){if(isNaN(e)||isNaN(r)||isNaN(n))return t;var i,s,a,u,c,h,d,l,f,g,p,v,y=t._root,m={data:o},w=t._x0,x=t._y0,b=t._z0,E=t._x1,N=t._y1,M=t._z1;if(!y)return t._root=m,t;while(y.length)if((l=e>=(s=(w+E)/2))?w=s:E=s,(f=r>=(a=(x+N)/2))?x=a:N=a,(g=n>=(u=(b+M)/2))?b=u:M=u,i=y,!(y=y[p=g<<2|f<<1|l]))return i[p]=m,t;if(c=+t._x.call(null,y.data),h=+t._y.call(null,y.data),d=+t._z.call(null,y.data),e===c&&r===h&&n===d)return m.next=y,i?i[p]=m:t._root=m,t;do{i=i?i[p]=new Array(8):t._root=new Array(8),(l=e>=(s=(w+E)/2))?w=s:E=s,(f=r>=(a=(x+N)/2))?x=a:N=a,(g=n>=(u=(b+M)/2))?b=u:M=u}while((p=g<<2|f<<1|l)===(v=(d>=u)<<2|(h>=a)<<1|c>=s));return i[v]=y,i[p]=m,t}function mn(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,r=new Float64Array(e),n=new Float64Array(e),o=new Float64Array(e);let i=1/0,s=1/0,a=1/0,u=-1/0,c=-1/0,h=-1/0;for(let d,l,f,g,p=0;p<e;++p)isNaN(l=+this._x.call(null,d=t[p]))||isNaN(f=+this._y.call(null,d))||isNaN(g=+this._z.call(null,d))||(r[p]=l,n[p]=f,o[p]=g,l<i&&(i=l),l>u&&(u=l),f<s&&(s=f),f>c&&(c=f),g<a&&(a=g),g>h&&(h=g));if(i>u||s>c||a>h)return this;this.cover(i,s,a).cover(u,c,h);for(let d=0;d<e;++d)yn(this,r[d],n[d],o[d],t[d]);return this}function wn(t,e,r){if(isNaN(t=+t)||isNaN(e=+e)||isNaN(r=+r))return this;var n=this._x0,o=this._y0,i=this._z0,s=this._x1,a=this._y1,u=this._z1;if(isNaN(n))s=(n=Math.floor(t))+1,a=(o=Math.floor(e))+1,u=(i=Math.floor(r))+1;else{var c,h,d=s-n||1,l=this._root;while(n>t||t>=s||o>e||e>=a||i>r||r>=u)switch(h=(r<i)<<2|(e<o)<<1|t<n,c=new Array(8),c[h]=l,l=c,d*=2,h){case 0:s=n+d,a=o+d,u=i+d;break;case 1:n=s-d,a=o+d,u=i+d;break;case 2:s=n+d,o=a-d,u=i+d;break;case 3:n=s-d,o=a-d,u=i+d;break;case 4:s=n+d,a=o+d,i=u-d;break;case 5:n=s-d,a=o+d,i=u-d;break;case 6:s=n+d,o=a-d,i=u-d;break;case 7:n=s-d,o=a-d,i=u-d;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=o,this._z0=i,this._x1=s,this._y1=a,this._z1=u,this}function xn(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function bn(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function En(t,e,r,n,o,i,s){this.node=t,this.x0=e,this.y0=r,this.z0=n,this.x1=o,this.y1=i,this.z1=s}function Nn(t,e,r,n){var o,i,s,a,u,c,h,d,l,f=this._x0,g=this._y0,p=this._z0,v=this._x1,y=this._y1,m=this._z1,w=[],x=this._root;x&&w.push(new En(x,f,g,p,v,y,m)),null==n?n=1/0:(f=t-n,g=e-n,p=r-n,v=t+n,y=e+n,m=r+n,n*=n);while(d=w.pop())if(!(!(x=d.node)||(i=d.x0)>v||(s=d.y0)>y||(a=d.z0)>m||(u=d.x1)<f||(c=d.y1)<g||(h=d.z1)<p))if(x.length){var b=(i+u)/2,E=(s+c)/2,N=(a+h)/2;w.push(new En(x[7],b,E,N,u,c,h),new En(x[6],i,E,N,b,c,h),new En(x[5],b,s,N,u,E,h),new En(x[4],i,s,N,b,E,h),new En(x[3],b,E,a,u,c,N),new En(x[2],i,E,a,b,c,N),new En(x[1],b,s,a,u,E,N),new En(x[0],i,s,a,b,E,N)),(l=(r>=N)<<2|(e>=E)<<1|t>=b)&&(d=w[w.length-1],w[w.length-1]=w[w.length-1-l],w[w.length-1-l]=d)}else{var M=t-+this._x.call(null,x.data),_=e-+this._y.call(null,x.data),A=r-+this._z.call(null,x.data),k=M*M+_*_+A*A;if(k<n){var S=Math.sqrt(n=k);f=t-S,g=e-S,p=r-S,v=t+S,y=e+S,m=r+S,o=x.data}}return o}const Mn=(t,e,r,n,o,i)=>Math.sqrt((t-n)**2+(e-o)**2+(r-i)**2);function _n(t,e,r,n){const o=[],i=t-n,s=e-n,a=r-n,u=t+n,c=e+n,h=r+n;return this.visit(((d,l,f,g,p,v,y)=>{if(!d.length)do{const i=d.data;Mn(t,e,r,this._x(i),this._y(i),this._z(i))<=n&&o.push(i)}while(d=d.next);return l>u||f>c||g>h||p<i||v<s||y<a})),o}function An(t){if(isNaN(i=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t))||isNaN(a=+this._z.call(null,t)))return this;var e,r,n,o,i,s,a,u,c,h,d,l,f,g,p,v=this._root,y=this._x0,m=this._y0,w=this._z0,x=this._x1,b=this._y1,E=this._z1;if(!v)return this;if(v.length)while(1){if((d=i>=(u=(y+x)/2))?y=u:x=u,(l=s>=(c=(m+b)/2))?m=c:b=c,(f=a>=(h=(w+E)/2))?w=h:E=h,e=v,!(v=v[g=f<<2|l<<1|d]))return this;if(!v.length)break;(e[g+1&7]||e[g+2&7]||e[g+3&7]||e[g+4&7]||e[g+5&7]||e[g+6&7]||e[g+7&7])&&(r=e,p=g)}while(v.data!==t)if(n=v,!(v=v.next))return this;return(o=v.next)&&delete v.next,n?(o?n.next=o:delete n.next,this):e?(o?e[g]=o:delete e[g],(v=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&v===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!v.length&&(r?r[p]=v:this._root=v),this):(this._root=o,this)}function kn(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function Sn(){return this._root}function On(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function jn(t){var e,r,n,o,i,s,a,u,c=[],h=this._root;h&&c.push(new En(h,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));while(e=c.pop())if(!t(h=e.node,n=e.x0,o=e.y0,i=e.z0,s=e.x1,a=e.y1,u=e.z1)&&h.length){var d=(n+s)/2,l=(o+a)/2,f=(i+u)/2;(r=h[7])&&c.push(new En(r,d,l,f,s,a,u)),(r=h[6])&&c.push(new En(r,n,l,f,d,a,u)),(r=h[5])&&c.push(new En(r,d,o,f,s,l,u)),(r=h[4])&&c.push(new En(r,n,o,f,d,l,u)),(r=h[3])&&c.push(new En(r,d,l,i,s,a,f)),(r=h[2])&&c.push(new En(r,n,l,i,d,a,f)),(r=h[1])&&c.push(new En(r,d,o,i,s,l,f)),(r=h[0])&&c.push(new En(r,n,o,i,d,l,f))}return this}function zn(t){var e,r=[],n=[];this._root&&r.push(new En(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));while(e=r.pop()){var o=e.node;if(o.length){var i,s=e.x0,a=e.y0,u=e.z0,c=e.x1,h=e.y1,d=e.z1,l=(s+c)/2,f=(a+h)/2,g=(u+d)/2;(i=o[0])&&r.push(new En(i,s,a,u,l,f,g)),(i=o[1])&&r.push(new En(i,l,a,u,c,f,g)),(i=o[2])&&r.push(new En(i,s,f,u,l,h,g)),(i=o[3])&&r.push(new En(i,l,f,u,c,h,g)),(i=o[4])&&r.push(new En(i,s,a,g,l,f,d)),(i=o[5])&&r.push(new En(i,l,a,g,c,f,d)),(i=o[6])&&r.push(new En(i,s,f,g,l,h,d)),(i=o[7])&&r.push(new En(i,l,f,g,c,h,d))}n.push(e)}while(e=n.pop())t(e.node,e.x0,e.y0,e.z0,e.x1,e.y1,e.z1);return this}function Rn(t){return t[0]}function In(t){return arguments.length?(this._x=t,this):this._x}function Tn(t){return t[1]}function Pn(t){return arguments.length?(this._y=t,this):this._y}function Cn(t){return t[2]}function Dn(t){return arguments.length?(this._z=t,this):this._z}function Ln(t,e,r,n){var o=new Fn(null==e?Rn:e,null==r?Tn:r,null==n?Cn:n,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?o:o.addAll(t)}function Fn(t,e,r,n,o,i,s,a,u){this._x=t,this._y=e,this._z=r,this._x0=n,this._y0=o,this._z0=i,this._x1=s,this._y1=a,this._z1=u,this._root=void 0}function qn(t){var e={data:t.data},r=e;while(t=t.next)r=r.next={data:t.data};return e}var Vn=Ln.prototype=Fn.prototype;Vn.copy=function(){var t,e,r=new Fn(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root;if(!n)return r;if(!n.length)return r._root=qn(n),r;t=[{source:n,target:r._root=new Array(8)}];while(n=t.pop())for(var o=0;o<8;++o)(e=n.source[o])&&(e.length?t.push({source:e,target:n.target[o]=new Array(8)}):n.target[o]=qn(e));return r},Vn.add=vn,Vn.addAll=mn,Vn.cover=wn,Vn.data=xn,Vn.extent=bn,Vn.find=Nn,Vn.findAllWithinRadius=_n,Vn.remove=An,Vn.removeAll=kn,Vn.root=Sn,Vn.size=On,Vn.visit=jn,Vn.visitAfter=zn,Vn.x=In,Vn.y=Pn,Vn.z=Dn;const Bn=.81,Un=.1;function Gn(t,e,r,n,o=2){const i=e/r,s=t.getAllNodes(),a=s.map(((t,e)=>{const{nodeStrength:r,x:n,y:o,z:s,size:a}=t.data;return{x:n,y:o,z:s,size:a,index:e,id:t.id,vx:0,vy:0,vz:0,weight:i*r}})),u=(2===o?ln(a,(t=>t.x),(t=>t.y)):Ln(a,(t=>t.x),(t=>t.y),(t=>t.z))).visitAfter($n),c=new Map;return a.forEach((t=>{c.set(t.id,t),Yn(t,u,o)})),a.map(((t,e)=>{const{id:r,data:o}=s[e],{mass:i=1}=o;n[r]={x:t.vx/i,y:t.vy/i,z:t.vz/i}})),n}function $n(t){let e=0,r=0,n=0,o=0,i=0;const s=t.length;if(s){for(let a=0;a<s;a++){const s=t[a];s&&s.weight&&(e+=s.weight,r+=s.x*s.weight,n+=s.y*s.weight,o+=s.z*s.weight,i+=s.size*s.weight)}t.x=r/e,t.y=n/e,t.z=o/e,t.size=i/e,t.weight=e}else{const e=t;t.x=e.data.x,t.y=e.data.y,t.z=e.data.z,t.size=e.data.size,t.weight=e.data.weight}}const Wn=(t,e,r,n,o,i,s)=>{var a;if((null===(a=t.data)||void 0===a?void 0:a.id)===i.id)return;const u=[r,n,o][s-1],c=i.x-t.x||Un,h=i.y-t.y||Un,d=i.z-t.z||Un,l=[c,h,d],f=u-e;let g=0;for(let y=0;y<s;y++)g+=l[y]*l[y];const p=Math.sqrt(g),v=p*g;if(f*f*Bn<g){const e=t.weight/v;return i.vx+=c*e,i.vy+=h*e,i.vz+=d*e,!0}if(t.length)return!1;if(t.data!==i){const e=t.data.weight/v;i.vx+=c*e,i.vy+=h*e,i.vz+=d*e}};function Yn(t,e,r){e.visit(((e,n,o,i,s)=>Wn(e,n,o,i,s,t,r)))}const Hn={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class Kn{constructor(t={}){this.options=t,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},Hn),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericForceLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericForceLayout(!0,t,r)}))}stop(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval),this.running=!1}tick(t=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let r=0;(this.judgingDistance>this.lastOptions.minMovement||r<1)&&r<t;r++)this.runOneStep(this.lastCalcGraph,this.lastGraph,r,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const e={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&e.nodes.forEach((t=>this.lastGraph.mergeNodeData(t.id,{x:t.data.x,y:t.data.y,z:3===this.options.dimensions?t.data.z:void 0}))),e}genericForceLayout(t,r,n){return e(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.options),n),o=r.getAllNodes(),i=r.getAllEdges(),s=this.formatOptions(e,r),{dimensions:a,width:u,height:c,nodeSize:h,getMass:d,nodeStrength:l,edgeStrength:f,linkDistance:p}=s,v=o.map(((t,e)=>Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{x:$(t.data.x)?t.data.x:Math.random()*u,y:$(t.data.y)?t.data.y:Math.random()*c,z:$(t.data.z)?t.data.z:Math.random()*Math.sqrt(u*c),size:h(t)||30,mass:d(t),nodeStrength:l(t)})}))),y=i.map((t=>Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{edgeStrength:f(t),linkDistance:p(t,r.getNode(t.source),r.getNode(t.target))})})));if(!(null===o||void 0===o?void 0:o.length))return this.lastResult={nodes:[],edges:i},{nodes:[],edges:i};const m={};o.forEach(((t,e)=>{m[t.id]={x:0,y:0,z:0}}));const w=new g({nodes:v,edges:y});this.formatCentripetal(s,w);const{maxIteration:x,minMovement:b,onTick:E}=s;if(this.lastLayoutNodes=v,this.lastLayoutEdges=y,this.lastAssign=t,this.lastGraph=r,this.lastCalcGraph=w,this.lastOptions=s,this.lastVelMap=m,"undefined"===typeof window)return;let N=0;return new Promise((e=>{this.timeInterval=window.setInterval((()=>{o&&this.running||e({nodes:to(r,v),edges:i}),this.runOneStep(w,r,N,m,s),this.updatePosition(r,w,m,s),t&&v.forEach((t=>r.mergeNodeData(t.id,{x:t.data.x,y:t.data.y,z:3===a?t.data.z:void 0}))),null===E||void 0===E||E({nodes:to(r,v),edges:i}),N++,(N>=x||this.judgingDistance<b)&&(window.clearInterval(this.timeInterval),e({nodes:to(r,v),edges:i}))}),0),this.running=!0}))}))}formatOptions(t,e){const r=Object.assign({},t),{width:n,height:o,getMass:i}=t;r.width=n||"undefined"===typeof window?n:window.innerWidth,r.height=o||"undefined"===typeof window?o:window.innerHeight,t.center||(r.center=[r.width/2,r.height/2]),i||(r.getMass=t=>{let r=1;$(null===t||void 0===t?void 0:t.data.mass)&&(r=null===t||void 0===t?void 0:t.data.mass);const n=e.getDegree(t.id,"both");return!n||n<5?r:5*n*r}),r.nodeSize=zr(t.nodeSize,t.nodeSpacing);const s=t.linkDistance?Or(1,t.linkDistance):t=>1+r.nodeSize(e.getNode(t.source))+r.nodeSize(e.getNode(t.target));return r.linkDistance=s,r.nodeStrength=Or(1,t.nodeStrength),r.edgeStrength=Or(1,t.edgeStrength),r}formatCentripetal(t,e){const{dimensions:r,centripetalOptions:n,center:o,clusterNodeStrength:i,leafCluster:s,clustering:a,nodeClusterBy:u}=t,c=e.getAllNodes(),h=n||{leaf:2,single:2,others:1,center:t=>({x:o[0],y:o[1],z:3===r?o[2]:void 0})};let d,l;if("function"!==typeof i&&(t.clusterNodeStrength=t=>i),s&&u&&(d=Jn(e,u),l=Array.from(new Set(null===c||void 0===c?void 0:c.map((t=>t.data[u]))))||[],t.centripetalOptions=Object.assign(h,{single:100,leaf:e=>{const{siblingLeaves:r,sameTypeLeaves:n}=d[e.id]||{};return(null===n||void 0===n?void 0:n.length)===(null===r||void 0===r?void 0:r.length)||1===(null===l||void 0===l?void 0:l.length)?1:t.clusterNodeStrength(e)},others:1,center:t=>{const r=e.getDegree(t.id,"both");if(!r)return{x:100,y:100,z:0};let n;if(1===r){const{sameTypeLeaves:e=[]}=d[t.id]||{};1===e.length?n=void 0:e.length>1&&(n=Zn(e))}else n=void 0;return{x:null===n||void 0===n?void 0:n.x,y:null===n||void 0===n?void 0:n.y,z:null===n||void 0===n?void 0:n.z}}})),a&&u){d||(d=Jn(e,u)),l||(l=Array.from(new Set(c.map((t=>t.data[u]))))),l=l.filter((t=>void 0!==t));const r={};l.forEach((t=>{const n=c.filter((e=>e.data[u]===t)).map((t=>e.getNode(t.id)));r[t]=Zn(n)})),t.centripetalOptions=Object.assign(h,{single:e=>t.clusterNodeStrength(e),leaf:e=>t.clusterNodeStrength(e),others:e=>t.clusterNodeStrength(e),center:t=>{const e=r[t.data[u]];return{x:null===e||void 0===e?void 0:e.x,y:null===e||void 0===e?void 0:e.y,z:null===e||void 0===e?void 0:e.z}}})}const{leaf:f,single:g,others:p}=t.centripetalOptions||{};f&&"function"!==typeof f&&(t.centripetalOptions.leaf=()=>f),g&&"function"!==typeof g&&(t.centripetalOptions.single=()=>g),p&&"function"!==typeof p&&(t.centripetalOptions.others=()=>p)}runOneStep(t,e,r,n,o){const i={},s=t.getAllNodes(),a=t.getAllEdges();if(!(null===s||void 0===s?void 0:s.length))return;const{monitor:u}=o;if(this.calRepulsive(t,i,o),a&&this.calAttractive(t,i,o),this.calGravity(t,e,i,o),this.updateVelocity(t,i,n,o),u){const t=this.calTotalEnergy(i,s);u({energy:t,nodes:e.getAllNodes(),edges:e.getAllEdges(),iterations:r})}}calTotalEnergy(t,e){if(!(null===e||void 0===e?void 0:e.length))return 0;let r=0;return e.forEach(((e,n)=>{const o=t[e.id].x,i=t[e.id].y,s=3===this.options.dimensions?t[e.id].z:0,a=o*o+i*i+s*s,{mass:u=1}=e.data;r+=u*a*.5})),r}calRepulsive(t,e,r){const{dimensions:n,factor:o,coulombDisScale:i}=r;Gn(t,o,i*i,e,n)}calAttractive(t,e,r){const{dimensions:n,nodeSize:o}=r;t.getAllEdges().forEach(((r,i)=>{const{source:s,target:a}=r,u=t.getNode(s),c=t.getNode(a);if(!u||!c)return;let h=c.data.x-u.data.x,d=c.data.y-u.data.y,l=3===n?c.data.z-u.data.z:0;h||d||(h=.01*Math.random(),d=.01*Math.random(),3!==n||l||(l=.01*Math.random()));const f=Math.sqrt(h*h+d*d+l*l);if(f<o(u)+o(c))return;const g=h/f,p=d/f,v=l/f,{linkDistance:y=200,edgeStrength:m=200}=r.data||{},w=y-f,x=w*m,b=u.data.mass||1,E=c.data.mass||1,N=1/b,M=1/E,_=g*x,A=p*x,k=v*x;e[s].x-=_*N,e[s].y-=A*N,e[s].z-=k*N,e[a].x+=_*M,e[a].y+=A*M,e[a].z+=k*M}))}calGravity(t,e,r,n){const{getCenter:o}=n,i=t.getAllNodes(),s=e.getAllNodes(),a=e.getAllEdges(),{width:u,height:c,center:h,gravity:d,centripetalOptions:l}=n;i&&i.forEach((n=>{const{id:i,data:f}=n,{mass:g,x:p,y:v,z:y}=f,m=e.getNode(i);let w=0,x=0,b=0,E=d;const N=t.getDegree(i,"in"),M=t.getDegree(i,"out"),_=t.getDegree(i,"both"),A=null===o||void 0===o?void 0:o(m,_);if(A){const[t,e,r]=A;w=p-t,x=v-e,E=r}else w=p-h[0],x=v-h[1],b=y-h[2];if(E&&(r[i].x-=E*w/g,r[i].y-=E*x/g,r[i].z-=E*b/g),l){const{leaf:t,single:e,others:n,center:o}=l,{x:h,y:d,z:f,centerStrength:w}=(null===o||void 0===o?void 0:o(m,s,a,u,c))||{x:0,y:0,z:0,centerStrength:0};if(!$(h)||!$(d))return;const x=(p-h)/g,b=(v-d)/g,E=(y-f)/g;if(w&&(r[i].x-=w*x,r[i].y-=w*b,r[i].z-=w*E),0===_){const t=e(m);if(!t)return;return r[i].x-=t*x,r[i].y-=t*b,void(r[i].z-=t*E)}if(0===N||0===M){const e=t(m,s,a);if(!e)return;return r[i].x-=e*x,r[i].y-=e*b,void(r[i].z-=e*E)}const A=n(m);if(!A)return;r[i].x-=A*x,r[i].y-=A*b,r[i].z-=A*E}}))}updateVelocity(t,e,r,n){const{damping:o,maxSpeed:i,interval:s,dimensions:a}=n,u=t.getAllNodes();(null===u||void 0===u?void 0:u.length)&&u.forEach((t=>{const{id:n}=t;let u=(r[n].x+e[n].x*s)*o||.01,c=(r[n].y+e[n].y*s)*o||.01,h=3===a?(r[n].z+e[n].z*s)*o||.01:0;const d=Math.sqrt(u*u+c*c+h*h);if(d>i){const t=i/d;u*=t,c*=t,h*=t}r[n]={x:u,y:c,z:h}}))}updatePosition(t,e,r,n){const{distanceThresholdMode:o,interval:i,dimensions:s}=n,a=e.getAllNodes();if(!(null===a||void 0===a?void 0:a.length))return void(this.judgingDistance=0);let u=0;"max"===o?this.judgingDistance=-1/0:"min"===o&&(this.judgingDistance=1/0),a.forEach((n=>{const{id:a}=n,c=t.getNode(a);if($(c.data.fx)&&$(c.data.fy))return void e.mergeNodeData(a,{x:c.data.fx,y:c.data.fy,z:3===s?c.data.fz:void 0});const h=r[a].x*i,d=r[a].y*i,l=3===s?r[a].z*i:0;e.mergeNodeData(a,{x:n.data.x+h,y:n.data.y+d,z:n.data.z+l});const f=Math.sqrt(h*h+d*d+l*l);switch(o){case"max":this.judgingDistance<f&&(this.judgingDistance=f);break;case"min":this.judgingDistance>f&&(this.judgingDistance=f);break;default:u+=f;break}})),o&&"mean"!==o||(this.judgingDistance=u/a.length)}}const Jn=(t,e)=>{const r=t.getAllNodes();if(!(null===r||void 0===r?void 0:r.length))return{};const n={};return r.forEach(((r,o)=>{const i=t.getDegree(r.id,"both");1===i&&(n[r.id]=Xn(t,"leaf",r,e))})),n},Xn=(t,e,r,n)=>{const o=t.getDegree(r.id,"in"),i=t.getDegree(r.id,"out");let s=r,a=[];0===o?(s=t.getSuccessors(r.id)[0],a=t.getNeighbors(s.id)):0===i&&(s=t.getPredecessors(r.id)[0],a=t.getNeighbors(s.id)),a=a.filter((e=>0===t.getDegree(e.id,"in")||0===t.getDegree(e.id,"out")));const u=Qn(t,e,n,r,a);return{coreNode:s,siblingLeaves:a,sameTypeLeaves:u}},Qn=(t,e,r,n,o)=>{const i=n.data[r]||"";let s=(null===o||void 0===o?void 0:o.filter((t=>t.data[r]===i)))||[];return"leaf"===e&&(s=s.filter((e=>0===t.getDegree(e.id,"in")||0===t.getDegree(e.id,"out")))),s},Zn=t=>{const e={x:0,y:0};t.forEach((t=>{const{x:r,y:n}=t.data;e.x+=r||0,e.y+=n||0}));const r=t.length||1;return{x:e.x/r,y:e.y/r}},to=(t,e)=>e.map((e=>{const{id:r,data:n}=e,o=t.getNode(r);return Object.assign(Object.assign({},o),{data:Object.assign(Object.assign({},o.data),{x:n.x,y:n.y,z:n.z})})}));var eo=r(68742);eo.y3,eo.jy,eo.oN,eo.Hc,eo.cg,eo.hj,eo.LU,eo.Tb;const ro=eo.uq,no=(eo.Zm,eo.Dq,eo.__,eo.q0,eo.lh,eo.pI,eo.zC,eo.zg,eo.g6,eo.OL,eo.ks,eo.QR,eo.jp,eo.mk,eo.W2);eo.l,eo.KY,eo.dv,eo.BR,eo.Wu;eo.uq,eo.uq;eo.a4,eo.DI,eo.Jo,eo.Zi,eo.kH,eo.LV;const oo=t=>{const e=[],r=t.length;for(let n=0;n<r;n+=1){e[n]=[];for(let o=0;o<r;o+=1)n===o?e[n][o]=0:0!==t[n][o]&&t[n][o]?e[n][o]=t[n][o]:e[n][o]=1/0}for(let n=0;n<r;n+=1)for(let t=0;t<r;t+=1)for(let o=0;o<r;o+=1)e[t][o]>e[t][n]+e[n][o]&&(e[t][o]=e[t][n]+e[n][o]);return e},io=(t,e)=>{const{nodes:r,edges:n}=t,o=[],i={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(((t,e)=>{i[t.id]=e;const r=[];o.push(r)})),null===n||void 0===n||n.forEach((t=>{const{source:r,target:n}=t,s=i[r],a=i[n];void 0!==s&&void 0!==a&&(o[s][a]=1,e||(o[a][s]=1))})),o},so=(t,e)=>{const r=[];return t.forEach((t=>{const n=[];t.forEach((t=>{n.push(t*e)})),r.push(n)})),r},ao=t=>{let e=1/0,r=1/0,n=-1/0,o=-1/0;return t.forEach((t=>{let i=t.data.size;Gr(i)?1===i.length&&(i=[i[0],i[0]]):$(i)?i=[i,i]:(void 0===i||isNaN(i))&&(i=[30,30]);const s=[i[0]/2,i[1]/2],a=t.data.x-s[0],u=t.data.x+s[0],c=t.data.y-s[1],h=t.data.y+s[1];e>a&&(e=a),r>c&&(r=c),n<u&&(n=u),o<h&&(o=h)})),{minX:e,minY:r,maxX:n,maxY:o}},uo=(t,e)=>Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),co=(t,e,r,n="TB",o,i={})=>{if(!(null===e||void 0===e?void 0:e.length))return;const{stopBranchFn:s,stopAllFn:a}=i;for(let u=0;u<e.length;u++){const c=e[u];if(t.hasNode(c.id)&&!(null===s||void 0===s?void 0:s(c))){if(null===a||void 0===a?void 0:a(c))return;"TB"===n&&r(c),co(t,t.getChildren(c.id,o),r,n,o,i),"TB"!==n&&r(c)}}},ho={center:[0,0],linkDistance:50};class lo{constructor(t={}){this.options=t,this.id="mds",this.options=Object.assign(Object.assign({},ho),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericMDSLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericMDSLayout(!0,t,r)}))}genericMDSLayout(t,r,n){return e(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.options),n),{center:o=[0,0],linkDistance:i=50}=e,s=r.getAllNodes(),a=r.getAllEdges();if(!(null===s||void 0===s?void 0:s.length)||1===s.length)return Dr(r,t,o);const u=io({nodes:s,edges:a},!1),c=oo(u);fo(c);const h=so(c,i),d=go(h),l=[];d.forEach(((t,e)=>{const r=Ir(s[e]);r.data.x=t[0]+o[0],r.data.y=t[1]+o[1],l.push(r)})),t&&l.forEach((t=>r.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})));const f={nodes:l,edges:a};return f}))}}const fo=t=>{let e=-999999;t.forEach((t=>{t.forEach((t=>{t!==1/0&&e<t&&(e=t)}))})),t.forEach(((r,n)=>{r.forEach(((r,o)=>{r===1/0&&(t[n][o]=e)}))}))},go=t=>{const e=2,r=ro.mul(ro.pow(t,2),-.5),n=r.mean("row"),o=r.mean("column"),i=r.mean();r.add(i).subRowVector(n).subColumnVector(o);const s=new no(r),a=ro.sqrt(s.diagonalMatrix).diagonal();return s.leftSingularVectors.toJSON().map((t=>ro.mul([t],[a]).toJSON()[0].splice(0,e)))};function po(t){return!!t.tick&&!!t.stop}const vo={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},yo={center:[0,0],comboPadding:10,treeKey:"combo"};class mo{constructor(t={}){this.options=t,this.id="comboCombined",this.options=Object.assign(Object.assign({},yo),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericComboCombinedLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericComboCombinedLayout(!0,t,r)}))}genericComboCombinedLayout(t,r,n){return e(this,void 0,void 0,(function*(){const e=this.initVals(Object.assign(Object.assign({},this.options),n)),{center:o,treeKey:i,outerLayout:s}=e,a=r.getAllNodes().filter((t=>!t.data._isCombo)),u=r.getAllNodes().filter((t=>t.data._isCombo)),c=r.getAllEdges(),h=null===a||void 0===a?void 0:a.length;if(!h||1===h)return Dr(r,t,o);const d=[],l=new Map;a.forEach((t=>{l.set(t.id,t)}));const f=new Map;u.forEach((t=>{f.set(t.id,t)}));const p=new Map,v=this.getInnerGraphs(r,i,l,f,c,e,p);yield Promise.all(v);const y=new Map,m=[],w=new Map;let x=!0;r.getRoots(i).forEach((t=>{const e=p.get(t.id),n=f.get(t.id)||l.get(t.id),o={id:t.id,data:Object.assign(Object.assign({},t.data),{x:e.data.x||n.data.x,y:e.data.y||n.data.y,fx:e.data.fx||n.data.fx,fy:e.data.fy||n.data.fy,mass:e.data.mass||n.data.mass,size:e.data.size})};m.push(o),y.set(t.id,!0),isNaN(o.data.x)||0===o.data.x||isNaN(o.data.y)||0===o.data.y?(o.data.x=100*Math.random(),o.data.y=100*Math.random()):x=!1,co(r,[t],(e=>{e.id!==t.id&&w.set(e.id,t.id)}),"TB",i)}));const b=[];let E;if(c.forEach((t=>{const e=w.get(t.source)||t.source,r=w.get(t.target)||t.target;e!==r&&y.has(e)&&y.has(r)&&b.push({id:t.id,source:e,target:r,data:{}})})),null===m||void 0===m?void 0:m.length){if(1===m.length)m[0].data.x=o[0],m[0].data.y=o[1];else{const t=new g({nodes:m,edges:b}),e=s||new Kn;if(x&&vo[e.id]){const e=m.length<100?new lo:new Wr;yield e.assign(t)}const r=Object.assign({center:o,kg:5,preventOverlap:!0,animate:!1},"force"===e.id?{gravity:1,factor:4,linkDistance:(t,e,r)=>{const n=Math.max(...e.data.size)||32,o=Math.max(...r.data.size)||32;return n/2+o/2+200}}:{});E=yield wo(e,t,r)}p.forEach((t=>{var e;const r=E.nodes.find((e=>e.id===t.id));if(r){const{x:e,y:n}=r.data;t.data.visited=!0,t.data.x=e,t.data.y=n,d.push({id:t.id,data:{x:e,y:n}})}const{x:n,y:o}=t.data;null===(e=t.data.nodes)||void 0===e||e.forEach((t=>{d.push({id:t.id,data:{x:t.data.x+n,y:t.data.y+o}})}))})),p.forEach((({data:t})=>{const{x:e,y:r,visited:n,nodes:o}=t;null===o||void 0===o||o.forEach((t=>{if(!n){const n=d.find((e=>e.id===t.id));n.data.x+=e||0,n.data.y+=r||0}}))}))}t&&d.forEach((t=>{r.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})}));const N={nodes:d,edges:c};return N}))}initVals(t){const e=Object.assign({},t),{nodeSize:r,spacing:n,comboPadding:o}=t;let i,s,a;if(s=$(n)?()=>n:Ar(n)?n:()=>0,e.spacing=s,r)if(Ar(r))i=t=>{const e=r(t),n=s(t);if(Gr(t.size)){const e=t.size[0]>t.size[1]?t.size[0]:t.size[1];return(e+n)/2}return((e||32)+n)/2};else if(Gr(r)){const t=r[0]>r[1]?r[0]:r[1],e=t/2;i=t=>e+s(t)/2}else{const t=r/2;i=e=>t+s(e)/2}else i=t=>{const e=s(t);if(t.size){if(Gr(t.size)){const r=t.size[0]>t.size[1]?t.size[0]:t.size[1];return(r+e)/2}if(kr(t.size)){const r=t.size.width>t.size.height?t.size.width:t.size.height;return(r+e)/2}return(t.size+e)/2}return 32+e/2};return e.nodeSize=i,a=$(o)?()=>o:Gr(o)?()=>Math.max.apply(null,o):Ar(o)?o:()=>0,e.comboPadding=a,e}getInnerGraphs(t,r,n,o,i,s,a){const{nodeSize:u,comboPadding:c,spacing:h,innerLayout:d}=s,l=d||new Wr({}),f={center:[0,0],preventOverlap:!0,nodeSpacing:h},p=[],v=t=>{let e=(null===c||void 0===c?void 0:c(t))||10;return Gr(e)&&(e=Math.max(...e)),{size:e?[2*e,2*e]:[30,30],padding:e}};return t.getRoots(r).forEach((s=>{a.set(s.id,{id:s.id,data:{nodes:[],size:v(s).size}});let c=Promise.resolve();co(t,[s],(s=>{var h;if(!s.data._isCombo)return;const{size:d,padding:p}=v(s);if(null===(h=t.getChildren(s.id,r))||void 0===h?void 0:h.length){const h=a.get(s.id);a.set(s.id,{id:s.id,data:Object.assign({nodes:[]},null===h||void 0===h?void 0:h.data)});const d=new Map,v=t.getChildren(s.id,r).map((t=>{if(t.data._isCombo)return a.has(t.id)||a.set(t.id,{id:t.id,data:Object.assign({},t.data)}),d.set(t.id,!0),a.get(t.id);const e=n.get(t.id)||o.get(t.id);return d.set(t.id,!0),{id:t.id,data:Object.assign(Object.assign({},e.data),t.data)}})),y={nodes:v,edges:i.filter((t=>d.has(t.source)&&d.has(t.target)))};let m=1/0;v.forEach((t=>{var e;let{size:r}=t.data;r||(r=(null===(e=a.get(t.id))||void 0===e?void 0:e.data.size)||(null===u||void 0===u?void 0:u(t))||[30,30]),$(r)&&(r=[r,r]);const[n,o]=r;m>n&&(m=n),m>o&&(m=o),t.data.size=r})),c=c.then((()=>e(this,void 0,void 0,(function*(){const t=new g(y);yield wo(l,t,f,!0);const{minX:e,minY:r,maxX:n,maxY:o}=ao(v),i={x:(n+e)/2,y:(o+r)/2};y.nodes.forEach((t=>{t.data.x-=i.x,t.data.y-=i.y}));const u=[Math.max(n-e,m)+2*p,Math.max(o-r,m)+2*p];a.get(s.id).data.size=u,a.get(s.id).data.nodes=v}))))}else a.set(s.id,{id:s.id,data:Object.assign(Object.assign({},s.data),{size:d})});return!0}),"BT",r),p.push(c)})),p}}function wo(t,r,n,o){var i;return e(this,void 0,void 0,(function*(){return po(t)?(t.execute(r,n),t.stop(),t.tick(null!==(i=n.iterations)&&void 0!==i?i:300)):o?yield t.assign(r,n):yield t.execute(r,n)}))}var xo=function(t){return"object"===typeof t&&null!==t},bo=xo,Eo={}.toString,No=function(t,e){return Eo.call(t)==="[object "+e+"]"},Mo=No,_o=function(t){if(!bo(t)||!Mo(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;var e=t;while(null!==Object.getPrototypeOf(e))e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Ao=_o,ko=5;function So(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function Oo(t,e,r,n){for(var o in r=r||0,n=n||ko,e)if(So(e,o)){var i=e[o];null!==i&&Ao(i)?(Ao(t[o])||(t[o]={}),r<n?Oo(t[o],i,r+1,n):t[o]=e[o]):Vt(i)?(t[o]=[],t[o]=t[o].concat(i)):void 0!==i&&(t[o]=i)}}var jo=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n+=1)Oo(t,e[n]);return t},zo=jo;function Ro(t,e){var r;if(t)if(Vt(t)){for(var n=0,o=t.length;n<o;n++)if(r=e(t[n],n),!1===r)break}else if(kr(t))for(var i in t)if(t.hasOwnProperty(i)&&(r=e(t[i],i),!1===r))break}var Io=Ro,To=Object.prototype.hasOwnProperty,Po=function(t,e){if(null===t||!Ao(t))return{};var r={};return Io(e,(function(e){To.call(t,e)&&(r[e]=t[e])})),r};function Co(t){return function(){return t}}function Do(t){return 1e-6*(t()-.5)}function Lo(t){return t.index}function Fo(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}function qo(t){var e,r,n,o,i,s,a=Lo,u=d,c=Co(30),h=1;function d(t){return 1/Math.min(o[t.source.index],o[t.target.index])}function l(n){for(var o=0,a=t.length;o<h;++o)for(var u,c,d,l,f,g,p,v=0;v<a;++v)u=t[v],c=u.source,d=u.target,l=d.x+d.vx-c.x-c.vx||Do(s),f=d.y+d.vy-c.y-c.vy||Do(s),g=Math.sqrt(l*l+f*f),g=(g-r[v])/g*n*e[v],l*=g,f*=g,d.vx-=l*(p=i[v]),d.vy-=f*p,c.vx+=l*(p=1-p),c.vy+=f*p}function f(){if(n){var s,u,c=n.length,h=t.length,d=new Map(n.map(((t,e)=>[a(t,e,n),t])));for(s=0,o=new Array(c);s<h;++s)u=t[s],u.index=s,"object"!==typeof u.source&&(u.source=Fo(d,u.source)),"object"!==typeof u.target&&(u.target=Fo(d,u.target)),o[u.source.index]=(o[u.source.index]||0)+1,o[u.target.index]=(o[u.target.index]||0)+1;for(s=0,i=new Array(h);s<h;++s)u=t[s],i[s]=o[u.source.index]/(o[u.source.index]+o[u.target.index]);e=new Array(h),g(),r=new Array(h),p()}}function g(){if(n)for(var r=0,o=t.length;r<o;++r)e[r]=+u(t[r],r,t)}function p(){if(n)for(var e=0,o=t.length;e<o;++e)r[e]=+c(t[e],e,t)}return null==t&&(t=[]),l.initialize=function(t,e){n=t,s=e,f()},l.links=function(e){return arguments.length?(t=e,f(),l):t},l.id=function(t){return arguments.length?(a=t,l):a},l.iterations=function(t){return arguments.length?(h=+t,l):h},l.strength=function(t){return arguments.length?(u="function"===typeof t?t:Co(+t),g(),l):u},l.distance=function(t){return arguments.length?(c="function"===typeof t?t:Co(+t),p(),l):c},l}var Vo={value:()=>{}};function Bo(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new Uo(n)}function Uo(t){this._=t}function Go(t,e){return t.trim().split(/^|\s+/).map((function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function $o(t,e){for(var r,n=0,o=t.length;n<o;++n)if((r=t[n]).name===e)return r.value}function Wo(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=Vo,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({name:e,value:r}),t}Uo.prototype=Bo.prototype={constructor:Uo,on:function(t,e){var r,n=this._,o=Go(t+"",n),i=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++i<s)if(r=(t=o[i]).type)n[r]=Wo(n[r],t.name,e);else if(null==e)for(r in n)n[r]=Wo(n[r],t.name,null);return this}while(++i<s)if((r=(t=o[i]).type)&&(r=$o(n[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Uo(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,o=new Array(r),i=0;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(n=this._[t],i=0,r=n.length;i<r;++i)n[i].value.apply(e,o)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};var Yo,Ho,Ko=Bo,Jo=0,Xo=0,Qo=0,Zo=1e3,ti=0,ei=0,ri=0,ni="object"===typeof performance&&performance.now?performance:Date,oi="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ii(){return ei||(oi(si),ei=ni.now()+ri)}function si(){ei=0}function ai(){this._call=this._time=this._next=null}function ui(t,e,r){var n=new ai;return n.restart(t,e,r),n}function ci(){ii(),++Jo;var t,e=Yo;while(e)(t=ei-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Jo}function hi(){ei=(ti=ni.now())+ri,Jo=Xo=0;try{ci()}finally{Jo=0,li(),ei=0}}function di(){var t=ni.now(),e=t-ti;e>Zo&&(ri-=e,ti=t)}function li(){var t,e,r=Yo,n=1/0;while(r)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:Yo=e);Ho=t,fi(n)}function fi(t){if(!Jo){Xo&&(Xo=clearTimeout(Xo));var e=t-ei;e>24?(t<1/0&&(Xo=setTimeout(hi,t-ni.now()-ri)),Qo&&(Qo=clearInterval(Qo))):(Qo||(ti=ni.now(),Qo=setInterval(di,Zo)),Jo=1,oi(hi))}}ai.prototype=ui.prototype={constructor:ai,restart:function(t,e,r){if("function"!==typeof t)throw new TypeError("callback is not a function");r=(null==r?ii():+r)+(null==e?0:+e),this._next||Ho===this||(Ho?Ho._next=this:Yo=this,Ho=this),this._call=t,this._time=r,fi()},stop:function(){this._call&&(this._call=null,this._time=1/0,fi())}};const gi=1664525,pi=1013904223,vi=4294967296;function yi(){let t=1;return()=>(t=(gi*t+pi)%vi)/vi}function mi(t){return t.x}function wi(t){return t.y}var xi=10,bi=Math.PI*(3-Math.sqrt(5));function Ei(t){var e,r=1,n=.001,o=1-Math.pow(n,1/300),i=0,s=.6,a=new Map,u=ui(d),c=Ko("tick","end"),h=yi();function d(){l(),c.call("tick",e),r<n&&(u.stop(),c.call("end",e))}function l(n){var u,c,h=t.length;void 0===n&&(n=1);for(var d=0;d<n;++d)for(r+=(i-r)*o,a.forEach((function(t){t(r)})),u=0;u<h;++u)c=t[u],null==c.fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function f(){for(var e,r=0,n=t.length;r<n;++r){if(e=t[r],e.index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=xi*Math.sqrt(.5+r),i=r*bi;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function g(e){return e.initialize&&e.initialize(t,h),e}return null==t&&(t=[]),f(),e={tick:l,restart:function(){return u.restart(d),e},stop:function(){return u.stop(),e},nodes:function(r){return arguments.length?(t=r,f(),a.forEach(g),e):t},alpha:function(t){return arguments.length?(r=+t,e):r},alphaMin:function(t){return arguments.length?(n=+t,e):n},alphaDecay:function(t){return arguments.length?(o=+t,e):+o},alphaTarget:function(t){return arguments.length?(i=+t,e):i},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(h=t,a.forEach(g),e):h},force:function(t,r){return arguments.length>1?(null==r?a.delete(t):a.set(t,g(r)),e):a.get(t)},find:function(e,r,n){var o,i,s,a,u,c=0,h=t.length;for(null==n?n=1/0:n*=n,c=0;c<h;++c)a=t[c],o=e-a.x,i=r-a.y,s=o*o+i*i,s<n&&(u=a,n=s);return u},on:function(t,r){return arguments.length>1?(c.on(t,r),e):c.on(t)}}}function Ni(){var t,e,r,n,o,i=Co(-30),s=1,a=1/0,u=.81;function c(r){var o,i=t.length,s=ln(t,mi,wi).visitAfter(d);for(n=r,o=0;o<i;++o)e=t[o],s.visit(l)}function h(){if(t){var e,r,n=t.length;for(o=new Array(n),e=0;e<n;++e)r=t[e],o[r.index]=+i(r,e,t)}}function d(t){var e,r,n,i,s,a=0,u=0;if(t.length){for(n=i=s=0;s<4;++s)(e=t[s])&&(r=Math.abs(e.value))&&(a+=e.value,u+=r,n+=r*e.x,i+=r*e.y);t.x=n/u,t.y=i/u}else{e=t,e.x=e.data.x,e.y=e.data.y;do{a+=o[e.data.index]}while(e=e.next)}t.value=a}function l(t,i,c,h){if(!t.value)return!0;var d=t.x-e.x,l=t.y-e.y,f=h-i,g=d*d+l*l;if(f*f/u<g)return g<a&&(0===d&&(d=Do(r),g+=d*d),0===l&&(l=Do(r),g+=l*l),g<s&&(g=Math.sqrt(s*g)),e.vx+=d*t.value*n/g,e.vy+=l*t.value*n/g),!0;if(!(t.length||g>=a)){(t.data!==e||t.next)&&(0===d&&(d=Do(r),g+=d*d),0===l&&(l=Do(r),g+=l*l),g<s&&(g=Math.sqrt(s*g)));do{t.data!==e&&(f=o[t.data.index]*n/g,e.vx+=d*f,e.vy+=l*f)}while(t=t.next)}}return c.initialize=function(e,n){t=e,r=n,h()},c.strength=function(t){return arguments.length?(i="function"===typeof t?t:Co(+t),h(),c):i},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c}function Mi(t,e){var r,n=1;function o(){var o,i,s=r.length,a=0,u=0;for(o=0;o<s;++o)i=r[o],a+=i.x,u+=i.y;for(a=(a/s-t)*n,u=(u/s-e)*n,o=0;o<s;++o)i=r[o],i.x-=a,i.y-=u}return null==t&&(t=0),null==e&&(e=0),o.initialize=function(t){r=t},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(t){return arguments.length?(e=+t,o):e},o.strength=function(t){return arguments.length?(n=+t,o):n},o}function _i(t){return t.x+t.vx}function Ai(t){return t.y+t.vy}function ki(t){var e,r,n,o=1,i=1;function s(){for(var t,s,u,c,h,d,l,f=e.length,g=0;g<i;++g)for(s=ln(e,_i,Ai).visitAfter(a),t=0;t<f;++t)u=e[t],d=r[u.index],l=d*d,c=u.x+u.vx,h=u.y+u.vy,s.visit(p);function p(t,e,r,i,s){var a=t.data,f=t.r,g=d+f;if(!a)return e>c+g||i<c-g||r>h+g||s<h-g;if(a.index>u.index){var p=c-a.x-a.vx,v=h-a.y-a.vy,y=p*p+v*v;y<g*g&&(0===p&&(p=Do(n),y+=p*p),0===v&&(v=Do(n),y+=v*v),y=(g-(y=Math.sqrt(y)))/y*o,u.vx+=(p*=y)*(g=(f*=f)/(l+f)),u.vy+=(v*=y)*g,a.vx-=p*(g=1-g),a.vy-=v*g)}}}function a(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var n,o,i=e.length;for(r=new Array(i),n=0;n<i;++n)o=e[n],r[o.index]=+t(o,n,e)}}return"function"!==typeof t&&(t=Co(null==t?1:+t)),s.initialize=function(t,r){e=t,n=r,u()},s.iterations=function(t){return arguments.length?(i=+t,s):i},s.strength=function(t){return arguments.length?(o=+t,s):o},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:Co(+e),u(),s):t},s}function Si(t,e,r){var n,o,i,s=Co(.1);function a(t){for(var s=0,a=n.length;s<a;++s){var u=n[s],c=u.x-e||1e-6,h=u.y-r||1e-6,d=Math.sqrt(c*c+h*h),l=(i[s]-d)*o[s]*t/d;u.vx+=c*l,u.vy+=h*l}}function u(){if(n){var e,r=n.length;for(o=new Array(r),i=new Array(r),e=0;e<r;++e)i[e]=+t(n[e],e,n),o[e]=isNaN(i[e])?0:+s(n[e],e,n)}}return"function"!==typeof t&&(t=Co(+t)),null==e&&(e=0),null==r&&(r=0),a.initialize=function(t){n=t,u()},a.strength=function(t){return arguments.length?(s="function"===typeof t?t:Co(+t),u(),a):s},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:Co(+e),u(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(r=+t,a):r},a}function Oi(t){var e,r,n,o=Co(.1);function i(t){for(var o,i=0,s=e.length;i<s;++i)o=e[i],o.vx+=(n[i]-o.x)*r[i]*t}function s(){if(e){var i,s=e.length;for(r=new Array(s),n=new Array(s),i=0;i<s;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!==typeof t&&(t=Co(null==t?0:+t)),i.initialize=function(t){e=t,s()},i.strength=function(t){return arguments.length?(o="function"===typeof t?t:Co(+t),s(),i):o},i.x=function(e){return arguments.length?(t="function"===typeof e?e:Co(+e),s(),i):t},i}function ji(t){var e,r,n,o=Co(.1);function i(t){for(var o,i=0,s=e.length;i<s;++i)o=e[i],o.vy+=(n[i]-o.y)*r[i]*t}function s(){if(e){var i,s=e.length;for(r=new Array(s),n=new Array(s),i=0;i<s;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!==typeof t&&(t=Co(null==t?0:+t)),i.initialize=function(t){e=t,s()},i.strength=function(t){return arguments.length?(o="function"===typeof t?t:Co(+t),s(),i):o},i.y=function(e){return arguments.length?(t="function"===typeof e?e:Co(+e),s(),i):t},i}class zi{constructor(t){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:qo,manyBody:Ni,center:Mi,collide:ki,radial:Si,x:Oi,y:ji},this.options={link:{id:t=>t.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},zo(this.options,t),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericLayout(!0,t,r)}))}stop(){this.simulation.stop()}tick(t){return this.simulation.tick(t),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(t,e){const r=this.context.nodes.find((e=>e.id===t));r&&e.forEach(((t,e)=>{if("number"===typeof t||null===t){const n=["fx","fy","fz"][e];r[n]=t}}))}getOptions(t){var e,r;const n=zo({},this.options,t);return n.collide&&void 0===(null===(e=n.collide)||void 0===e?void 0:e.radius)&&(n.collide=n.collide||{},n.collide.radius=null!==(r=n.nodeSize)&&void 0!==r?r:10),void 0===n.iterations&&(n.link&&void 0===n.link.iterations&&(n.iterations=n.link.iterations),n.collide&&void 0===n.collide.iterations&&(n.iterations=n.collide.iterations)),this.context.options=n,n}genericLayout(t,r,n){var o;return e(this,void 0,void 0,(function*(){const e=this.getOptions(n),i=r.getAllNodes().map((({id:t,data:e})=>Object.assign(Object.assign({id:t},e),Po(e.data,this.config.inputNodeAttrs)))),s=r.getAllEdges().map((t=>Object.assign({},t)));Object.assign(this.context,{assign:t,nodes:i,edges:s,graph:r});const a=new Promise((t=>{this.resolver=t})),u=this.setSimulation(e);return u.nodes(i),null===(o=u.force("link"))||void 0===o||o.links(s),a}))}getResult(){const{assign:t,nodes:e,edges:r,graph:n}=this.context,o=e.map((t=>({id:t.id,data:Object.assign(Object.assign({},t.data),Po(t,this.config.outputNodeAttrs))}))),i=r.map((({id:t,source:e,target:r,data:n})=>({id:t,source:"object"===typeof e?e.id:e,target:"object"===typeof r?r.id:r,data:n})));return t&&o.forEach((t=>n.mergeNodeData(t.id,t.data))),{nodes:o,edges:i}}initSimulation(){return Ei()}setSimulation(t){const e=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=e.on("tick",(()=>{var e;return null===(e=t.onTick)||void 0===e?void 0:e.call(t,this.getResult())})).on("end",(()=>{var t;return null===(t=this.resolver)||void 0===t?void 0:t.call(this,this.getResult())}))),Ri(e,this.config.simulationAttrs.map((e=>[e,t[e]]))),Object.entries(this.forceMap).forEach((([r,n])=>{const o=r;if(t[r]){let r=e.force(o);r||(r=n(),e.force(o,r)),Ri(r,Object.entries(t[o]))}else e.force(o,null)})),e}}const Ri=(t,e)=>e.reduce(((e,[r,n])=>e[r]&&void 0!==n?e[r].call(t,n):e),t);function Ii(t){return function(){return t}}function Ti(t){return 1e-6*(t()-.5)}function Pi(t){return t.index}function Ci(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}function Di(t){var e,r,n,o,i,s,a,u=Pi,c=l,h=Ii(30),d=1;function l(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function f(n){for(var i=0,u=t.length;i<d;++i)for(var c,h,l,f,g,p=0,v=0,y=0,m=0;p<u;++p)c=t[p],h=c.source,l=c.target,v=l.x+l.vx-h.x-h.vx||Ti(a),o>1&&(y=l.y+l.vy-h.y-h.vy||Ti(a)),o>2&&(m=l.z+l.vz-h.z-h.vz||Ti(a)),f=Math.sqrt(v*v+y*y+m*m),f=(f-r[p])/f*n*e[p],v*=f,y*=f,m*=f,l.vx-=v*(g=s[p]),o>1&&(l.vy-=y*g),o>2&&(l.vz-=m*g),h.vx+=v*(g=1-g),o>1&&(h.vy+=y*g),o>2&&(h.vz+=m*g)}function g(){if(n){var o,a,c=n.length,h=t.length,d=new Map(n.map(((t,e)=>[u(t,e,n),t])));for(o=0,i=new Array(c);o<h;++o)a=t[o],a.index=o,"object"!==typeof a.source&&(a.source=Ci(d,a.source)),"object"!==typeof a.target&&(a.target=Ci(d,a.target)),i[a.source.index]=(i[a.source.index]||0)+1,i[a.target.index]=(i[a.target.index]||0)+1;for(o=0,s=new Array(h);o<h;++o)a=t[o],s[o]=i[a.source.index]/(i[a.source.index]+i[a.target.index]);e=new Array(h),p(),r=new Array(h),v()}}function p(){if(n)for(var r=0,o=t.length;r<o;++r)e[r]=+c(t[r],r,t)}function v(){if(n)for(var e=0,o=t.length;e<o;++e)r[e]=+h(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,...e){n=t,a=e.find((t=>"function"===typeof t))||Math.random,o=e.find((t=>[1,2,3].includes(t)))||2,g()},f.links=function(e){return arguments.length?(t=e,g(),f):t},f.id=function(t){return arguments.length?(u=t,f):u},f.iterations=function(t){return arguments.length?(d=+t,f):d},f.strength=function(t){return arguments.length?(c="function"===typeof t?t:Ii(+t),p(),f):c},f.distance=function(t){return arguments.length?(h="function"===typeof t?t:Ii(+t),v(),f):h},f}function Li(t){const e=+this._x.call(null,t);return Fi(this.cover(e),e,t)}function Fi(t,e,r){if(isNaN(e))return t;var n,o,i,s,a,u,c=t._root,h={data:r},d=t._x0,l=t._x1;if(!c)return t._root=h,t;while(c.length)if((s=e>=(o=(d+l)/2))?d=o:l=o,n=c,!(c=c[a=+s]))return n[a]=h,t;if(i=+t._x.call(null,c.data),e===i)return h.next=c,n?n[a]=h:t._root=h,t;do{n=n?n[a]=new Array(2):t._root=new Array(2),(s=e>=(o=(d+l)/2))?d=o:l=o}while((a=+s)===(u=+(i>=o)));return n[u]=c,n[a]=h,t}function qi(t){Array.isArray(t)||(t=Array.from(t));const e=t.length,r=new Float64Array(e);let n=1/0,o=-1/0;for(let i,s=0;s<e;++s)isNaN(i=+this._x.call(null,t[s]))||(r[s]=i,i<n&&(n=i),i>o&&(o=i));if(n>o)return this;this.cover(n).cover(o);for(let i=0;i<e;++i)Fi(this,r[i],t[i]);return this}function Vi(t){if(isNaN(t=+t))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(t))+1;else{var n,o,i=r-e||1,s=this._root;while(e>t||t>=r)switch(o=+(t<e),n=new Array(2),n[o]=s,s=n,i*=2,o){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._x1=r,this}function Bi(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function Ui(t){return arguments.length?this.cover(+t[0][0]).cover(+t[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Gi(t,e,r){this.node=t,this.x0=e,this.x1=r}function $i(t,e){var r,n,o,i,s,a=this._x0,u=this._x1,c=[],h=this._root;h&&c.push(new Gi(h,a,u)),null==e?e=1/0:(a=t-e,u=t+e);while(i=c.pop())if(!(!(h=i.node)||(n=i.x0)>u||(o=i.x1)<a))if(h.length){var d=(n+o)/2;c.push(new Gi(h[1],d,o),new Gi(h[0],n,d)),(s=+(t>=d))&&(i=c[c.length-1],c[c.length-1]=c[c.length-1-s],c[c.length-1-s]=i)}else{var l=Math.abs(t-+this._x.call(null,h.data));l<e&&(e=l,a=t-l,u=t+l,r=h.data)}return r}function Wi(t){if(isNaN(i=+this._x.call(null,t)))return this;var e,r,n,o,i,s,a,u,c,h=this._root,d=this._x0,l=this._x1;if(!h)return this;if(h.length)while(1){if((a=i>=(s=(d+l)/2))?d=s:l=s,e=h,!(h=h[u=+a]))return this;if(!h.length)break;e[u+1&1]&&(r=e,c=u)}while(h.data!==t)if(n=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,n?(o?n.next=o:delete n.next,this):e?(o?e[u]=o:delete e[u],(h=e[0]||e[1])&&h===(e[1]||e[0])&&!h.length&&(r?r[c]=h:this._root=h),this):(this._root=o,this)}function Yi(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function Hi(){return this._root}function Ki(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function Ji(t){var e,r,n,o,i=[],s=this._root;s&&i.push(new Gi(s,this._x0,this._x1));while(e=i.pop())if(!t(s=e.node,n=e.x0,o=e.x1)&&s.length){var a=(n+o)/2;(r=s[1])&&i.push(new Gi(r,a,o)),(r=s[0])&&i.push(new Gi(r,n,a))}return this}function Xi(t){var e,r=[],n=[];this._root&&r.push(new Gi(this._root,this._x0,this._x1));while(e=r.pop()){var o=e.node;if(o.length){var i,s=e.x0,a=e.x1,u=(s+a)/2;(i=o[0])&&r.push(new Gi(i,s,u)),(i=o[1])&&r.push(new Gi(i,u,a))}n.push(e)}while(e=n.pop())t(e.node,e.x0,e.x1);return this}function Qi(t){return t[0]}function Zi(t){return arguments.length?(this._x=t,this):this._x}function ts(t,e){var r=new es(null==e?Qi:e,NaN,NaN);return null==t?r:r.addAll(t)}function es(t,e,r){this._x=t,this._x0=e,this._x1=r,this._root=void 0}function rs(t){var e={data:t.data},r=e;while(t=t.next)r=r.next={data:t.data};return e}var ns=ts.prototype=es.prototype;ns.copy=function(){var t,e,r=new es(this._x,this._x0,this._x1),n=this._root;if(!n)return r;if(!n.length)return r._root=rs(n),r;t=[{source:n,target:r._root=new Array(2)}];while(n=t.pop())for(var o=0;o<2;++o)(e=n.source[o])&&(e.length?t.push({source:e,target:n.target[o]=new Array(2)}):n.target[o]=rs(e));return r},ns.add=Li,ns.addAll=qi,ns.cover=Vi,ns.data=Bi,ns.extent=Ui,ns.find=$i,ns.remove=Wi,ns.removeAll=Yi,ns.root=Hi,ns.size=Ki,ns.visit=Ji,ns.visitAfter=Xi,ns.x=Zi;const os=1664525,is=1013904223,ss=4294967296;function as(){let t=1;return()=>(t=(os*t+is)%ss)/ss}var us=3;function cs(t){return t.x}function hs(t){return t.y}function ds(t){return t.z}var ls=10,fs=Math.PI*(3-Math.sqrt(5)),gs=20*Math.PI/(9+Math.sqrt(221));function ps(t,e){e=e||2;var r,n=Math.min(us,Math.max(1,Math.round(e))),o=1,i=.001,s=1-Math.pow(i,1/300),a=0,u=.6,c=new Map,h=ui(f),d=Ko("tick","end"),l=as();function f(){g(),d.call("tick",r),o<i&&(h.stop(),d.call("end",r))}function g(e){var i,h,d=t.length;void 0===e&&(e=1);for(var l=0;l<e;++l)for(o+=(a-o)*s,c.forEach((function(t){t(o)})),i=0;i<d;++i)h=t[i],null==h.fx?h.x+=h.vx*=u:(h.x=h.fx,h.vx=0),n>1&&(null==h.fy?h.y+=h.vy*=u:(h.y=h.fy,h.vy=0)),n>2&&(null==h.fz?h.z+=h.vz*=u:(h.z=h.fz,h.vz=0));return r}function p(){for(var e,r=0,o=t.length;r<o;++r){if(e=t[r],e.index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),null!=e.fz&&(e.z=e.fz),isNaN(e.x)||n>1&&isNaN(e.y)||n>2&&isNaN(e.z)){var i=ls*(n>2?Math.cbrt(.5+r):n>1?Math.sqrt(.5+r):r),s=r*fs,a=r*gs;1===n?e.x=i:2===n?(e.x=i*Math.cos(s),e.y=i*Math.sin(s)):(e.x=i*Math.sin(s)*Math.cos(a),e.y=i*Math.cos(s),e.z=i*Math.sin(s)*Math.sin(a))}(isNaN(e.vx)||n>1&&isNaN(e.vy)||n>2&&isNaN(e.vz))&&(e.vx=0,n>1&&(e.vy=0),n>2&&(e.vz=0))}}function v(e){return e.initialize&&e.initialize(t,l,n),e}return null==t&&(t=[]),p(),r={tick:g,restart:function(){return h.restart(f),r},stop:function(){return h.stop(),r},numDimensions:function(t){return arguments.length?(n=Math.min(us,Math.max(1,Math.round(t))),c.forEach(v),r):n},nodes:function(e){return arguments.length?(t=e,p(),c.forEach(v),r):t},alpha:function(t){return arguments.length?(o=+t,r):o},alphaMin:function(t){return arguments.length?(i=+t,r):i},alphaDecay:function(t){return arguments.length?(s=+t,r):+s},alphaTarget:function(t){return arguments.length?(a=+t,r):a},velocityDecay:function(t){return arguments.length?(u=1-t,r):1-u},randomSource:function(t){return arguments.length?(l=t,c.forEach(v),r):l},force:function(t,e){return arguments.length>1?(null==e?c.delete(t):c.set(t,v(e)),r):c.get(t)},find:function(){var e,r,o,i,s,a,u=Array.prototype.slice.call(arguments),c=u.shift()||0,h=(n>1?u.shift():null)||0,d=(n>2?u.shift():null)||0,l=u.shift()||1/0,f=0,g=t.length;for(l*=l,f=0;f<g;++f)s=t[f],e=c-s.x,r=h-(s.y||0),o=d-(s.z||0),i=e*e+r*r+o*o,i<l&&(a=s,l=i);return a},on:function(t,e){return arguments.length>1?(d.on(t,e),r):d.on(t)}}}function vs(){var t,e,r,n,o,i,s=Ii(-30),a=1,u=1/0,c=.81;function h(n){var i,s=t.length,a=(1===e?ts(t,cs):2===e?ln(t,cs,hs):3===e?Ln(t,cs,hs,ds):null).visitAfter(l);for(o=n,i=0;i<s;++i)r=t[i],a.visit(f)}function d(){if(t){var e,r,n=t.length;for(i=new Array(n),e=0;e<n;++e)r=t[e],i[r.index]=+s(r,e,t)}}function l(t){var r,n,o,s,a,u,c=0,h=0,d=t.length;if(d){for(o=s=a=u=0;u<d;++u)(r=t[u])&&(n=Math.abs(r.value))&&(c+=r.value,h+=n,o+=n*(r.x||0),s+=n*(r.y||0),a+=n*(r.z||0));c*=Math.sqrt(4/d),t.x=o/h,e>1&&(t.y=s/h),e>2&&(t.z=a/h)}else{r=t,r.x=r.data.x,e>1&&(r.y=r.data.y),e>2&&(r.z=r.data.z);do{c+=i[r.data.index]}while(r=r.next)}t.value=c}function f(t,s,h,d,l){if(!t.value)return!0;var f=[h,d,l][e-1],g=t.x-r.x,p=e>1?t.y-r.y:0,v=e>2?t.z-r.z:0,y=f-s,m=g*g+p*p+v*v;if(y*y/c<m)return m<u&&(0===g&&(g=Ti(n),m+=g*g),e>1&&0===p&&(p=Ti(n),m+=p*p),e>2&&0===v&&(v=Ti(n),m+=v*v),m<a&&(m=Math.sqrt(a*m)),r.vx+=g*t.value*o/m,e>1&&(r.vy+=p*t.value*o/m),e>2&&(r.vz+=v*t.value*o/m)),!0;if(!(t.length||m>=u)){(t.data!==r||t.next)&&(0===g&&(g=Ti(n),m+=g*g),e>1&&0===p&&(p=Ti(n),m+=p*p),e>2&&0===v&&(v=Ti(n),m+=v*v),m<a&&(m=Math.sqrt(a*m)));do{t.data!==r&&(y=i[t.data.index]*o/m,r.vx+=g*y,e>1&&(r.vy+=p*y),e>2&&(r.vz+=v*y))}while(t=t.next)}}return h.initialize=function(r,...o){t=r,n=o.find((t=>"function"===typeof t))||Math.random,e=o.find((t=>[1,2,3].includes(t)))||2,d()},h.strength=function(t){return arguments.length?(s="function"===typeof t?t:Ii(+t),d(),h):s},h.distanceMin=function(t){return arguments.length?(a=t*t,h):Math.sqrt(a)},h.distanceMax=function(t){return arguments.length?(u=t*t,h):Math.sqrt(u)},h.theta=function(t){return arguments.length?(c=t*t,h):Math.sqrt(c)},h}function ys(t,e,r){var n,o=1;function i(){var i,s,a=n.length,u=0,c=0,h=0;for(i=0;i<a;++i)s=n[i],u+=s.x||0,c+=s.y||0,h+=s.z||0;for(u=(u/a-t)*o,c=(c/a-e)*o,h=(h/a-r)*o,i=0;i<a;++i)s=n[i],u&&(s.x-=u),c&&(s.y-=c),h&&(s.z-=h)}return null==t&&(t=0),null==e&&(e=0),null==r&&(r=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.z=function(t){return arguments.length?(r=+t,i):r},i.strength=function(t){return arguments.length?(o=+t,i):o},i}function ms(t){return t.x+t.vx}function ws(t){return t.y+t.vy}function xs(t){return t.z+t.vz}function bs(t){var e,r,n,o,i=1,s=1;function a(){for(var t,a,c,h,d,l,f,g,p=e.length,v=0;v<s;++v)for(a=(1===r?ts(e,ms):2===r?ln(e,ms,ws):3===r?Ln(e,ms,ws,xs):null).visitAfter(u),t=0;t<p;++t)c=e[t],f=n[c.index],g=f*f,h=c.x+c.vx,r>1&&(d=c.y+c.vy),r>2&&(l=c.z+c.vz),a.visit(y);function y(t,e,n,s,a,u,p){var v=[e,n,s,a,u,p],y=v[0],m=v[1],w=v[2],x=v[r],b=v[r+1],E=v[r+2],N=t.data,M=t.r,_=f+M;if(!N)return y>h+_||x<h-_||r>1&&(m>d+_||b<d-_)||r>2&&(w>l+_||E<l-_);if(N.index>c.index){var A=h-N.x-N.vx,k=r>1?d-N.y-N.vy:0,S=r>2?l-N.z-N.vz:0,O=A*A+k*k+S*S;O<_*_&&(0===A&&(A=Ti(o),O+=A*A),r>1&&0===k&&(k=Ti(o),O+=k*k),r>2&&0===S&&(S=Ti(o),O+=S*S),O=(_-(O=Math.sqrt(O)))/O*i,c.vx+=(A*=O)*(_=(M*=M)/(g+M)),r>1&&(c.vy+=(k*=O)*_),r>2&&(c.vz+=(S*=O)*_),N.vx-=A*(_=1-_),r>1&&(N.vy-=k*_),r>2&&(N.vz-=S*_))}}}function u(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<Math.pow(2,r);++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function c(){if(e){var r,o,i=e.length;for(n=new Array(i),r=0;r<i;++r)o=e[r],n[o.index]=+t(o,r,e)}}return"function"!==typeof t&&(t=Ii(null==t?1:+t)),a.initialize=function(t,...n){e=t,o=n.find((t=>"function"===typeof t))||Math.random,r=n.find((t=>[1,2,3].includes(t)))||2,c()},a.iterations=function(t){return arguments.length?(s=+t,a):s},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:Ii(+e),c(),a):t},a}function Es(t,e,r,n){var o,i,s,a,u=Ii(.1);function c(t){for(var u=0,c=o.length;u<c;++u){var h=o[u],d=h.x-e||1e-6,l=(h.y||0)-r||1e-6,f=(h.z||0)-n||1e-6,g=Math.sqrt(d*d+l*l+f*f),p=(a[u]-g)*s[u]*t/g;h.vx+=d*p,i>1&&(h.vy+=l*p),i>2&&(h.vz+=f*p)}}function h(){if(o){var e,r=o.length;for(s=new Array(r),a=new Array(r),e=0;e<r;++e)a[e]=+t(o[e],e,o),s[e]=isNaN(a[e])?0:+u(o[e],e,o)}}return"function"!==typeof t&&(t=Ii(+t)),null==e&&(e=0),null==r&&(r=0),null==n&&(n=0),c.initialize=function(t,...e){o=t,i=e.find((t=>[1,2,3].includes(t)))||2,h()},c.strength=function(t){return arguments.length?(u="function"===typeof t?t:Ii(+t),h(),c):u},c.radius=function(e){return arguments.length?(t="function"===typeof e?e:Ii(+e),h(),c):t},c.x=function(t){return arguments.length?(e=+t,c):e},c.y=function(t){return arguments.length?(r=+t,c):r},c.z=function(t){return arguments.length?(n=+t,c):n},c}function Ns(t){var e,r,n,o=Ii(.1);function i(t){for(var o,i=0,s=e.length;i<s;++i)o=e[i],o.vx+=(n[i]-o.x)*r[i]*t}function s(){if(e){var i,s=e.length;for(r=new Array(s),n=new Array(s),i=0;i<s;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!==typeof t&&(t=Ii(null==t?0:+t)),i.initialize=function(t){e=t,s()},i.strength=function(t){return arguments.length?(o="function"===typeof t?t:Ii(+t),s(),i):o},i.x=function(e){return arguments.length?(t="function"===typeof e?e:Ii(+e),s(),i):t},i}function Ms(t){var e,r,n,o=Ii(.1);function i(t){for(var o,i=0,s=e.length;i<s;++i)o=e[i],o.vy+=(n[i]-o.y)*r[i]*t}function s(){if(e){var i,s=e.length;for(r=new Array(s),n=new Array(s),i=0;i<s;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!==typeof t&&(t=Ii(null==t?0:+t)),i.initialize=function(t){e=t,s()},i.strength=function(t){return arguments.length?(o="function"===typeof t?t:Ii(+t),s(),i):o},i.y=function(e){return arguments.length?(t="function"===typeof e?e:Ii(+e),s(),i):t},i}function _s(t){var e,r,n,o=Ii(.1);function i(t){for(var o,i=0,s=e.length;i<s;++i)o=e[i],o.vz+=(n[i]-o.z)*r[i]*t}function s(){if(e){var i,s=e.length;for(r=new Array(s),n=new Array(s),i=0;i<s;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!==typeof t&&(t=Ii(null==t?0:+t)),i.initialize=function(t){e=t,s()},i.strength=function(t){return arguments.length?(o="function"===typeof t?t:Ii(+t),s(),i):o},i.z=function(e){return arguments.length?(t="function"===typeof e?e:Ii(+e),s(),i):t},i}class As extends zi{constructor(){super(...arguments),this.id="d3-force-3d",this.config={inputNodeAttrs:["x","y","z","vx","vy","vz","fx","fy","fz"],outputNodeAttrs:["x","y","z","vx","vy","vz"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource","numDimensions"]},this.forceMap={link:Di,manyBody:vs,center:ys,collide:bs,radial:Es,x:Ns,y:Ms,z:_s},this.options={numDimensions:3,link:{id:t=>t.id},manyBody:{},center:{x:0,y:0,z:0}}}initSimulation(){return ps()}}var ks=r(92119),Ss=r.n(ks);class Os{constructor(t){this.id="dagre",this.options={},Object.assign(this.options,Os.defaultOptions,t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericDagreLayout(!1,t,Object.assign(Object.assign({},this.options),r))}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericDagreLayout(!0,t,Object.assign(Object.assign({},this.options),r))}))}genericDagreLayout(r,n,o){return e(this,void 0,void 0,(function*(){const{nodeSize:e}=o,i=new ks.graphlib.Graph;i.setGraph(o),i.setDefaultEdgeLabel((()=>({})));const s=n.getAllNodes(),a=n.getAllEdges();[...s,...a].some((({id:t})=>$(t)))&&console.error("Dagre layout only support string id, it will convert number to string."),n.getAllNodes().forEach((t=>{const{id:r}=t,n=Object.assign({},t.data);if(void 0!==e){const[r,o]=Sr(Ar(e)?e(t):e);Object.assign(n,{width:r,height:o})}i.setNode(r.toString(),n)})),n.getAllEdges().forEach((({id:t,source:e,target:r})=>{i.setEdge(e.toString(),r.toString(),{id:t})})),Ss().layout(i);const u={nodes:[],edges:[]};return i.nodes().forEach((t=>{const e=i.node(t);u.nodes.push({id:t,data:e}),r&&n.mergeNodeData(t,e)})),i.edges().forEach((e=>{const o=i.edge(e),{id:s}=o,a=t(o,["id"]),{v:c,w:h}=e;u.edges.push({id:s,source:c,target:h,data:a}),r&&n.mergeEdgeData(s,a)})),u}))}}Os.defaultOptions={};class js{constructor(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}distanceTo(t){const e=this.rx-t.rx,r=this.ry-t.ry;return Math.hypot(e,r)}setPos(t,e){this.rx=t,this.ry=e}resetForce(){this.fx=0,this.fy=0}addForce(t){const e=t.rx-this.rx,r=t.ry-this.ry;let n=Math.hypot(e,r);n=n<1e-4?1e-4:n;const o=this.g*(this.degree+1)*(t.degree+1)/n;this.fx+=o*e/n,this.fy+=o*r/n}in(t){return t.contains(this.rx,this.ry)}add(t){const e=this.mass+t.mass,r=(this.rx*this.mass+t.rx*t.mass)/e,n=(this.ry*this.mass+t.ry*t.mass)/e,o=this.degree+t.degree,i={rx:r,ry:n,mass:e,degree:o};return new js(i)}}class zs{constructor(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}getLength(){return this.length}contains(t,e){const r=this.length/2;return t<=this.xmid+r&&t>=this.xmid-r&&e<=this.ymid+r&&e>=this.ymid-r}NW(){const t=this.xmid-this.length/4,e=this.ymid+this.length/4,r=this.length/2,n={xmid:t,ymid:e,length:r},o=new zs(n);return o}NE(){const t=this.xmid+this.length/4,e=this.ymid+this.length/4,r=this.length/2,n={xmid:t,ymid:e,length:r},o=new zs(n);return o}SW(){const t=this.xmid-this.length/4,e=this.ymid-this.length/4,r=this.length/2,n={xmid:t,ymid:e,length:r},o=new zs(n);return o}SE(){const t=this.xmid+this.length/4,e=this.ymid-this.length/4,r=this.length/2,n={xmid:t,ymid:e,length:r},o=new zs(n);return o}}class Rs{constructor(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=t&&(this.quad=t)}insert(t){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new Rs(this.quad.NW()),this.NE=new Rs(this.quad.NE()),this.SW=new Rs(this.quad.SW()),this.SE=new Rs(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t}_putBody(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}_isExternal(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE}updateForce(t){if(null!=this.body&&t!==this.body)if(this._isExternal())t.addForce(this.body);else{const e=this.quad?this.quad.getLength():0,r=this.body.distanceTo(t);e/r<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}const Is={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};class Ts{constructor(t={}){this.options=t,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},Is),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericForceAtlas2Layout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericForceAtlas2Layout(!0,t,r)}))}genericForceAtlas2Layout(t,r,n){return e(this,void 0,void 0,(function*(){const e=r.getAllEdges(),o=r.getAllNodes(),i=this.formatOptions(n,o.length),{width:s,height:a,prune:u,maxIteration:c,nodeSize:h,center:d}=i;if(!(null===o||void 0===o?void 0:o.length)||1===o.length)return Dr(r,t,d);const l=o.map((t=>Ir(t,[s,a]))),f=e.filter((t=>{const{source:e,target:r}=t;return e!==r})),p=new g({nodes:l,edges:f}),v=this.getSizes(p,h);if(this.run(p,r,c,v,t,i),u){for(let t=0;t<f.length;t+=1){const{source:e,target:r}=f[t],n=p.getDegree(e),o=p.getDegree(e);if(n<=1){const t=p.getNode(r);p.mergeNodeData(e,{x:t.data.x,y:t.data.y})}else if(o<=1){const t=p.getNode(e);p.mergeNodeData(r,{x:t.data.x,y:t.data.y})}}const e=Object.assign(Object.assign({},i),{prune:!1,barnesHut:!1});this.run(p,r,100,v,t,e)}return{nodes:l,edges:e}}))}getSizes(t,e){const r=t.getAllNodes(),n={};for(let o=0;o<r.length;o+=1){const t=r[o];n[t.id]=zr(e,void 0)(t)}return n}formatOptions(t={},e){const r=Object.assign(Object.assign({},this.options),t),{center:n,width:o,height:i,barnesHut:s,prune:a,maxIteration:u,kr:c,kg:h}=r;return r.width=o||"undefined"===typeof window?o:window.innerWidth,r.height=i||"undefined"===typeof window?i:window.innerHeight,r.center=n||[r.width/2,r.height/2],void 0===s&&e>250&&(r.barnesHut=!0),void 0===a&&e>100&&(r.prune=!0),0!==u||a?0===u&&a&&(r.maxIteration=100,e<=200&&e>100?r.maxIteration=500:e>200&&(r.maxIteration=950)):(r.maxIteration=250,e<=200&&e>100?r.maxIteration=1e3:e>200&&(r.maxIteration=1200)),c||(r.kr=50,e>100&&e<=500?r.kr=20:e>500&&(r.kr=1)),h||(r.kg=20,e>100&&e<=500?r.kg=10:e>500&&(r.kg=1)),r}run(t,e,r,n,o,i){const{kr:s,barnesHut:a,onTick:u}=i,c=t.getAllNodes();let h=0,d=r;const l={},f={},g={};for(let p=0;p<c.length;p+=1){const{data:e,id:r}=c[p];if(l[r]=[0,0],a){const n={id:p,rx:e.x,ry:e.y,mass:1,g:s,degree:t.getDegree(r)};g[r]=new js(n)}}while(d>0)h=this.oneStep(t,{iter:d,preventOverlapIters:50,krPrime:100,sg:h,forces:l,preForces:f,bodies:g,sizes:n},i),d--,null===u||void 0===u||u({nodes:c,edges:e.getAllEdges()});return t}oneStep(t,e,r){const{iter:n,preventOverlapIters:o,krPrime:i,sg:s,preForces:a,bodies:u,sizes:c}=e;let{forces:h}=e;const{preventOverlap:d,barnesHut:l}=r,f=t.getAllNodes();for(let g=0;g<f.length;g+=1){const{id:t}=f[g];a[t]=[...h[t]],h[t]=[0,0]}return h=this.getAttrForces(t,n,o,c,h,r),h=l&&(d&&n>o||!d)?this.getOptRepGraForces(t,h,u,r):this.getRepGraForces(t,n,o,h,i,c,r),this.updatePos(t,h,a,s,r)}getAttrForces(t,e,r,n,o,i){const{preventOverlap:s,dissuadeHubs:a,mode:u,prune:c}=i,h=t.getAllEdges();for(let d=0;d<h.length;d+=1){const{source:i,target:l}=h[d],f=t.getNode(i),g=t.getNode(l),p=t.getDegree(i),v=t.getDegree(l);if(c&&(p<=1||v<=1))continue;const y=[g.data.x-f.data.x,g.data.y-f.data.y];let m=Math.hypot(y[0],y[1]);m=m<1e-4?1e-4:m,y[0]=y[0]/m,y[1]=y[1]/m,s&&e<r&&(m=m-n[i]-n[l]);let w=m,x=w;"linlog"===u&&(w=Math.log(1+m),x=w),a&&(w=m/p,x=m/v),s&&e<r&&m<=0?(w=0,x=0):s&&e<r&&m>0&&(w=m,x=m),o[i][0]+=w*y[0],o[l][0]-=x*y[0],o[i][1]+=w*y[1],o[l][1]-=x*y[1]}return o}getOptRepGraForces(t,e,r,n){const{kg:o,center:i,prune:s}=n,a=t.getAllNodes(),u=a.length;let c=9e10,h=-9e10,d=9e10,l=-9e10;for(let y=0;y<u;y+=1){const{id:e,data:n}=a[y];s&&t.getDegree(e)<=1||(r[e].setPos(n.x,n.y),n.x>=h&&(h=n.x),n.x<=c&&(c=n.x),n.y>=l&&(l=n.y),n.y<=d&&(d=n.y))}const f=Math.max(h-c,l-d),g={xmid:(h+c)/2,ymid:(l+d)/2,length:f,massCenter:i,mass:u},p=new zs(g),v=new Rs(p);for(let y=0;y<u;y+=1){const{id:e}=a[y];s&&t.getDegree(e)<=1||r[e].in(p)&&v.insert(r[e])}for(let y=0;y<u;y+=1){const{id:n,data:u}=a[y],c=t.getDegree(n);if(s&&c<=1)continue;r[n].resetForce(),v.updateForce(r[n]),e[n][0]-=r[n].fx,e[n][1]-=r[n].fy;const h=[u.x-i[0],u.y-i[1]];let d=Math.hypot(h[0],h[1]);d=d<1e-4?1e-4:d,h[0]=h[0]/d,h[1]=h[1]/d;const l=o*(c+1);e[n][0]-=l*h[0],e[n][1]-=l*h[1]}return e}getRepGraForces(t,e,r,n,o,i,s){const{preventOverlap:a,kr:u,kg:c,center:h,prune:d}=s,l=t.getAllNodes(),f=l.length;for(let g=0;g<f;g+=1){const s=l[g],p=t.getDegree(s.id);for(let c=g+1;c<f;c+=1){const h=l[c],f=t.getDegree(h.id);if(d&&(p<=1||f<=1))continue;const g=[h.data.x-s.data.x,h.data.y-s.data.y];let v=Math.hypot(g[0],g[1]);v=v<1e-4?1e-4:v,g[0]=g[0]/v,g[1]=g[1]/v,a&&e<r&&(v=v-i[s.id]-i[h.id]);let y=u*(p+1)*(f+1)/v;a&&e<r&&v<0?y=o*(p+1)*(f+1):a&&e<r&&0===v?y=0:a&&e<r&&v>0&&(y=u*(p+1)*(f+1)/v),n[s.id][0]-=y*g[0],n[h.id][0]+=y*g[0],n[s.id][1]-=y*g[1],n[h.id][1]+=y*g[1]}const v=[s.data.x-h[0],s.data.y-h[1]],y=Math.hypot(v[0],v[1]);v[0]=v[0]/y,v[1]=v[1]/y;const m=c*(p+1);n[s.id][0]-=m*v[0],n[s.id][1]-=m*v[1]}return n}updatePos(t,e,r,n,o){const{ks:i,tao:s,prune:a,ksmax:u}=o,c=t.getAllNodes(),h=c.length,d=[],l=[];let f=0,g=0,p=n;for(let y=0;y<h;y+=1){const{id:n}=c[y],o=t.getDegree(n);if(a&&o<=1)continue;const i=[e[n][0]-r[n][0],e[n][1]-r[n][1]],s=Math.hypot(i[0],i[1]),u=[e[n][0]+r[n][0],e[n][1]+r[n][1]],h=Math.hypot(u[0],u[1]);d[y]=s,l[y]=h/2,f+=(o+1)*d[y],g+=(o+1)*l[y]}const v=p;p=s*g/f,0!==v&&(p=p>1.5*v?1.5*v:p);for(let y=0;y<h;y+=1){const{id:r,data:n}=c[y],o=t.getDegree(r);if(a&&o<=1)continue;if($(n.fx)&&$(n.fy))continue;let s=i*p/(1+p*Math.sqrt(d[y])),h=Math.hypot(e[r][0],e[r][1]);h=h<1e-4?1e-4:h;const l=u/h;s=s>l?l:s;const f=s*e[r][0],g=s*e[r][1];t.mergeNodeData(r,{x:n.x+f,y:n.y+g})}return p}}const Ps={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"},Cs=800;class Ds{constructor(t={}){this.options=t,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},Ps),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericFruchtermanLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericFruchtermanLayout(!0,t,r)}))}stop(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval),this.running=!1}tick(t=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let r=0;r<t;r++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const e={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&e.nodes.forEach((t=>this.lastGraph.mergeNodeData(t.id,{x:t.data.x,y:t.data.y,z:3===this.options.dimensions?t.data.z:void 0}))),e}genericFruchtermanLayout(t,r,n){return e(this,void 0,void 0,(function*(){if(this.running)return;const e=this.formatOptions(n),{dimensions:o,width:i,height:s,center:a,clustering:u,nodeClusterBy:c,maxIteration:h,onTick:d}=e,l=r.getAllNodes(),f=r.getAllEdges();if(!(null===l||void 0===l?void 0:l.length)){const t={nodes:[],edges:f};return this.lastResult=t,t}if(1===l.length){t&&r.mergeNodeData(l[0].id,{x:a[0],y:a[1],z:3===o?a[2]:void 0});const e={nodes:[Object.assign(Object.assign({},l[0]),{data:Object.assign(Object.assign({},l[0].data),{x:a[0],y:a[1],z:3===o?a[2]:void 0})})],edges:f};return this.lastResult=e,e}const p=l.map((t=>Ir(t,[i,s]))),v=new g({nodes:p,edges:f}),y={};if(u&&p.forEach((t=>{const e=t.data[c];y[e]||(y[e]={name:e,cx:0,cy:0,count:0})})),this.lastLayoutNodes=p,this.lastLayoutEdges=f,this.lastAssign=t,this.lastGraph=v,this.lastOptions=e,this.lastClusterMap=y,"undefined"===typeof window)return;let m=0;return new Promise((n=>{this.timeInterval=window.setInterval((()=>{this.running?(this.runOneStep(v,y,e),t&&p.forEach((({id:t,data:e})=>r.mergeNodeData(t,{x:e.x,y:e.y,z:3===o?e.z:void 0}))),null===d||void 0===d||d({nodes:p,edges:f}),m++,m>=h&&(window.clearInterval(this.timeInterval),n({nodes:p,edges:f}))):n({nodes:p,edges:f})}),0),this.running=!0}))}))}formatOptions(t={}){const e=Object.assign(Object.assign({},this.options),t),{clustering:r,nodeClusterBy:n}=e,{center:o,width:i,height:s}=e;return e.width=i||"undefined"===typeof window?i:window.innerWidth,e.height=s||"undefined"===typeof window?s:window.innerHeight,e.center=o||[e.width/2,e.height/2],e.clustering=r&&!!n,e}runOneStep(t,e,r){const{dimensions:n,height:o,width:i,gravity:s,center:a,speed:u,clustering:c,nodeClusterBy:h,clusterGravity:d}=r,l=o*i,f=Math.sqrt(l)/10,g=t.getAllNodes(),p=l/(g.length+1),v=Math.sqrt(p),y={};if(this.applyCalculate(t,y,v,p),c){for(const r in e)e[r].cx=0,e[r].cy=0,e[r].count=0;g.forEach((t=>{const{data:r}=t,n=e[r[h]];$(r.x)&&(n.cx+=r.x),$(r.y)&&(n.cy+=r.y),n.count++}));for(const r in e)e[r].cx/=e[r].count,e[r].cy/=e[r].count;const t=d||s;g.forEach(((r,n)=>{const{id:o,data:i}=r;if(!$(i.x)||!$(i.y))return;const s=e[i[h]],a=Math.sqrt((i.x-s.cx)*(i.x-s.cx)+(i.y-s.cy)*(i.y-s.cy)),u=v*t;y[o].x-=u*(i.x-s.cx)/a,y[o].y-=u*(i.y-s.cy)/a}))}g.forEach(((t,e)=>{const{id:r,data:o}=t;if(!$(o.x)||!$(o.y))return;const i=.01*v*s;y[r].x-=i*(o.x-a[0]),y[r].y-=i*(o.y-a[1]),3===n&&(y[r].z-=i*(o.z-a[2]))})),g.forEach(((e,r)=>{const{id:o,data:i}=e;if($(i.fx)&&$(i.fy))return i.x=i.fx,i.y=i.fy,void(3===n&&(i.z=i.fz));if(!$(i.x)||!$(i.y))return;const s=Math.sqrt(y[o].x*y[o].x+y[o].y*y[o].y+(3===n?y[o].z*y[o].z:0));if(s>0){const e=Math.min(f*(u/Cs),s);t.mergeNodeData(o,{x:i.x+y[o].x/s*e,y:i.y+y[o].y/s*e,z:3===n?i.z+y[o].z/s*e:void 0})}}))}applyCalculate(t,e,r,n){this.calRepulsive(t,e,n),this.calAttractive(t,e,r)}calRepulsive(t,e,r){const n=t.getAllNodes();n.forEach((({data:t,id:o},i)=>{e[o]={x:0,y:0,z:0},n.forEach((({data:n,id:s},a)=>{if(i<=a||!$(t.x)||!$(n.x)||!$(t.y)||!$(n.y))return;let u=t.x-n.x,c=t.y-n.y,h=3===this.options.dimensions?t.z-n.z:0,d=u*u+c*c+h*h;0===d&&(d=1,u=.01,c=.01,h=.01);const l=r/d,f=u*l,g=c*l,p=h*l;e[o].x+=f,e[o].y+=g,e[s].x-=f,e[s].y-=g,3===this.options.dimensions&&(e[o].z+=p,e[s].z-=p)}))}))}calAttractive(t,e,r){const n=t.getAllEdges();n.forEach((n=>{const{source:o,target:i}=n;if(!o||!i||o===i)return;const{data:s}=t.getNode(o),{data:a}=t.getNode(i);if(!$(a.x)||!$(s.x)||!$(a.y)||!$(s.y))return;const u=a.x-s.x,c=a.y-s.y,h=3===this.options.dimensions?a.z-s.z:0,d=Math.sqrt(u*u+c*c+h*h)/r,l=u*d,f=c*d,g=h*d;e[o].x+=l,e[o].y+=f,e[i].x-=l,e[i].y-=f,3===this.options.dimensions&&(e[o].z+=g,e[i].z-=g)}))}}const Ls={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};class Fs{constructor(t={}){this.options=t,this.id="grid",this.options=Object.assign(Object.assign({},Ls),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericGridLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericGridLayout(!0,t,r)}))}genericGridLayout(t,r,n){return e(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.options),n),{begin:o=[0,0],condense:i,preventOverlapPadding:s,preventOverlap:a,rows:u,cols:c,nodeSpacing:h,nodeSize:d,width:l,height:f,position:g}=e;let{sortBy:p}=e;const v=r.getAllNodes(),y=r.getAllEdges(),m=null===v||void 0===v?void 0:v.length;if(!m||1===m)return Dr(r,t,o);const w=v.map((t=>Ir(t)));"id"===p||Ur(p)&&void 0!==w[0].data[p]||(p="degree"),"degree"===p?w.sort(((t,e)=>r.getDegree(e.id,"both")-r.getDegree(t.id,"both"))):"id"===p?w.sort(((t,e)=>$(e.id)&&$(t.id)?e.id-t.id:`${t.id}`.localeCompare(`${e.id}`))):w.sort(((t,e)=>e.data[p]-t.data[p]));const x=l||"undefined"===typeof window?l:window.innerWidth,b=f||"undefined"===typeof window?f:window.innerHeight,E=m,N={rows:u,cols:c};if(null!=u&&null!=c)N.rows=u,N.cols=c;else if(null!=u&&null==c)N.rows=u,N.cols=Math.ceil(E/N.rows);else if(null==u&&null!=c)N.cols=c,N.rows=Math.ceil(E/N.cols);else{const t=Math.sqrt(E*b/x);N.rows=Math.round(t),N.cols=Math.round(x/b*t)}if(N.rows=Math.max(N.rows,1),N.cols=Math.max(N.cols,1),N.cols*N.rows>E){const t=qs(N),e=Vs(N);(t-1)*e>=E?qs(N,t-1):(e-1)*t>=E&&Vs(N,e-1)}else while(N.cols*N.rows<E){const t=qs(N),e=Vs(N);(e+1)*t>=E?Vs(N,e+1):qs(N,t+1)}let M=i?0:x/N.cols,_=i?0:b/N.rows;if(a||h){const t=Or(10,h),e=jr(30,d,!1);w.forEach((n=>{n.data.x&&n.data.y||(n.data.x=0,n.data.y=0);const o=r.getNode(n.id),[i,a]=Sr(e(o)||30),u=void 0!==t?t(n):s,c=i+u,h=a+u;M=Math.max(M,c),_=Math.max(_,h)}))}const A={},k={row:0,col:0},S={};for(let t=0;t<w.length;t++){const e=w[t];let n;if(g&&(n=g(r.getNode(e.id))),n&&(void 0!==n.row||void 0!==n.col)){const t={row:n.row,col:n.col};if(void 0===t.col){t.col=0;while(Bs(A,t))t.col++}else if(void 0===t.row){t.row=0;while(Bs(A,t))t.row++}S[e.id]=t,Us(A,t)}$s(e,o,M,_,S,N,k,A)}const O={nodes:w,edges:y};return t&&w.forEach((t=>{r.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})})),O}))}}const qs=(t,e)=>{let r;const n=t.rows||5,o=t.cols||5;if(null==e)r=Math.min(n,o);else{const r=Math.min(n,o);r===t.rows?t.rows=e:t.cols=e}return r},Vs=(t,e)=>{let r;const n=t.rows||5,o=t.cols||5;if(null==e)r=Math.max(n,o);else{const r=Math.max(n,o);r===t.rows?t.rows=e:t.cols=e}return r},Bs=(t,e)=>t[`c-${e.row}-${e.col}`]||!1,Us=(t,e)=>t[`c-${e.row}-${e.col}`]=!0,Gs=(t,e)=>{const r=t.cols||5;e.col++,e.col>=r&&(e.col=0,e.row++)},$s=(t,e,r,n,o,i,s,a)=>{let u,c;const h=o[t.id];if(h)u=h.col*r+r/2+e[0],c=h.row*n+n/2+e[1];else{while(Bs(a,s))Gs(i,s);u=s.col*r+r/2+e[0],c=s.row*n+n/2+e[1],Us(a,s),Gs(i,s)}t.data.x=u,t.data.y=c},Ws=(t,e,r)=>{try{const r=ro.mul(ro.pow(e,2),-.5),n=r.mean("row"),o=r.mean("column"),i=r.mean();r.add(i).subRowVector(n).subColumnVector(o);const s=new no(r),a=ro.sqrt(s.diagonalMatrix).diagonal();return s.leftSingularVectors.toJSON().map((e=>ro.mul([e],[a]).toJSON()[0].splice(0,t)))}catch(n){const t=[];for(let o=0;o<e.length;o++){const e=Math.random()*r,n=Math.random()*r;t.push([e,n])}return t}},Ys=800,Hs={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},Ks=(t,e)=>{const r=Object.assign(Object.assign({},Hs),e),{positions:n,iterations:o,width:i,k:s,speed:a=100,strictRadial:u,focusIdx:c,radii:h=[],nodeSizeFunc:d}=r,l=t.getAllNodes(),f=[],g=i/10;for(let p=0;p<o;p++)n.forEach(((t,e)=>{f[e]={x:0,y:0}})),Js(l,n,f,s,h,d),Xs(n,f,a,u,c,g,i,h);return n},Js=(t,e,r,n,o,i)=>{e.forEach(((s,a)=>{r[a]={x:0,y:0},e.forEach(((e,u)=>{if(a===u)return;if(o[a]!==o[u])return;let c=s.x-e.x,h=s.y-e.y,d=Math.sqrt(c*c+h*h);if(0===d){d=1;const t=a>u?1:-1;c=.01*t,h=.01*t}if(d<i(t[a])/2+i(t[u])/2){const t=n*n/d;r[a].x+=c/d*t,r[a].y+=h/d*t}}))}))},Xs=(t,e,r,n,o,i,s,a)=>{const u=i||s/10;return n&&e.forEach(((e,r)=>{const n=t[r].x-t[o].x,i=t[r].y-t[o].y,s=Math.sqrt(n*n+i*i);let a=i/s,u=-n/s;const c=Math.sqrt(e.x*e.x+e.y*e.y);let h=Math.acos((a*e.x+u*e.y)/c);h>Math.PI/2&&(h-=Math.PI/2,a*=-1,u*=-1);const d=Math.cos(h)*c;e.x=a*d,e.y=u*d})),t.forEach(((i,s)=>{if(s===o)return;const c=Math.sqrt(e[s].x*e[s].x+e[s].y*e[s].y);if(c>0&&s!==o){const h=Math.min(u*(r/Ys),c);if(i.x+=e[s].x/c*h,i.y+=e[s].y/c*h,n){let e=i.x-t[o].x,r=i.y-t[o].y;const n=Math.sqrt(e*e+r*r);e=e/n*a[s],r=r/n*a[s],i.x=t[o].x+e,i.y=t[o].y+r}}})),t},Qs={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};class Zs{constructor(t={}){this.options=t,this.id="radial",this.options=Object.assign(Object.assign({},Qs),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericRadialLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericRadialLayout(!0,t,r)}))}genericRadialLayout(t,r,n){return e(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.options),n),{width:o,height:i,center:s,focusNode:a,unitRadius:u,nodeSize:c,nodeSpacing:h,strictRadial:d,preventOverlap:l,maxPreventOverlapIteration:f,sortBy:g,linkDistance:p=50,sortStrength:v=10,maxIteration:y=1e3}=e,m=r.getAllNodes(),w=r.getAllEdges(),x=o||"undefined"===typeof window?o:window.innerWidth,b=i||"undefined"===typeof window?i:window.innerHeight,E=s||[x/2,b/2];if(!(null===m||void 0===m?void 0:m.length)||1===m.length)return Dr(r,t,E);let N=m[0];if(Ur(a)){for(let t=0;t<m.length;t++)if(m[t].id===a){N=m[t];break}}else N=a||m[0];const M=ra(m,N.id),_=io({nodes:m,edges:w},!1),A=oo(_),k=oa(A,M);na(A,M,k+1);const S=A[M];let O=x-E[0]>E[0]?E[0]:x-E[0],j=b-E[1]>E[1]?E[1]:b-E[1];0===O&&(O=x/2),0===j&&(j=b/2);const z=Math.min(O,j),R=Math.max(...S),I=[],T=u||z/R;S.forEach(((t,e)=>{I[e]=t*T}));const P=ta(m,A,p,I,T,g,v),C=ea(P),D=Ws(p,P,p);let L,F=D.map((([t,e])=>({x:(isNaN(t)?Math.random()*p:t)-D[M][0],y:(isNaN(e)?Math.random()*p:e)-D[M][1]})));if(this.run(y,F,C,P,I,M),l){L=zr(c,h);const t={nodes:m,nodeSizeFunc:L,positions:F,radii:I,height:b,width:x,strictRadial:Boolean(d),focusIdx:M,iterations:f||200,k:F.length/4.5};F=Ks(r,t)}const q=[];F.forEach(((t,e)=>{const r=Ir(m[e]);r.data.x=t.x+E[0],r.data.y=t.y+E[1],q.push(r)})),t&&q.forEach((t=>r.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})));const V={nodes:q,edges:w};return V}))}run(t,e,r,n,o,i){for(let s=0;s<=t;s++){const a=s/t;this.oneIteration(a,e,o,n,r,i)}}oneIteration(t,e,r,n,o,i){const s=1-t;e.forEach(((a,u)=>{const c=uo(a,{x:0,y:0}),h=0===c?0:1/c;if(u===i)return;let d=0,l=0,f=0;e.forEach(((t,e)=>{if(u===e)return;const r=uo(a,t),i=0===r?0:1/r,s=n[e][u];f+=o[u][e],d+=o[u][e]*(t.x+s*(a.x-t.x)*i),l+=o[u][e]*(t.y+s*(a.y-t.y)*i)}));const g=0===r[u]?0:1/r[u];f*=s,f+=t*g*g,d*=s,d+=t*g*a.x*h,a.x=d/f,l*=s,l+=t*g*a.y*h,a.y=l/f}))}}const ta=(t,e,r,n,o,i,s)=>{if(!t)return[];const a=[];if(e){const u={};e.forEach(((e,c)=>{const h=[];e.forEach(((e,a)=>{var d,l;if(c===a)h.push(0);else if(n[c]===n[a])if("data"===i)h.push(e*(Math.abs(c-a)*s)/(n[c]/o));else if(i){let r,f;if(u[t[c].id])r=u[t[c].id];else{const e=("id"===i?t[c].id:null===(d=t[c].data)||void 0===d?void 0:d[i])||0;r=Ur(e)?e.charCodeAt(0):e,u[t[c].id]=r}if(u[t[a].id])f=u[t[a].id];else{const e=("id"===i?t[a].id:null===(l=t[a].data)||void 0===l?void 0:l[i])||0;f=Ur(e)?e.charCodeAt(0):e,u[t[a].id]=f}h.push(e*(Math.abs(r-f)*s)/(n[c]/o))}else h.push(e*r/(n[c]/o));else{const t=(r+o)/2;h.push(e*t)}})),a.push(h)}))}return a},ea=t=>{const e=t.length,r=t[0].length,n=[];for(let o=0;o<e;o++){const e=[];for(let n=0;n<r;n++)0!==t[o][n]?e.push(1/(t[o][n]*t[o][n])):e.push(0);n.push(e)}return n},ra=(t,e)=>{let r=-1;return t.forEach(((t,n)=>{t.id===e&&(r=n)})),Math.max(r,0)},na=(t,e,r)=>{const n=t.length;for(let o=0;o<n;o++)if(t[e][o]===1/0){t[e][o]=r,t[o][e]=r;for(let i=0;i<n;i++)t[o][i]!==1/0&&t[e][i]===1/0&&(t[e][i]=r+t[o][i],t[i][e]=r+t[o][i])}for(let o=0;o<n;o++)if(o!==e)for(let r=0;r<n;r++)if(t[o][r]===1/0){let n=Math.abs(t[e][o]-t[e][r]);n=0===n?1:n,t[o][r]=n}},oa=(t,e)=>{let r=0;for(let n=0;n<t[e].length;n++)t[e][n]!==1/0&&(r=t[e][n]>r?t[e][n]:r);return r},ia={center:[0,0],width:300,height:300};class sa{constructor(t={}){this.options=t,this.id="random",this.options=Object.assign(Object.assign({},ia),t)}execute(t,r){return e(this,void 0,void 0,(function*(){return this.genericRandomLayout(!1,t,r)}))}assign(t,r){return e(this,void 0,void 0,(function*(){yield this.genericRandomLayout(!0,t,r)}))}genericRandomLayout(t,r,n){return e(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.options),n),{center:o,width:i,height:s}=e,a=r.getAllNodes(),u=.9,c=i||"undefined"===typeof window?i:window.innerWidth,h=s||"undefined"===typeof window?s:window.innerHeight,d=o||[c/2,h/2],l=[];a&&a.forEach((t=>{l.push({id:t.id,data:{x:(Math.random()-.5)*u*c+d[0],y:(Math.random()-.5)*u*h+d[1]}})})),t&&l.forEach((t=>r.mergeNodeData(t.id,{x:t.data.x,y:t.data.y})));const f={nodes:l,edges:r.getAllEdges()};return f}))}}const aa={circular:Fr,concentric:Wr,mds:lo,random:sa,grid:Fs,radial:Zs,force:Kn,d3force:zi,"d3-force-3d":As,fruchterman:Ds,forceAtlas2:Ts,dagre:Os,antvDagre:Pr,comboCombined:mo};let ua;const ca={stopLayout(){(null===ua||void 0===ua?void 0:ua.stop)&&ua.stop()},calculateLayout(t,r){return e(this,void 0,void 0,(function*(){const{layout:{id:e,options:n,iterations:o},nodes:i,edges:s}=t,a=new g({nodes:i,edges:s}),u=aa[e];if(!u)throw new Error(`Unknown layout id: ${e}`);ua=new u(n);let c=yield ua.execute(a);return po(ua)&&(ua.stop(),c=ua.tick(o)),[c,r]}))}};_(ca)}()})();
//# sourceMappingURL=664.877cfed5.js.map